                                                                      Page 1
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
Command Line: C:\GHS\V800.V2014.1.7\comp_201417\ease850.exe -w -elf -b0 -I../../../../../app/common/dhd -I../../../../../app/gfx_apps/simple_draw/src -I../../../../../app/gfx_apps/simple_draw/lib -I../../../../../bsp/board//config -I../../../../../bsp/board//src/gfx -I../../../../../bsp/board//src/hmi -I../../../../../bsp/board//src/stdio -I../../../../../bsp/board/d1mx_mango/config -I../../../../../bsp/board/d1mx_mango/src -I../../../../../bsp/board/d1mx_mango/src/gfx -I../../../../../bsp/board/d1mx_mango/src/hmi -I../../../../../bsp/board/d1mx_mango/src/stdio -I../../../../../bsp/gfx/lib -I../../../../../bsp/gfx/src -I../../../../../bsp/hmi/lib -I../../../../../bsp/hmi/src -I../../../../../bsp/lib -I../../../../../bsp/stdio/lib -I../../../../../bsp/stdio/src -I../../../../../cdi/lib -I../../../../../cdi/src -I../../../../../compiler/rh850_ghs/inc -I../../../../../device/d1mx/lib -I../../../../../device/d1mx/macro_cfg -I../../../../../device/d1mx/macro_cfg/csisw -I../../../../../device/d1mx/macro_cfg/davehd -I../../../../../device/d1mx/macro_cfg/ddb -I../../../../../device/d1mx/macro_cfg/drw2d -I../../../../../device/d1mx/macro_cfg/gfxbus -I../../../../../device/d1mx/macro_cfg/gpio -I../../../../../device/d1mx/macro_cfg/hypb -I../../../../../device/d1mx/macro_cfg/hypdb -I../../../../../device/d1mx/macro_cfg/jcua -I../../../../../device/d1mx/macro_cfg/nfmabare -I../../../../../device/d1mx/macro_cfg/octa -I../../../../../device/d1mx/macro_cfg/octacdb -I../../../../../device/d1mx/macro_cfg/ostm -I../../../../../device/d1mx/macro_cfg/pbg -I../../../../../device/d1mx/macro_cfg/riic -I../../../../../device/d1mx/macro_cfg/sfcdb -I../../../../../device/d1mx/macro_cfg/sfma -I../../../../../device/d1mx/macro_cfg/spea -I../../../../../device/d1mx/macro_cfg/tauj -I../../../../../device/d1mx/macro_cfg/tick -I../../../../../device/d1mx/macro_cfg/vdce -I../../../../../device/d1mx/macro_cfg/vowe -I../../../../../device/d1mx/macro_cfg/wm -I../../../../../device/d1mx/macro_cfg/xbus -I../../../../../device/d1mx/src/dev -I../../../../../device/d1mx/src/dhd -I../../../../../device/d1mx/src/hypb -I../../../../../device/d1mx/src/jcua -I../../../../../device/d1mx/src/nfmabare -I../../../../../device/d1mx/src/octa -I../../../../../device/d1mx/src/rh850_ghs -I../../../../../device/d1mx/src/vowe -I../../../../../device/d1x_common/macro_cfg -I../../../../../device/d1x_common/macro_cfg/csisw -I../../../../../device/d1x_common/macro_cfg/davehd -I../../../../../device/d1x_common/macro_cfg/ddb -I../../../../../device/d1x_common/macro_cfg/drw2d -I../../../../../device/d1x_common/macro_cfg/gfxbus -I../../../../../device/d1x_common/macro_cfg/gpio -I../../../../../device/d1x_common/macro_cfg/hypb -I../../../../../device/d1x_common/macro_cfg/hypdb -I../../../../../device/d1x_common/macro_cfg/jcua -I../../../../../device/d1x_common/macro_cfg/nfmabare -I../../../../../device/d1x_common/macro_cfg/octa -I../../../../../device/d1x_common/macro_cfg/octacdb -I../../../../../device/d1x_common/macro_cfg/ostm -I../../../../../device/d1x_common/macro_cfg/pbg -I../../../../../device/d1x_common/macro_cfg/riic -I../../../../../device/d1x_common/macro_cfg/sfcdb -I../../../../../device/d1x_common/macro_cfg/sfma -I../../../../../device/d1x_common/macro_cfg/spea -I../../../../../device/d1x_common/macro_cfg/tauj -I../../../../../device/d1x_common/macro_cfg/tick -I../../../../../device/d1x_common/macro_cfg/vdce -I../../../../../device/d1x_common/macro_cfg/vowe -I../../../../../device/d1x_common/macro_cfg/wm -I../../../../../device/d1x_common/macro_cfg/xbus -I../../../../../device/d1x_common/src/csisw -I../../../../../device/d1x_common/src/ddb -I../../../../../device/d1x_common/src/dev -I../../../../../device/d1x_common/src/gfxbus -I../../../../../device/d1x_common/src/gpio -I../../../../../device/d1x_common/src/ostm -I../../../../../device/d1x_common/src/pbg -I../../../../../device/d1x_common/src/riic -I../../../../../device/d1x_common/src/sfma -I../../../../../device/d1x_common/src/spea -I../../../../../device/d1x_common/src/tauj -I../../../../../device/d1x_common/src/tick -I../../../../../device/d1x_common/src/vdce -I../../../../../device/d1x_common/src/wm -I../../../../../device/d1x_common/src/xbus -I../../../../../device/lib -I../../../../../macro/bus/pbg/lib -I../../../../../macro/bus/pbg/src -I../../../../../macro/csi/csisw/lib -I../../../../../macro/csi/csisw/src -I../../../../../macro/drw2d/lib -I../../../../../macro/drw2d/platform/davehd -I../../../../../macro/drw2d/platform/os/no_os -I../../../../../macro/drw2d/src -I../../../../../macro/flashc/hypb/lib -I../../../../../macro/flashc/hypb/src -I../../../../../macro/flashc/hypdb/lib -I../../../../../macro/flashc/hypdb/src -I../../../../../macro/flashc/nfmabare/lib -I../../../../../macro/flashc/nfmabare/src -I../../../../../macro/flashc/octa/lib -I../../../../../macro/flashc/octa/src -I../../../../../macro/flashc/octacdb/lib -I../../../../../macro/flashc/octacdb/src -I../../../../../macro/flashc/sfcdb/lib -I../../../../../macro/flashc/sfcdb/src -I../../../../../macro/flashc/sfma/lib -I../../../../../macro/flashc/sfma/src -I../../../../../macro/gfxbus/lib -I../../../../../macro/gfxbus/src -I../../../../../macro/gfxbus/xbus/lib -I../../../../../macro/gfxbus/xbus/src -I../../../../../macro/gpio/lib -I../../../../../macro/gpio/src -I../../../../../macro/gpu/davehd/common/inc -I../../../../../macro/gpu/davehd/common/inc/platform -I../../../../../macro/gpu/davehd/common/inc/platform/d1mx -I../../../../../macro/gpu/davehd/docs -I../../../../../macro/gpu/davehd/kernel/inc -I../../../../../macro/gpu/davehd/kernel/platform/d1mx -I../../../../../macro/gpu/davehd/kernel/platform/d1mx/bridge -I../../../../../macro/gpu/davehd/kernel/platform/d1mx/non_threaded -I../../../../../macro/gpu/davehd/kernel/platform/ree -I../../../../../macro/gpu/davehd/kernel/src -I../../../../../macro/gpu/davehd/user/inc -I../../../../../macro/gpu/davehd/user/platform/d1mx/no_os -I../../../../../macro/gpu/davehd/user/src -I../../../../../macro/gpu/jcua/lib -I../../../../../macro/gpu/jcua/src -I../../../../../macro/i2c/riic/lib -I../../../../../macro/i2c/riic/src -I../../../../../macro/tick/lib -I../../../../../macro/tick/src -I../../../../../macro/timer/ostm/lib -I../../../../../macro/timer/ostm/src -I../../../../../macro/timer/tauj/lib -I../../../../../macro/timer/tauj/src -I../../../../../macro/vdce/lib -I../../../../../macro/vdce/src -I../../../../../macro/vo/ddb/lib -I../../../../../macro/vo/ddb/src -I../../../../../macro/vo/spea/lib -I../../../../../macro/vo/spea/src -I../../../../../macro/vo/vowe/lib -I../../../../../macro/vo/vowe/src -I../../../../../macro/wm/lib -I../../../../../macro/wm/src -I../../../../../macro/pwm/lib -I../../../../../macro/reset/lib -I../../../../../macro/rscan/lib -I../../../../../macro/uart/rlin3/lib -I../../../../../macro/uart/rlin3/src -I../../../../../device/d1x_common/macro_cfg/rlin3 -I../../../../../macro/stbc/lib -I../../../../../macro/adc/lib -I../../../../../device/d1x_common/macro_cfg/adc7010 -IC:\GHS\V800.V2014.1.7\comp_201417\lib\rh850_22 -cg_underscore -cpu=rh850g3m -no_v850_simd -rh850_fpsimd=none -nomacro -patch_dbo=C:\git\rh850\src\app\gfx_apps\simple_draw\target\d1mx_mango_ghs\obj\r_sys_wm_screen.dbo -source=r_sys_wm_screen.c -o .\obj\gh_0000pis1.o -list=.\obj\r_sys_wm_screen.lst C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si 
Original File: C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
Source File: r_sys_wm_screen.c
Directory: C:\git\rh850\src\app\gfx_apps\simple_draw\target\d1mx_mango_ghs
Host OS: Windows
EASE: Copyright (C) 1983-2014 Green Hills Software.  All Rights Reversed.
Release: Compiler v2014.1.7
Build Directory: [Directory] BTOWINBOX:c:/build_2014_1_bto/2014-09-04.2200-2014_1_bto/win32-comp-ecom
Revision: [VCInfo] http://toolsvc/branches/release-branch-2014-1-bto/src@515859 (built by build)
Revision Date: Fri Sep 05 14:05:06 2014

Release Date: Fri Sep 05 14:43:29 2014

                           1 --Driver Command: ccv850 -c -MD -I../../../../../app/common/dhd
                           2 --		-I../../../../../app/gfx_apps/simple_draw/src
                           3 --		-I../../../../../app/gfx_apps/simple_draw/lib
                           4 --		-I../../../../../bsp/board//config
                           5 --		-I../../../../../bsp/board//src/gfx
                           6 --		-I../../../../../bsp/board//src/hmi
                           7 --		-I../../../../../bsp/board//src/stdio
                           8 --		-I../../../../../bsp/board/d1mx_mango/config
                           9 --		-I../../../../../bsp/board/d1mx_mango/src
                          10 --		-I../../../../../bsp/board/d1mx_mango/src/gfx
                          11 --		-I../../../../../bsp/board/d1mx_mango/src/hmi
                          12 --		-I../../../../../bsp/board/d1mx_mango/src/stdio
                          13 --		-I../../../../../bsp/gfx/lib -I../../../../../bsp/gfx/src
                          14 --		-I../../../../../bsp/hmi/lib -I../../../../../bsp/hmi/src
                          15 --		-I../../../../../bsp/lib -I../../../../../bsp/stdio/lib
                          16 --		-I../../../../../bsp/stdio/src -I../../../../../cdi/lib
                          17 --		-I../../../../../cdi/src -I../../../../../compiler/rh850_ghs/inc
                          18 --		-I../../../../../device/d1mx/lib
                          19 --		-I../../../../../device/d1mx/macro_cfg
                          20 --		-I../../../../../device/d1mx/macro_cfg/csisw
                          21 --		-I../../../../../device/d1mx/macro_cfg/davehd
                          22 --		-I../../../../../device/d1mx/macro_cfg/ddb
                          23 --		-I../../../../../device/d1mx/macro_cfg/drw2d
                          24 --		-I../../../../../device/d1mx/macro_cfg/gfxbus
                          25 --		-I../../../../../device/d1mx/macro_cfg/gpio
                          26 --		-I../../../../../device/d1mx/macro_cfg/hypb
                          27 --		-I../../../../../device/d1mx/macro_cfg/hypdb
                          28 --		-I../../../../../device/d1mx/macro_cfg/jcua
                          29 --		-I../../../../../device/d1mx/macro_cfg/nfmabare
                          30 --		-I../../../../../device/d1mx/macro_cfg/octa
                          31 --		-I../../../../../device/d1mx/macro_cfg/octacdb
                          32 --		-I../../../../../device/d1mx/macro_cfg/ostm
                          33 --		-I../../../../../device/d1mx/macro_cfg/pbg
                          34 --		-I../../../../../device/d1mx/macro_cfg/riic
                          35 --		-I../../../../../device/d1mx/macro_cfg/sfcdb
                          36 --		-I../../../../../device/d1mx/macro_cfg/sfma
                          37 --		-I../../../../../device/d1mx/macro_cfg/spea
                          38 --		-I../../../../../device/d1mx/macro_cfg/tauj
                          39 --		-I../../../../../device/d1mx/macro_cfg/tick
                          40 --		-I../../../../../device/d1mx/macro_cfg/vdce
                          41 --		-I../../../../../device/d1mx/macro_cfg/vowe
                          42 --		-I../../../../../device/d1mx/macro_cfg/wm
                          43 --		-I../../../../../device/d1mx/macro_cfg/xbus
                          44 --		-I../../../../../device/d1mx/src/dev
                          45 --		-I../../../../../device/d1mx/src/dhd
                          46 --		-I../../../../../device/d1mx/src/hypb
                          47 --		-I../../../../../device/d1mx/src/jcua
                          48 --		-I../../../../../device/d1mx/src/nfmabare
                          49 --		-I../../../../../device/d1mx/src/octa
                          50 --		-I../../../../../device/d1mx/src/rh850_ghs

                                                                      Page 2
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
                          51 --		-I../../../../../device/d1mx/src/vowe
                          52 --		-I../../../../../device/d1x_common/macro_cfg
                          53 --		-I../../../../../device/d1x_common/macro_cfg/csisw
                          54 --		-I../../../../../device/d1x_common/macro_cfg/davehd
                          55 --		-I../../../../../device/d1x_common/macro_cfg/ddb
                          56 --		-I../../../../../device/d1x_common/macro_cfg/drw2d
                          57 --		-I../../../../../device/d1x_common/macro_cfg/gfxbus
                          58 --		-I../../../../../device/d1x_common/macro_cfg/gpio
                          59 --		-I../../../../../device/d1x_common/macro_cfg/hypb
                          60 --		-I../../../../../device/d1x_common/macro_cfg/hypdb
                          61 --		-I../../../../../device/d1x_common/macro_cfg/jcua
                          62 --		-I../../../../../device/d1x_common/macro_cfg/nfmabare
                          63 --		-I../../../../../device/d1x_common/macro_cfg/octa
                          64 --		-I../../../../../device/d1x_common/macro_cfg/octacdb
                          65 --		-I../../../../../device/d1x_common/macro_cfg/ostm
                          66 --		-I../../../../../device/d1x_common/macro_cfg/pbg
                          67 --		-I../../../../../device/d1x_common/macro_cfg/riic
                          68 --		-I../../../../../device/d1x_common/macro_cfg/sfcdb
                          69 --		-I../../../../../device/d1x_common/macro_cfg/sfma
                          70 --		-I../../../../../device/d1x_common/macro_cfg/spea
                          71 --		-I../../../../../device/d1x_common/macro_cfg/tauj
                          72 --		-I../../../../../device/d1x_common/macro_cfg/tick
                          73 --		-I../../../../../device/d1x_common/macro_cfg/vdce
                          74 --		-I../../../../../device/d1x_common/macro_cfg/vowe
                          75 --		-I../../../../../device/d1x_common/macro_cfg/wm
                          76 --		-I../../../../../device/d1x_common/macro_cfg/xbus
                          77 --		-I../../../../../device/d1x_common/src/csisw
                          78 --		-I../../../../../device/d1x_common/src/ddb
                          79 --		-I../../../../../device/d1x_common/src/dev
                          80 --		-I../../../../../device/d1x_common/src/gfxbus
                          81 --		-I../../../../../device/d1x_common/src/gpio
                          82 --		-I../../../../../device/d1x_common/src/ostm
                          83 --		-I../../../../../device/d1x_common/src/pbg
                          84 --		-I../../../../../device/d1x_common/src/riic
                          85 --		-I../../../../../device/d1x_common/src/sfma
                          86 --		-I../../../../../device/d1x_common/src/spea
                          87 --		-I../../../../../device/d1x_common/src/tauj
                          88 --		-I../../../../../device/d1x_common/src/tick
                          89 --		-I../../../../../device/d1x_common/src/vdce
                          90 --		-I../../../../../device/d1x_common/src/wm
                          91 --		-I../../../../../device/d1x_common/src/xbus
                          92 --		-I../../../../../device/lib -I../../../../../macro/bus/pbg/lib
                          93 --		-I../../../../../macro/bus/pbg/src
                          94 --		-I../../../../../macro/csi/csisw/lib
                          95 --		-I../../../../../macro/csi/csisw/src
                          96 --		-I../../../../../macro/drw2d/lib
                          97 --		-I../../../../../macro/drw2d/platform/davehd
                          98 --		-I../../../../../macro/drw2d/platform/os/no_os
                          99 --		-I../../../../../macro/drw2d/src
                         100 --		-I../../../../../macro/flashc/hypb/lib
                         101 --		-I../../../../../macro/flashc/hypb/src
                         102 --		-I../../../../../macro/flashc/hypdb/lib
                         103 --		-I../../../../../macro/flashc/hypdb/src
                         104 --		-I../../../../../macro/flashc/nfmabare/lib
                         105 --		-I../../../../../macro/flashc/nfmabare/src
                         106 --		-I../../../../../macro/flashc/octa/lib
                         107 --		-I../../../../../macro/flashc/octa/src
                         108 --		-I../../../../../macro/flashc/octacdb/lib
                         109 --		-I../../../../../macro/flashc/octacdb/src
                         110 --		-I../../../../../macro/flashc/sfcdb/lib
                         111 --		-I../../../../../macro/flashc/sfcdb/src

                                                                      Page 3
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
                         112 --		-I../../../../../macro/flashc/sfma/lib
                         113 --		-I../../../../../macro/flashc/sfma/src
                         114 --		-I../../../../../macro/gfxbus/lib
                         115 --		-I../../../../../macro/gfxbus/src
                         116 --		-I../../../../../macro/gfxbus/xbus/lib
                         117 --		-I../../../../../macro/gfxbus/xbus/src
                         118 --		-I../../../../../macro/gpio/lib -I../../../../../macro/gpio/src
                         119 --		-I../../../../../macro/gpu/davehd/common/inc
                         120 --		-I../../../../../macro/gpu/davehd/common/inc/platform
                         121 --		-I../../../../../macro/gpu/davehd/common/inc/platform/d1mx
                         122 --		-I../../../../../macro/gpu/davehd/docs
                         123 --		-I../../../../../macro/gpu/davehd/kernel/inc
                         124 --		-I../../../../../macro/gpu/davehd/kernel/platform/d1mx
                         125 --		-I../../../../../macro/gpu/davehd/kernel/platform/d1mx/bridge
                         126 --		-I../../../../../macro/gpu/davehd/kernel/platform/d1mx/non_threaded
                         127 --		-I../../../../../macro/gpu/davehd/kernel/platform/ree
                         128 --		-I../../../../../macro/gpu/davehd/kernel/src
                         129 --		-I../../../../../macro/gpu/davehd/user/inc
                         130 --		-I../../../../../macro/gpu/davehd/user/platform/d1mx/no_os
                         131 --		-I../../../../../macro/gpu/davehd/user/src
                         132 --		-I../../../../../macro/gpu/jcua/lib
                         133 --		-I../../../../../macro/gpu/jcua/src
                         134 --		-I../../../../../macro/i2c/riic/lib
                         135 --		-I../../../../../macro/i2c/riic/src
                         136 --		-I../../../../../macro/tick/lib -I../../../../../macro/tick/src
                         137 --		-I../../../../../macro/timer/ostm/lib
                         138 --		-I../../../../../macro/timer/ostm/src
                         139 --		-I../../../../../macro/timer/tauj/lib
                         140 --		-I../../../../../macro/timer/tauj/src
                         141 --		-I../../../../../macro/vdce/lib -I../../../../../macro/vdce/src
                         142 --		-I../../../../../macro/vo/ddb/lib
                         143 --		-I../../../../../macro/vo/ddb/src
                         144 --		-I../../../../../macro/vo/spea/lib
                         145 --		-I../../../../../macro/vo/spea/src
                         146 --		-I../../../../../macro/vo/vowe/lib
                         147 --		-I../../../../../macro/vo/vowe/src -I../../../../../macro/wm/lib
                         148 --		-I../../../../../macro/wm/src -I../../../../../macro/pwm/lib
                         149 --		-I../../../../../macro/i2c/riic/lib
                         150 --		-I../../../../../macro/reset/lib -I../../../../../macro/rscan/lib
                         151 --		-I../../../../../macro/uart/rlin3/lib
                         152 --		-I../../../../../macro/uart/rlin3/src
                         153 --		-I../../../../../device/d1x_common/macro_cfg/rlin3
                         154 --		-I../../../../../macro/stbc/lib
                         155 --		-I../../../../../app/gfx_apps/simple_draw/lib
                         156 --		-I../../../../../macro/adc/lib
                         157 --		-I../../../../../device/d1x_common/macro_cfg/adc7010 -G
                         158 --		--no_commons --no_implicit_include --prototype_errors
                         159 --		-DRENESAS_D1X -DR_DRW2D_OS_NO_OS -DR_DRW2D_SYS_DHD
                         160 --		-DUSED_CPU=RH850G3M -DUSE_BSP_GFX -DUSE_BSP_HMI -DUSE_BSP_STDIO
                         161 --		-DUSE_CDI -DUSE_CSISW -DUSE_DAVEHD -DUSE_DDB -DUSE_DRW2D
                         162 --		-DUSE_GFXBUS -DUSE_GPIO -DUSE_HYPB -DUSE_HYPDB -DUSE_JCUA
                         163 --		-DUSE_NFMABARE -DUSE_OCTA -DUSE_OCTACDB -DUSE_OSTM -DUSE_PBG
                         164 --		-DUSE_RIIC -DUSE_SFCDB -DUSE_SFMA -DUSE_SPEA -DUSE_TAUJ
                         165 --		-DUSE_TICK -DUSE_VDCE -DUSE_WM -DUSE_XBUS -DMAG -MD -Zuse1bit
                         166 --		-allocate_ep -cpu=rh850g3m -large_sda -list -no_callt -notda
                         167 --		-passsource -preprocess_assembly_files -registermode=22
                         168 --		-reserve_r2 --diag_warning 1 -object_dir=./obj -DUSE_VDCE_OPENLDI
                         169 --		-gnu99 -filetype.c
                         170 --		..\..\..\..\..\device\d1x_common\src\wm\r_sys_wm_screen.c -o
                         171 --		.\obj\r_sys_wm_screen.o
                         172 --Source File:   ..\..\..\..\..\device\d1x_common\src\wm\r_sys_wm_screen.c

                                                                      Page 4
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
                         173 --Directory:     
                         174 --		C:\git\rh850\src\app\gfx_apps\simple_draw\target\d1mx_mango_ghs
                         175 --Compile Date:  Tue Oct 16 19:48:56 2018
                         176 --Host OS:       Win32
                         177 --Version:       C-RH850 2014.1.7 RELEASE VERSION
                         178 --Release:       Compiler v2014.1.7
                         179 --Revision Date: Fri Sep 05 14:10:46 2014
                         180 --Release Date:  Fri Sep 05 14:44:23 2014
                         181 -- ecom  -g -w
                         182 
                         183 --1: /*
                         184 --2: ****************************************************************************
                         185 --3: PROJECT : WM
                         186 --4: FILE    : $Id: r_sys_wm.c 8106 2016-03-24 15:02:00Z florian.zimmermann $
                         187 --5: ============================================================================ 
                         188 --6: DESCRIPTION
                         189 --7: WM system functions for D1x
                         190 --8: ============================================================================
                         191 --9:                             C O P Y R I G H T
                         192 --10: ============================================================================
                         193 --11:                        Copyright (c) 2013 - 2016
                         194 --12:                                   by 
                         195 --13:                    Renesas Electronics (Europe) GmbH. 
                         196 --14:                            Arcadiastrasse 10
                         197 --15:                           D-40472 Duesseldorf
                         198 --16:                                Germany
                         199 --17:                           All rights reserved.
                         200 --18: ============================================================================
                         201 --19: Purpose: only for testing, not for mass production
                         202 --21: DISCLAIMER
                         203 --23: LICENSEE has read, understood and accepted the terms and conditions defined in
                         204 --24: the license agreement, especially the usage rights. In any case, it is
                         205 --25: LICENSEE's responsibility to make sure that any user of the software complies
                         206 --26: with the terms and conditions of the signed license agreement.
                         207 --27: ****************************************************************************
                         208 --28: */
                         209 --30: /***********************************************************
                         210 --31:   Title: D1Mx and D1Lx WM SYS API implementation  
                         211 --32: */
                         212 --34: /***********************************************************
                         213 --35:   Section: Includes
                         214 --36: */
                         215 --38: #include "r_typedefs.h"
                         216 --39: #include "r_cdi_api.h"
                         217 --41: #include "r_ddb_api.h"      /* display database with display timings */
                         218 --42: #include "r_vdce_api.h"
                         219 --43: #include "r_spea_api.h"
                         220 --45: #include "r_config_wm.h"
                         221 --46: #include "r_wm_api.h"
                         222 --47: #include "r_wm_sys.h"
                         223 --48: #include "r_sys_wm.h"
                         224 --50: #include "r_dev_pin_types.h"
                         225 --51: #include "r_dev_api.h"
                         226 --53: #if defined R_WM_MSQ_DEQUEUE_PROFILING || defined R_WM_MSQ_ENQUEUE_PROFILING
                         227 --54: #include "r_profile.h"
                         228 --55: #endif
                         229 --57: #ifdef R_WM_SYS_ERROR_TRACKING
                         230 --58:     #include "r_bsp_stdio_api.h"
                         231 --59: #endif
                         232 --61: /***********************************************************
                         233 --62:   Section: Local Defines

                                                                      Page 5
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
                         234 --63: */
                         235 --66: /***********************************************************
                         236 --67:   Section: Global Variables
                         237 --68: */
                         238 --70: /***********************************************************
                         239 --71:   Variable : r_wm_DevSys
                         240 --72:   
                         241 --73:   Sys layer device object.
                         242 --74: */
                         243 --75: extern r_wm_DevSys_t r_wm_DevSys[R_WM_DEV_NUM];
                         244 --77: /***********************************************************
                         245 --78:   Section: Local Function Declarations
                         246 --79: */
                         247 --82: static float32_t loc_floorf( float32_t x );
                         248 --83: static int32_t   loc_iroundf( float32_t f );
                         249 --84: static float32_t loc_minf( float32_t a, float32_t b );
                         250 --85: static float32_t loc_maxf( float32_t a, float32_t b );
                         251 --86: static float32_t loc_log2( float32_t i );
                         252 --87: static float32_t loc_pow2( float32_t i );
                         253 --88: static float32_t loc_powf( float32_t a, float32_t b );
                         254 --91: static uint32_t loc_fitCurveForVdce( uint16_t *InValue, float32_t  *OutValue, uint32_t NumEntries,
                         255 --92:                                      r_vdce_GammaCorrect_t *FittedCurve );
                         256 --93: static uint32_t loc_getGammaCurve( uint32_t Unit, uint8_t Gamma, r_vdce_GammaCorrect_t *Curve );
                         257 --97: /***********************************************************
                         258 --98:   Section: Local Variables
                         259 --99: */
                         260 --102: /***********************************************************
                         261 --103:   Section: Local Functions
                         262 --104: */
                         263 --106: /*
                         264 --107: The following function are a replacement for math.h to ensure, the drivers are stdlib-free.
                         265 --108: You may replace these functions by a library implementation if available.
                         266 --110: MISRA disabled due to binary fiddling with floating point variables in <loc_log2> and <loc_pow2>.
                         267 --111: */
                         268 --112: #pragma ghs startnomisra
                         269 --114: /***********************************************************
                         270 --115:   Function: loc_floorf
                         271 --116:   
                         272 --117:   You may replace this by a library implementation if available.
                         273 --118: */
                         274 --119: static float32_t loc_floorf( float32_t x )
                         275 	.text
                         276 ..bof.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen...43.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs..5BC5D028..0::
                         277 	.align	2
                         278 	.global	_loc_floorf..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.
                         279 _loc_floorf..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.:
                         280 _loc_floorf:
00000000 0608            281 	mov	r6,r1
                         282 --	    .bf
                         283 .LDW01:
                         284 --120: {
                         285 --121:     int64_t y = (int64_t)x;
00000002 e10f4454        286 	trncf.sl	r1,r10
00000006 0a60            287 	mov	r10,r12
00000008 0b68            288 	mov	r11,r13
                         289 --122:     if (x < 0) {
0000000a 405e8080        290 	movhi	hi(-2139095040),zero,r11
0000000e eb09            291 	cmp	r11,r1
00000010 810d*           292 	bl	.L4
                         293 --123:         y--;
                         294 --line123

                                                                      Page 6
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
                         295 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.1::
                         296 .LDWlin1:
00000012 0c50            297 	mov	r12,r10
00000014 014a            298 	mov	1,r9
00000016 a951            299 	sub	r9,r10
00000018 e06f825b        300 	sbfl	zero,r13,r11
0000001c 0a60            301 	mov	r10,r12
0000001e 0b68            302 	mov	r11,r13
                         303 .L4:
                         304 --124:     }
                         305 --125:     return y;
00000020 e1674254        306 	cvtf.ls	r12,r10
                         307 --	    .ef
                         308 .LDW11:
00000024 7f00            309 	jmp	[lp]
                         310 	.type	_loc_floorf,@function
                         311 	.size	_loc_floorf,.-_loc_floorf
                         312 	.type	_loc_floorf..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.,@function
                         313 	.size	_loc_floorf..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.,.-_loc_floorf..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.
                         314 	.align	2
                         315 .LDW21:
                         316 --_y	r12	local
                         317 
                         318 --_x	r1	param
                         319 
                         320 	.section ".bss","awb"
                         321 .L42:
                         322 	.type	.L42,@object
                         323 	.size	.L42,0
                         324 	.data
                         325 	.text
                         326 
                         327 --126: }
                         328 
                         329 --128: /***********************************************************
                         330 --129:   Function: loc_iroundf
                         331 --130:   
                         332 --131:   You may replace this by a library implementation if available.
                         333 --132: */
                         334 --133: static int32_t loc_iroundf( float32_t f )
                         335 	.align	2
                         336 	.align	2
                         337 	.global	_loc_iroundf..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.
                         338 _loc_iroundf..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.:
                         339 _loc_iroundf:
00000026 0608            340 	mov	r6,r1
                         341 --	    .bf
                         342 .LDW31:
                         343 --134: {
                         344 --135:     f += (f>0) ? 0.5f : -0.5f;
00000028 406e8000        345 	movhi	hi(8388608),zero,r13
0000002c 407600bf        346 	movhi	hi(-1090519040),zero,r14
00000030 ed09            347 	cmp	r13,r1
00000032 406e003f        348 	movhi	hi(1056964608),zero,r13
00000036 ee6f2c73        349 	cmovlt	r14,r13,r14
0000003a ee0f600c        350 	addf.s	r14,r1,r1
                         351 --136:     return (int32_t)f;
0000003e e10f4074        352 	trncf.sw	r1,r14
00000042 0e50            353 	mov	r14,r10
                         354 --	    .ef
                         355 .LDW41:

                                                                      Page 7
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
00000044 7f00            356 	jmp	[lp]
                         357 	.type	_loc_iroundf,@function
                         358 	.size	_loc_iroundf,.-_loc_iroundf
                         359 	.type	_loc_iroundf..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.,@function
                         360 	.size	_loc_iroundf..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.,.-_loc_iroundf..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.
                         361 	.align	2
                         362 .LDW51:
                         363 
                         364 --_f	r1	param
                         365 
                         366 	.section ".bss","awb"
                         367 .L106:
                         368 	.type	.L106,@object
                         369 	.size	.L106,0
                         370 	.data
                         371 	.text
                         372 
                         373 --137: }
                         374 
                         375 --140: /*******************************************************************************
                         376 --141:   Function: minf
                         377 --143:   Return the minimum of the two supplied integer values
                         378 --145:   You may replace this by a library implementation if available.
                         379 --147:   Parameters:
                         380 --148:   a,b  - Values to be compared
                         381 --149:   
                         382 --150:   Returns:
                         383 --151:   int32_t
                         384 --152: */
                         385 --153: static float32_t loc_minf( float32_t a, float32_t b )
                         386 	.align	2
                         387 	.align	2
                         388 	.global	_loc_minf..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.
                         389 _loc_minf..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.:
                         390 _loc_minf:
00000046 0608            391 	mov	r6,r1
00000048 0770            392 	mov	r7,r14
                         393 --	    .bf
                         394 .LDW61:
                         395 --154: {
                         396 --155:     return ( a < b ) ? a : b;
0000004a e1776a54        397 	minf.s	r1,r14,r10
                         398 --	    .ef
                         399 .LDW71:
0000004e 7f00            400 	jmp	[lp]
                         401 	.type	_loc_minf,@function
                         402 	.size	_loc_minf,.-_loc_minf
                         403 	.type	_loc_minf..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.,@function
                         404 	.size	_loc_minf..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.,.-_loc_minf..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.
                         405 	.align	2
                         406 .LDW81:
                         407 
                         408 --_a	r1	param
                         409 --_b	r14	param
                         410 
                         411 	.section ".bss","awb"
                         412 .L142:
                         413 	.type	.L142,@object
                         414 	.size	.L142,0
                         415 	.data
                         416 	.text

                                                                      Page 8
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
                         417 
                         418 --156: }
                         419 
                         420 --158: /***********************************************************
                         421 --159:   Function: loc_maxf
                         422 --160:   
                         423 --161:   You may replace this by a library implementation if available.
                         424 --162: */
                         425 --163: static float32_t loc_maxf( float32_t a, float32_t b )
                         426 	.align	2
                         427 	.align	2
                         428 	.global	_loc_maxf..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.
                         429 _loc_maxf..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.:
                         430 _loc_maxf:
00000050 0608            431 	mov	r6,r1
00000052 0770            432 	mov	r7,r14
                         433 --	    .bf
                         434 .LDW91:
                         435 --164: {
                         436 --165:     return ( a > b ) ? a : b;
00000054 e1776854        437 	maxf.s	r1,r14,r10
                         438 --	    .ef
                         439 .LDW02:
00000058 7f00            440 	jmp	[lp]
                         441 	.type	_loc_maxf,@function
                         442 	.size	_loc_maxf,.-_loc_maxf
                         443 	.type	_loc_maxf..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.,@function
                         444 	.size	_loc_maxf..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.,.-_loc_maxf..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.
                         445 	.align	2
                         446 .LDW12:
                         447 
                         448 --_a	r1	param
                         449 --_b	r14	param
                         450 
                         451 	.section ".bss","awb"
                         452 .L174:
                         453 	.type	.L174,@object
                         454 	.size	.L174,0
                         455 	.data
                         456 	.text
                         457 
                         458 --166: }
                         459 
                         460 --168: typedef union intfloat32_tag
                         461 --169: {
                         462 --170: 	float32_t fVal;
                         463 --171: 	uint32_t  i32Val;
                         464 --173: } intfloat32_t;
                         465 --175: /***********************************************************
                         466 --176:   Function: loc_log2
                         467 --177:   
                         468 --178:   Needed by <loc_powf>.
                         469 --179: */
                         470 --180: static float32_t loc_log2( float32_t i )
                         471 	.align	2
                         472 	.align	2
                         473 	.global	_loc_log2..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.
                         474 _loc_log2..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.:
                         475 _loc_log2:
0000005a 8207e170        476 	prepare	{r25,r26,r27,r28,r29,r31},1
0000005e 06c8            477 	mov	r6,r25

                                                                      Page 9
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
00000060 40de0034        478 	movhi	hi(872415232),zero,r27
00000064 3a067976b13e    479 	mov	1051817593,r26
                         480 --	    .bf
                         481 .LDW22:
                         482 --181: {
                         483 --182:     const float32_t OOshift23 = 1.0f / (1uL<<23);
                         484 --183:     const float32_t LogBodge  = 0.346607f;
                         485 --185:     intfloat32_t _i;
                         486 --186:     float32_t x;
                         487 --187:     float32_t y;
                         488 --188:     
                         489 --189:     /* Cast types via union as we want to keep the bits as they are */
                         490 --190:     _i.fVal = i;
0000006a 63cf0100        491 	st.w	r25,0[sp]
                         492 --191:     
                         493 --192:     x  = (float32_t)_i.i32Val;
0000006e 230f0100        494 	ld.w	0[sp],r1
00000072 f00f42ec        495 	cvtf.uws	r1,r29
                         496 --193:     x *=  OOshift23; /* 1/(2^23) */
00000076 400e0034        497 	movhi	hi(872415232),zero,r1
0000007a e1ef64ec        498 	mulf.s	r1,r29,r29
                         499 --194:     x  =  x - 127;
0000007e 400efe42        500 	movhi	hi(1123942400),zero,r1
00000082 e1ef62ec        501 	subf.s	r1,r29,r29
                         502 --195:     
                         503 --196:     y = x - loc_floorf(x);
00000086 1d30            504 	mov	r29,r6
                         505 	jarl	_loc_floorf,lp
                         505 <EXPANSION BEGIN>
                         505 jarl22 _loc_floorf , lp 
00000088 bfff78ff*       505 <EXPANSION END>
0000008c eaef62e4        506 	subf.s	r10,r29,r28
                         507 --197:     y = (y-(y*y) ) * LogBodge;
                         508 --line197
                         509 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.2::
                         510 .LDWlin2:
00000090 1c08            511 	mov	r28,r1
00000092 fce7e60c        512 	fnmsf.s	r28,r28,r1
00000096 2e067976b13e    513 	mov	1051817593,r14
0000009c ee0f640c        514 	mulf.s	r14,r1,r1
000000a0 01e0            515 	mov	r1,r28
                         516 --198:     
                         517 --199:     return x+y;
000000a2 fcef6054        518 	addf.s	r28,r29,r10
                         519 --	    .ef
                         520 .LDW32:
000000a6 4206ff70        521 	dispose	1,{r25,r26,r27,r28,r29,r31},[lp]
                         522 	.type	_loc_log2,@function
                         523 	.size	_loc_log2,.-_loc_log2
                         524 	.type	_loc_log2..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.,@function
                         525 	.size	_loc_log2..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.,.-_loc_log2..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.
                         526 	.align	2
                         527 .LDW42:
                         528 --_OOshift23	r27	local
                         529 --_LogBodge	r26	local
                         530 --__i	0[sp]	local
                         531 --_x	r29	local
                         532 --_y	r28	local
                         533 
                         534 --_i	r25	param
                         535 

                                                                      Page 10
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
                         536 	.section ".bss","awb"
                         537 .L230:
                         538 	.type	.L230,@object
                         539 	.size	.L230,0
                         540 	.data
                         541 	.text
                         542 
                         543 --200: }
                         544 
                         545 --202: /***********************************************************
                         546 --203:   Function: loc_pow2
                         547 --204:   
                         548 --205:   Needed by <loc_powf>.
                         549 --206: */
                         550 --207: static float32_t loc_pow2( float32_t i )
                         551 	.align	2
                         552 	.align	2
                         553 	.global	_loc_pow2..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.
                         554 _loc_pow2..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.:
                         555 _loc_pow2:
000000aa 8207e130        556 	prepare	{r26,r27,r28,r29,r31},1
000000ae 06e0            557 	mov	r6,r28
000000b0 40de004b        558 	movhi	hi(1258291200),zero,r27
000000b4 3a0678eead3e    559 	mov	1051586168,r26
                         560 --	    .bf
                         561 .LDW52:
                         562 --208: {
                         563 --209:     const float32_t shift23  = (1uL<<23);
                         564 --210:     const float32_t PowBodge = 0.33971f;
                         565 --212:     intfloat32_t _x;
                         566 --213:     float32_t x;
                         567 --214:     float32_t y;
                         568 --215:     
                         569 --216:     y = i - loc_floorf(i);
000000ba 1c30            570 	mov	r28,r6
                         571 	jarl	_loc_floorf,lp
                         571 <EXPANSION BEGIN>
                         571 jarl22 _loc_floorf , lp 
000000bc bfff44ff*       571 <EXPANSION END>
000000c0 eae762ec        572 	subf.s	r10,r28,r29
                         573 --217:     y = (y-(y*y)) * PowBodge;
                         574 --line217
                         575 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.3::
                         576 .LDWlin3:
000000c4 1d08            577 	mov	r29,r1
000000c6 fdefe60c        578 	fnmsf.s	r29,r29,r1
000000ca 2e0678eead3e    579 	mov	1051586168,r14
000000d0 ee0f640c        580 	mulf.s	r14,r1,r1
000000d4 01e8            581 	mov	r1,r29
                         582 --218:     
                         583 --219:     x  = (i + 127) - y;
000000d6 4076fe42        584 	movhi	hi(1123942400),zero,r14
000000da eee76074        585 	addf.s	r14,r28,r14
000000de fd77620c        586 	subf.s	r29,r14,r1
                         587 --220:     x *= shift23; /* 2^23 */
000000e2 4076004b        588 	movhi	hi(1258291200),zero,r14
000000e6 ee0f640c        589 	mulf.s	r14,r1,r1
                         590 --222:     /* Cast types via union as we want to keep the bits as they are */
                         591 --223:     _x.i32Val = (int32_t)x;
000000ea e10f4074        592 	trncf.sw	r1,r14
000000ee 63770100        593 	st.w	r14,0[sp]

                                                                      Page 11
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
                         594 --224:     
                         595 --225: 	return _x.fVal;
000000f2 23570100        596 	ld.w	0[sp],r10
                         597 --	    .ef
                         598 .LDW62:
000000f6 4206ff30        599 	dispose	1,{r26,r27,r28,r29,r31},[lp]
                         600 	.type	_loc_pow2,@function
                         601 	.size	_loc_pow2,.-_loc_pow2
                         602 	.type	_loc_pow2..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.,@function
                         603 	.size	_loc_pow2..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.,.-_loc_pow2..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.
                         604 	.align	2
                         605 .LDW72:
                         606 --_shift23	r27	local
                         607 --_PowBodge	r26	local
                         608 --__x	0[sp]	local
                         609 --_x	r1	local
                         610 --_y	r29	local
                         611 
                         612 --_i	r28	param
                         613 
                         614 	.section ".bss","awb"
                         615 .L306:
                         616 	.type	.L306,@object
                         617 	.size	.L306,0
                         618 	.data
                         619 	.text
                         620 
                         621 --226: }
                         622 
                         623 --228: /***********************************************************
                         624 --229:   Function: loc_powf
                         625 --230:   
                         626 --231:   The maximum error for this implementation of powf for the range of [0.5 .. 4] is 0.7%
                         627 --232:   This is sufficient for its intended purpose.
                         628 --233:   You may replace this by a library implementation if available.
                         629 --234: */
                         630 --235: static float32_t loc_powf( float32_t a, float32_t b )
                         631 	.align	2
                         632 	.align	2
                         633 	.global	_loc_powf..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.
                         634 _loc_powf..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.:
                         635 _loc_powf:
000000fa 8007e100        636 	prepare	{r28,r29,r31},0
000000fe 06e8            637 	mov	r6,r29
00000100 07e0            638 	mov	r7,r28
                         639 --	    .bf
                         640 .LDW82:
                         641 --236: {
                         642 --237:     return loc_pow2( b * loc_log2(a) );
00000102 1d30            643 	mov	r29,r6
                         644 	jarl	_loc_log2,lp
                         644 <EXPANSION BEGIN>
                         644 jarl22 _loc_log2 , lp 
00000104 bfff56ff*       644 <EXPANSION END>
00000108 fc576434        645 	mulf.s	r28,r10,r6
                         646 	jarl	_loc_pow2,lp
                         646 <EXPANSION BEGIN>
                         646 jarl22 _loc_pow2 , lp 
0000010c bfff9eff*       646 <EXPANSION END>
                         647 --	    .ef
                         648 .LDW92:

                                                                      Page 12
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
                         649 --line238
                         650 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.4::
                         651 .LDWlin4:
00000110 4006ff00        652 	dispose	0,{r28,r29,r31},[lp]
                         653 	.type	_loc_powf,@function
                         654 	.size	_loc_powf,.-_loc_powf
                         655 	.type	_loc_powf..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.,@function
                         656 	.size	_loc_powf..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.,.-_loc_powf..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.
                         657 	.align	2
                         658 .LDW03:
                         659 
                         660 --_a	r29	param
                         661 --_b	r28	param
                         662 
                         663 	.section ".bss","awb"
                         664 .L350:
                         665 	.type	.L350,@object
                         666 	.size	.L350,0
                         667 	.data
                         668 	.text
                         669 
                         670 --238: }
                         671 
                         672 --240: #pragma ghs endnomisra
                         673 --244: /***************************************************************************
                         674 --245:   Function: loc_fitCurveForVdce
                         675 --246:   
                         676 --247:   Takes two arrays <InValue>, <OutValue> of exactly 33 points, that represent 
                         677 --248:   a colour correction curve. 
                         678 --249:   
                         679 --250:   <InValue> is expected to be in range of [0..256] including 256 for the last element!
                         680 --251:   <OutValue is expected to be in range of [0..256] including 256 for the last element!
                         681 --252:   
                         682 --253:   Both series <InValue>, <OutValue> are required to start in the Origin (0,0), thus <InValue>[0] 
                         683 --254:   and <OutValue>[0] need to be zero. 
                         684 --255:   Non-matching <InValue> is an error! Non-matching <OutValue> will be fitted!
                         685 --256:   
                         686 --257:   Both series <InValue>, <OutValue> are required to be monotonically nondecreasing, thus 
                         687 --258:   the next value is always bigger than the previous. Non-matching values will be fitted!
                         688 --260:   Both series <InValue>, <OutValue> are required to have a slope not bigger than 2, thus 
                         689 --261:   for a distance dIn: dOut < 2*dIn . Non-matching values will be fitted!
                         690 --262:   
                         691 --263:   Parameters:
                         692 --264:   InValue       - 33 Reference points starting with ZERO
                         693 --265:   OutValue      - 33 Reference points
                         694 --266:   NumEntries    - Number of reference points
                         695 --267:   FittedCurve   - Reference to the curve to be filled
                         696 --268: */
                         697 --269: static uint32_t loc_fitCurveForVdce ( 
                         698 	.align	2
                         699 	.align	2
                         700 	.global	_loc_fitCurveForVdce..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.
                         701 _loc_fitCurveForVdce..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.:
                         702 _loc_fitCurveForVdce:
00000114 8a07e170        703 	prepare	{r25,r26,r27,r28,r29,r31},5
00000118 633f1100        704 	st.w	r7,16[sp]
0000011c 06d8            705 	mov	r6,r27
0000011e 63470d00        706 	st.w	r8,12[sp]
00000122 634f0900        707 	st.w	r9,8[sp]
                         708 --	    .bf
                         709 .LDW13:

                                                                      Page 13
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
                         710 --270:                                 uint16_t   *InValue, 
                         711 --271:                                 float32_t  *OutValue, 
                         712 --272:                                 uint32_t    NumEntries,
                         713 --273:                                 r_vdce_GammaCorrect_t *FittedCurve )
                         714 --274: {
                         715 --275:     const float32_t max_gain = 2047.0f/1024.0f;
                         716 --276:     
                         717 --277:     float32_t fittedOutValue_last = 0.0f;
00000126 00d2            718 	mov	0,r26
                         719 --278:     float32_t fittedOutValue = 0.0f;
00000128 00ca            720 	mov	0,r25
                         721 --280:     uint32_t  i;
                         722 --281:     uint8_t   areaSize;
                         723 --282:     
                         724 --283:     /* Expecting exactly 33 entries */
                         725 --284:     if ( 33 != NumEntries )
0000012a 235f0d00        726 	ld.w	12[sp],r11
0000012e 0b06dfff        727 	addi	-33,r11,zero
00000132 b205*           728 	be	.L364
                         729 --285:     {
                         730 --286:         return 0;
                         731 --line286
                         732 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.5::
                         733 .LDWlin5:
00000134 0052            734 	mov	0,r10
00000136 e56d*           735 	br	.L362
                         736 .L364:
                         737 --287:     }
                         738 --288:     
                         739 --289:     /* First entry is expected to start with zero */
                         740 --290:     if ( InValue[0] != 0 )
                         741 --line290
                         742 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.6::
                         743 .LDWlin6:
00000138 fb0f0100        744 	ld.hu	0[r27],r1
0000013c e009            745 	cmp	zero,r1
0000013e b205*           746 	be	.L367
                         747 --291:     {
                         748 --292:         return 0;
                         749 --line292
                         750 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.7::
                         751 .LDWlin7:
00000140 0052            752 	mov	0,r10
00000142 856d*           753 	br	.L362
                         754 .L367:
                         755 --293:     }
                         756 --294:     
                         757 --295:     for (i=1; i< NumEntries; i++)
                         758 --line295
                         759 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.8::
                         760 .LDWlin8:
00000144 01ea            761 	mov	1,r29
00000146 9565*           762 	br	.L373
                         763 .L372:
                         764 --296:     {
                         765 --297:         /* Restrict the area size to positive values bigger than zero */
                         766 --298:         if ( InValue[i] <= InValue[i-1] )
                         767 --line298
                         768 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.9::
                         769 .LDWlin9:
00000148 1df0            770 	mov	r29,ep

                                                                      Page 14
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
0000014a 1d0effff        771 	addi	-1,r29,r1
0000014e c1f2            772 	shl	1,ep
00000150 c10a            773 	shl	1,r1
00000152 dbf1            774 	add	r27,ep
00000154 7070            775 	sld.hu	0[ep],r14
00000156 db09            776 	add	r27,r1
00000158 e10f0100        777 	ld.hu	0[r1],r1
0000015c e171            778 	cmp	r1,r14
0000015e bb05*           779 	bh	.L374
                         780 --299:         {
                         781 --300:             areaSize = 1;
                         782 --line300
                         783 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.10::
                         784 .LDWlin10:
00000160 01e2            785 	mov	1,r28
00000162 f50d*           786 	br	.L376
                         787 .L374:
                         788 --301:         }
                         789 --302:         else
                         790 --303:         {
                         791 --304:             areaSize = InValue[i] - InValue[i-1];
                         792 --line304
                         793 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.11::
                         794 .LDWlin11:
00000164 1df0            795 	mov	r29,ep
00000166 1d0effff        796 	addi	-1,r29,r1
0000016a c1f2            797 	shl	1,ep
0000016c c10a            798 	shl	1,r1
0000016e dbf1            799 	add	r27,ep
00000170 7070            800 	sld.hu	0[ep],r14
00000172 db09            801 	add	r27,r1
00000174 e10f0100        802 	ld.hu	0[r1],r1
00000178 8e09            803 	subr	r14,r1
0000017a c1e6ff00        804 	andi	255,r1,r28
0000017e 9c00            805 	zxb	r28
                         806 .L376:
                         807 --305:         }
                         808 --306:         
                         809 --307:         /* Calculate a (new, if necessary) output value that lies within the HW restrictions */
                         810 --308:         fittedOutValue = fittedOutValue_last
00000180 235f1100        811 	ld.w	16[sp],r11
00000184 f0e7420c        812 	cvtf.uws	r28,r1
00000188 1df0            813 	mov	r29,ep
0000018a c2f2            814 	shl	2,ep
0000018c 2e0600e0ff3f    815 	mov	1073733632,r14
00000192 e177643c        816 	mulf.s	r1,r14,r7
00000196 cbf1            817 	add	r11,ep
00000198 000d            818 	sld.w	0[ep],r1
0000019a fa0f6234        819 	subf.s	r26,r1,r6
                         820 	jarl	_loc_minf,lp
                         820 <EXPANSION BEGIN>
                         820 jarl22 _loc_minf , lp 
0000019e bfffa8fe*       820 <EXPANSION END>
000001a2 0a30            821 	mov	r10,r6
000001a4 003a            822 	mov	0,r7
                         823 	jarl	_loc_maxf,lp
                         823 <EXPANSION BEGIN>
                         823 jarl22 _loc_maxf , lp 
000001a6 bfffaafe*       823 <EXPANSION END>
000001aa ead760cc        824 	addf.s	r10,r26,r25
                         825 --309:                        + loc_maxf( loc_minf( 

                                                                      Page 15
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
                         826 --310:                                         OutValue[i] - fittedOutValue_last, 
                         827 --311:                                         areaSize * max_gain ),
                         828 --312:                                       0.0f );
                         829 --313:         
                         830 --314:         /* Calculate the corresponding gain and area */
                         831 --315:         FittedCurve->Gain[i-1] = loc_iroundf( loc_minf( 2047.0f,
                         832 --line315
                         833 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.12::
                         834 .LDWlin12:
000001ae 235f0900        835 	ld.w	8[sp],r11
000001b2 1d08            836 	mov	r29,r1
000001b4 c10a            837 	shl	1,r1
000001b6 260600e0ff44    838 	mov	1157619712,r6
000001bc 0b761e00        839 	addi	30,r11,r14
000001c0 ce09            840 	add	r14,r1
000001c2 630f0500        841 	st.w	r1,4[sp]
000001c6 40768044        842 	movhi	hi(1149239296),zero,r14
000001ca facf620c        843 	subf.s	r26,r25,r1
000001ce ee0f640c        844 	mulf.s	r14,r1,r1
000001d2 f0e74274        845 	cvtf.uws	r28,r14
000001d6 ee0f6e3c        846 	divf.s	r14,r1,r7
                         847 	jarl	_loc_minf,lp
                         847 <EXPANSION BEGIN>
                         847 jarl22 _loc_minf , lp 
000001da bfff6cfe*       847 <EXPANSION END>
000001de 0a30            848 	mov	r10,r6
                         849 	jarl	_loc_iroundf,lp
                         849 <EXPANSION BEGIN>
                         849 jarl22 _loc_iroundf , lp 
000001e0 bfff46fe*       849 <EXPANSION END>
000001e4 236f0500        850 	ld.w	4[sp],r13
000001e8 6d570000        851 	st.h	r10,0[r13]
                         852 --316:                                   ((fittedOutValue - fittedOutValue_last) * 1024.0f) / areaSize )  );
                         853 --317:         FittedCurve->Area[i-1] = InValue[i-1];
                         854 --line317
                         855 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.13::
                         856 .LDWlin13:
000001ec 235f0900        857 	ld.w	8[sp],r11
000001f0 1d0effff        858 	addi	-1,r29,r1
000001f4 c10a            859 	shl	1,r1
000001f6 db09            860 	add	r27,r1
000001f8 e10f0100        861 	ld.hu	0[r1],r1
000001fc 0bf6ffff        862 	addi	-1,r11,ep
00000200 ddf1            863 	add	r29,ep
00000202 800b            864 	sst.b	r1,0[ep]
                         865 --318:         
                         866 --319:         fittedOutValue_last = fittedOutValue;
00000204 19d0            867 	mov	r25,r26
00000206 41ea            868 	add	1,r29
                         869 .L373:
00000208 235f0d00        870 	ld.w	12[sp],r11
0000020c ebe9            871 	cmp	r11,r29
0000020e d19d*           872 	bl	.L372
                         873 --320:     }
                         874 --321:     
                         875 --322:     return 1;
                         876 --line322
                         877 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.14::
                         878 .LDWlin14:
00000210 0152            879 	mov	1,r10
                         880 .L362:

                                                                      Page 16
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
                         881 --	    .ef
                         882 .LDW23:
00000212 4a06ff70        883 	dispose	5,{r25,r26,r27,r28,r29,r31},[lp]
                         884 	.type	_loc_fitCurveForVdce,@function
                         885 	.size	_loc_fitCurveForVdce,.-_loc_fitCurveForVdce
                         886 	.type	_loc_fitCurveForVdce..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.,@function
                         887 	.size	_loc_fitCurveForVdce..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.,.-_loc_fitCurveForVdce..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.
                         888 	.align	2
                         889 .LDW33:
                         890 --_max_gain	0[sp]	local
                         891 --_fittedOutValue_last	r26	local
                         892 --_fittedOutValue	r25	local
                         893 --_i	r29	local
                         894 --_areaSize	r28	local
                         895 
                         896 --_InValue	r27	param
                         897 --_OutValue	16[sp]	param
                         898 --_NumEntries	12[sp]	param
                         899 --_FittedCurve	8[sp]	param
                         900 
                         901 	.section ".bss","awb"
                         902 .L466:
                         903 	.type	.L466,@object
                         904 	.size	.L466,0
                         905 	.data
                         906 	.text
                         907 
                         908 --323: }
                         909 
                         910 --325: /***************************************************************************
                         911 --326:   Function: loc_getGammaCurve
                         912 --327:   
                         913 --328:   Fill the supplied Struct with a color correction curve, that matches the given Gamma Coefficient.
                         914 --329:   
                         915 --330:   Parameters:
                         916 --331:   Gamma     - Gamma coeficcient [32..256]. Internall scaled by 1/128. 
                         917 --332:               Floating-point range is [0.25f .. 2.0f]
                         918 --333:   Curve     - Color correction curve to be input into VDCE.
                         919 --334: */
                         920 --335: static uint32_t loc_getGammaCurve( uint32_t Unit, uint8_t Gamma, r_vdce_GammaCorrect_t *Curve )
                         921 	.align	2
                         922 	.align	2
                         923 	.global	_loc_getGammaCurve..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.
                         924 _loc_getGammaCurve..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.:
                         925 _loc_getGammaCurve:
00000216 be07e170        926 	prepare	{r25,r26,r27,r28,r29,r31},31
0000021a 031ea8ff        927 	addi	-88,sp,sp
0000021e c75eff00        928 	andi	255,r7,r11
00000222 63370900        929 	st.w	r6,8[sp]
00000226 08d0            930 	mov	r8,r26
00000228 435f0300        931 	st.b	r11,3[sp]
0000022c 08da            932 	mov	8,r27
0000022e 40ce7f43        933 	movhi	hi(1132396544),zero,r25
                         934 --	    .bf
                         935 .LDW43:
                         936 --336: {
                         937 --337:     /* For the gamma correction curve, we take a constant size of the segements so they are equally distributed */
                         938 --338:     const uint8_t   seg_size = 8;
                         939 --339:     
                         940 --340:     float32_t f_gamma;
                         941 --341:     uint8_t   segment;

                                                                      Page 17
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
                         942 --342:     
                         943 --343:     uint16_t  In[33] = {0};
00000232 23369200        944 	movea	146,sp,r6
00000236 003a            945 	mov	0,r7
00000238 20464200        946 	movea	66,zero,r8
                         947 	jarl	_memset,lp
                         947 <EXPANSION BEGIN>
                         947 jarl22 _memset , lp 
0000023c 80ff0000*       947 <EXPANSION END>
                         948 --344:     float32_t Out[33] = {0};
                         949 --line344
                         950 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.15::
                         951 .LDWlin15:
00000240 23360c00        952 	movea	12,sp,r6
00000244 003a            953 	mov	0,r7
00000246 20468400        954 	movea	132,zero,r8
                         955 	jarl	_memset,lp
                         955 <EXPANSION BEGIN>
                         955 jarl22 _memset , lp 
0000024a 80ff0000*       955 <EXPANSION END>
                         956 --345:     
                         957 --346:     if ( 0 == Curve )
                         958 --line346
                         959 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.16::
                         960 .LDWlin16:
0000024e e0d1            961 	cmp	zero,r26
00000250 ba05*           962 	bne	.L531
                         963 --347:     {
                         964 --348:         R_WM_SYS_REPORT_ERROR(Unit, R_WM_ERR_NULL_PTR_ARGUMENT, 0);
                         965 --349:         return 0;
                         966 --line349
                         967 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.17::
                         968 .LDWlin17:
00000252 0052            969 	mov	0,r10
00000254 a54d*           970 	br	.L529
                         971 .L531:
                         972 --350:     }
                         973 --351:     
                         974 --352:     f_gamma = Gamma / 128.0f;
                         975 --line352
                         976 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.18::
                         977 .LDWlin18:
00000256 a35f0300        978 	ld.bu	3[sp],r11
0000025a 4076003c        979 	movhi	hi(1006632960),zero,r14
0000025e f05f420c        980 	cvtf.uws	r11,r1
00000262 ee0f64e4        981 	mulf.s	r14,r1,r28
                         982 --353:     f_gamma = (0.25f > f_gamma) ? 0.25f : f_gamma;
00000266 400e803e        983 	movhi	hi(1048576000),zero,r1
0000026a e1e7680c        984 	maxf.s	r1,r28,r1
0000026e 01e0            985 	mov	r1,r28
                         986 --355:     /* Step 0 is special. The curve starts always in the origin (0,0) */
                         987 --356:     In[0] =   0u;
00000270 63079200        988 	st.h	zero,146[sp]
                         989 --357:     Out[0] =  0.0f;
00000274 63070d00        990 	st.w	zero,12[sp]
                         991 --359:     for (segment = 1; segment<33; segment++)
00000278 01ea            992 	mov	1,r29
0000027a 0000            993 	nop
                         994 .L536:
                         995 --360:     {
                         996 --361:         /* Input brightness value */

                                                                      Page 18
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
                         997 --362:         In[segment] = (segment) * seg_size;
0000027c 1df0            998 	mov	r29,ep
0000027e c1f2            999 	shl	1,ep
00000280 1d08           1000 	mov	r29,r1
00000282 c3f1           1001 	add	sp,ep
00000284 c30a           1002 	shl	3,r1
00000286 c90c           1003 	sst.h	r1,146[ep]
                        1004 --363:         
                        1005 --364:         /* Output value as we want it */
                        1006 --365:         Out[segment] = 255.0f * loc_powf( In[segment]/255.0f, 1.0f/f_gamma );
00000288 1d08           1007 	mov	r29,r1
0000028a c20a           1008 	shl	2,r1
0000028c 23760c00       1009 	movea	12,sp,r14
00000290 1df0           1010 	mov	r29,ep
00000292 ce09           1011 	add	r14,r1
00000294 c1f2           1012 	shl	1,ep
00000296 630f0500       1013 	st.w	r1,4[sp]
0000029a 2e768600       1014 	movea	134,r14,r14
0000029e cef1           1015 	add	r14,ep
000002a0 7008           1016 	sld.hu	0[ep],r1
000002a2 f00f420c       1017 	cvtf.uws	r1,r1
000002a6 f90f6e34       1018 	divf.s	r25,r1,r6
000002aa 400e803f       1019 	movhi	hi(1065353216),zero,r1
000002ae fc0f6e3c       1020 	divf.s	r28,r1,r7
                        1021 	jarl	_loc_powf,lp
                        1021 <EXPANSION BEGIN>
                        1021 jarl22 _loc_powf , lp 
000002b2 bfff48fe*      1021 <EXPANSION END>
000002b6 23670500       1022 	ld.w	4[sp],r12
000002ba eacf640c       1023 	mulf.s	r10,r25,r1
000002be 6c0f0100       1024 	st.w	r1,0[r12]
                        1025 --line359
                        1026 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.19::
                        1027 .LDWlin19:
000002c2 41ea           1028 	add	1,r29
000002c4 9d00           1029 	zxb	r29
000002c6 1d06dfff       1030 	addi	-33,r29,zero
000002ca 99dd*          1031 	bnl	.L536
                        1032 --366:     }
                        1033 --367:     
                        1034 --368:     /* Create a curve over the input/output values, staying in the capabilities of the VDCE */
                        1035 --369:     if (0 == loc_fitCurveForVdce ( In, Out, 33, Curve))
                        1036 --line369
                        1037 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.20::
                        1038 .LDWlin20:
000002cc 1a48           1039 	mov	r26,r9
000002ce 23369200       1040 	movea	146,sp,r6
000002d2 233e0c00       1041 	movea	12,sp,r7
000002d6 20462100       1042 	movea	33,zero,r8
                        1043 	jarl	_loc_fitCurveForVdce,lp
                        1043 <EXPANSION BEGIN>
                        1043 jarl22 _loc_fitCurveForVdce , lp 
000002da bfff3afe*      1043 <EXPANSION END>
000002de e051           1044 	cmp	zero,r10
000002e0 ba05*          1045 	bne	.L537
                        1046 --370:     {
                        1047 --371:         R_WM_SYS_REPORT_ERROR(Unit, R_WM_ERR_PARAM_INCORRECT, 0);
                        1048 --372:         return 0;
                        1049 --line372
                        1050 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.21::
                        1051 .LDWlin21:

                                                                      Page 19
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
000002e2 0052           1052 	mov	0,r10
000002e4 a505*          1053 	br	.L529
                        1054 .L537:
                        1055 --373:     }
                        1056 --374:     
                        1057 --375:     return 1;
                        1058 --line375
                        1059 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.22::
                        1060 .LDWlin22:
000002e6 0152           1061 	mov	1,r10
                        1062 .L529:
                        1063 --	    .ef
                        1064 .LDW53:
000002e8 031e5800       1065 	addi	88,sp,sp
000002ec 7e06ff70       1066 	dispose	31,{r25,r26,r27,r28,r29,r31},[lp]
                        1067 	.type	_loc_getGammaCurve,@function
                        1068 	.size	_loc_getGammaCurve,.-_loc_getGammaCurve
                        1069 	.type	_loc_getGammaCurve..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.,@function
                        1070 	.size	_loc_getGammaCurve..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.,.-_loc_getGammaCurve..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.
                        1071 	.align	2
                        1072 .LDW63:
                        1073 --_seg_size	r27	local
                        1074 --_f_gamma	r28	local
                        1075 --_segment	r29	local
                        1076 --_In	146[sp]	local
                        1077 --_Out	12[sp]	local
                        1078 
                        1079 --_Unit	8[sp]	param
                        1080 --_Gamma	3[sp]	param
                        1081 --_Curve	r26	param
                        1082 
                        1083 	.section ".bss","awb"
                        1084 .L622:
                        1085 	.type	.L622,@object
                        1086 	.size	.L622,0
                        1087 	.data
                        1088 	.text
                        1089 
                        1090 --376: }
                        1091 
                        1092 --379: /***********************************************************
                        1093 --380:   Section: WM Driver Support Functions
                        1094 --381:   
                        1095 --382:   Comments see: <WM Support Functions>
                        1096 --383: */
                        1097 --387: /***********************************************************
                        1098 --388:   Group: WM Video Output Screen interface
                        1099 --389: */
                        1100 --392: /***********************************************************
                        1101 --393:   Function: R_WM_Sys_ScreenTimingSetByName
                        1102 --394: */
                        1103 --395: uint32_t R_WM_Sys_ScreenTimingSetByName     (   uint32_t        Unit,
                        1104 	.align	2
                        1105 	.align	2
                        1106 	.global	_R_WM_Sys_ScreenTimingSetByName
                        1107 _R_WM_Sys_ScreenTimingSetByName:
000002f0 8007e110       1108 	prepare	{r27,r28,r29,r31},0
000002f4 06d8           1109 	mov	r6,r27
000002f6 07e8           1110 	mov	r7,r29
                        1111 --	    .bf
                        1112 .LDW73:

                                                                      Page 20
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
                        1113 --396:                                                 const int8_t*   Name
                        1114 --397:                                             )
                        1115 --398: {
                        1116 --399:     r_ddb_Timing_t *timing;
                        1117 --401:     if ((Name == 0) || (*Name == 0))
000002f8 e0e9           1118 	cmp	zero,r29
000002fa d205*          1119 	be	.L687
000002fc 1d0f0000       1120 	ld.b	0[r29],r1
00000300 e009           1121 	cmp	zero,r1
00000302 ba05*          1122 	bne	.L686
                        1123 .L687:
                        1124 --402:     {
                        1125 --403:         R_WM_SYS_REPORT_ERROR(Unit, R_WM_ERR_PARAM_INCORRECT, 0);
                        1126 --404:         return 0;
                        1127 --line404
                        1128 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.23::
                        1129 .LDWlin23:
00000304 0052           1130 	mov	0,r10
00000306 950d*          1131 	br	.L684
                        1132 .L686:
                        1133 --405:     }
                        1134 --406:     timing = R_DDB_GetDisplayTiming((const char*) Name);
                        1135 --line406
                        1136 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.24::
                        1137 .LDWlin24:
00000308 1d30           1138 	mov	r29,r6
                        1139 	jarl	_R_DDB_GetDisplayTiming,lp
                        1139 <EXPANSION BEGIN>
                        1139 jarl22 _R_DDB_GetDisplayTiming , lp 
0000030a 80ff0000*      1139 <EXPANSION END>
0000030e 0ae0           1140 	mov	r10,r28
                        1141 --408:     return R_WM_Sys_ScreenTimingSet(Unit, timing);
                        1142 --line408
                        1143 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.25::
                        1144 .LDWlin25:
00000310 1b30           1145 	mov	r27,r6
00000312 1c38           1146 	mov	r28,r7
                        1147 	jarl	_R_WM_Sys_ScreenTimingSet,lp
                        1147 <EXPANSION BEGIN>
                        1147 jarl22 _R_WM_Sys_ScreenTimingSet , lp 
00000314 80ff0800*      1147 <EXPANSION END>
                        1148 .L684:
                        1149 --	    .ef
                        1150 .LDW83:
                        1151 --line409
                        1152 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.26::
                        1153 .LDWlin26:
00000318 4006ff10       1154 	dispose	0,{r27,r28,r29,r31},[lp]
                        1155 	.type	_R_WM_Sys_ScreenTimingSetByName,@function
                        1156 	.size	_R_WM_Sys_ScreenTimingSetByName,.-_R_WM_Sys_ScreenTimingSetByName
                        1157 	.align	2
                        1158 .LDW93:
                        1159 --_timing	r28	local
                        1160 
                        1161 --_Unit	r27	param
                        1162 --_Name	r29	param
                        1163 
                        1164 	.section ".bss","awb"
                        1165 .L734:
                        1166 	.type	.L734,@object
                        1167 	.size	.L734,0

                                                                      Page 21
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
                        1168 	.data
                        1169 	.text
                        1170 
                        1171 --409: }
                        1172 
                        1173 --411: /***********************************************************
                        1174 --412:   Function: R_WM_Sys_ScreenTimingSet
                        1175 --413: */
                        1176 --414: uint32_t R_WM_Sys_ScreenTimingSet(uint32_t Unit, r_ddb_Timing_t *timing)
                        1177 	.align	2
                        1178 	.align	2
                        1179 	.align	2
                        1180 	.global	_R_WM_Sys_ScreenTimingSet
                        1181 _R_WM_Sys_ScreenTimingSet:
0000031c 8007e110       1182 	prepare	{r27,r28,r29,r31},0
00000320 06e8           1183 	mov	r6,r29
00000322 07e0           1184 	mov	r7,r28
00000324 3b0600000000*  1185 	mov	_loc_WM_Isr,r27
                        1186 --	    .bf
                        1187 .LDW04:
                        1188 --415: {
                        1189 --416:     if (timing == 0)
0000032a e0e1           1190 	cmp	zero,r28
0000032c ba05*          1191 	bne	.L760
                        1192 --417:     {
                        1193 --418:         R_WM_SYS_REPORT_ERROR(Unit, R_WM_ERR_PARAM_INCORRECT, 0);
                        1194 --419:         return 0;
                        1195 --line419
                        1196 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.27::
                        1197 .LDWlin27:
0000032e 0052           1198 	mov	0,r10
00000330 8565*          1199 	br	.L758
                        1200 .L760:
                        1201 --420:     }
                        1202 --421:     
                        1203 --422:     if(R_VDCE_ERR_OK != R_VDCE_DisplayTimingSet(Unit, timing))
                        1204 --line422
                        1205 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.28::
                        1206 .LDWlin28:
00000332 1d30           1207 	mov	r29,r6
00000334 1c38           1208 	mov	r28,r7
                        1209 	jarl	_R_VDCE_DisplayTimingSet,lp
                        1209 <EXPANSION BEGIN>
                        1209 jarl22 _R_VDCE_DisplayTimingSet , lp 
00000336 80ff0000*      1209 <EXPANSION END>
0000033a e051           1210 	cmp	zero,r10
0000033c b205*          1211 	be	.L763
                        1212 --423:     {
                        1213 --424:         return 0;
                        1214 --line424
                        1215 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.29::
                        1216 .LDWlin29:
0000033e 0052           1217 	mov	0,r10
00000340 855d*          1218 	br	.L758
                        1219 .L763:
                        1220 --425:     }
                        1221 --426:     /* set the interrupt service routines */
                        1222 --427:     /* SCANLINE interrupt */
                        1223 --428:     if (R_VDCE_ERR_OK != R_VDCE_IntcCallbackSet(Unit, R_VDCE_INTC_SCANLINE, loc_WM_Isr[Unit][R_WM_EVENT_SCANLINE]))
                        1224 --line428
                        1225 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.30::

                                                                      Page 22
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
                        1226 .LDWlin30:
00000342 1d08           1227 	mov	r29,r1
00000344 1bf60400       1228 	addi	4,r27,ep
00000348 c50a           1229 	shl	5,r1
0000034a 1d30           1230 	mov	r29,r6
0000034c c1f1           1231 	add	r1,ep
0000034e 043a           1232 	mov	4,r7
00000350 0045           1233 	sld.w	0[ep],r8
                        1234 	jarl	_R_VDCE_IntcCallbackSet,lp
                        1234 <EXPANSION BEGIN>
                        1234 jarl22 _R_VDCE_IntcCallbackSet , lp 
00000352 80ff0000*      1234 <EXPANSION END>
00000356 e051           1235 	cmp	zero,r10
00000358 b205*          1236 	be	.L766
                        1237 --429:     {
                        1238 --430:         return 0;
                        1239 --line430
                        1240 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.31::
                        1241 .LDWlin31:
0000035a 0052           1242 	mov	0,r10
0000035c a54d*          1243 	br	.L758
                        1244 .L766:
                        1245 --431:     }
                        1246 --433:     if (timing->ScreenHeight > 240)
                        1247 --line433
                        1248 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.32::
                        1249 .LDWlin32:
0000035e 3c0f0900       1250 	ld.w	8[r28],r1
00000362 01060fff       1251 	addi	-241,r1,zero
00000366 c90d*          1252 	bnl	.L769
                        1253 --434:     {
                        1254 --435:         if (R_VDCE_ERR_OK != R_VDCE_IntcScanlineSet(Unit, timing->ScreenHeight-50))
                        1255 --line435
                        1256 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.33::
                        1257 .LDWlin33:
00000368 3c0f0900       1258 	ld.w	8[r28],r1
0000036c 1d30           1259 	mov	r29,r6
0000036e 013eceff       1260 	addi	-50,r1,r7
                        1261 	jarl	_R_VDCE_IntcScanlineSet,lp
                        1261 <EXPANSION BEGIN>
                        1261 jarl22 _R_VDCE_IntcScanlineSet , lp 
00000372 80ff0000*      1261 <EXPANSION END>
00000376 e051           1262 	cmp	zero,r10
00000378 b215*          1263 	be	.L774
                        1264 --436:         {
                        1265 --437:             return 0;
                        1266 --line437
                        1267 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.34::
                        1268 .LDWlin34:
0000037a 0052           1269 	mov	0,r10
0000037c a53d*          1270 	br	.L758
                        1271 .L769:
                        1272 --438:         }
                        1273 --439:     }
                        1274 --440:     else
                        1275 --441:     {
                        1276 --442:         if (R_VDCE_ERR_OK != R_VDCE_IntcScanlineSet(Unit, timing->ScreenHeight/10))
                        1277 --line442
                        1278 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.35::
                        1279 .LDWlin35:
0000037e 3c770900       1280 	ld.w	8[r28],r14

                                                                      Page 23
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
00000382 1d30           1281 	mov	r29,r6
00000384 2c06cdcccccc   1282 	mov	-858993459,r12
0000038a ee67226a       1283 	mulu	r14,r12,r13
0000038e 0d38           1284 	mov	r13,r7
00000390 833a           1285 	shr	3,r7
                        1286 	jarl	_R_VDCE_IntcScanlineSet,lp
                        1286 <EXPANSION BEGIN>
                        1286 jarl22 _R_VDCE_IntcScanlineSet , lp 
00000392 80ff0000*      1286 <EXPANSION END>
00000396 e051           1287 	cmp	zero,r10
00000398 b205*          1288 	be	.L774
                        1289 --443:         {
                        1290 --444:             return 0;
                        1291 --line444
                        1292 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.36::
                        1293 .LDWlin36:
0000039a 0052           1294 	mov	0,r10
0000039c a52d*          1295 	br	.L758
                        1296 .L774:
                        1297 --445:         }
                        1298 --446:     }
                        1299 --447:     if (R_VDCE_ERR_OK != R_VDCE_IntcEnable(Unit, R_VDCE_INTC_SCANLINE))
                        1300 --line447
                        1301 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.37::
                        1302 .LDWlin37:
0000039e 1d30           1303 	mov	r29,r6
000003a0 043a           1304 	mov	4,r7
                        1305 	jarl	_R_VDCE_IntcEnable,lp
                        1305 <EXPANSION BEGIN>
                        1305 jarl22 _R_VDCE_IntcEnable , lp 
000003a2 80ff0000*      1305 <EXPANSION END>
000003a6 e051           1306 	cmp	zero,r10
000003a8 b205*          1307 	be	.L778
                        1308 --448:     {
                        1309 --449:         return 0;
                        1310 --line449
                        1311 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.38::
                        1312 .LDWlin38:
000003aa 0052           1313 	mov	0,r10
000003ac a525*          1314 	br	.L758
                        1315 .L778:
                        1316 --450:     }
                        1317 --452:     /* VBLANK interrupt */
                        1318 --453:     if (R_VDCE_ERR_OK != R_VDCE_IntcCallbackSet(Unit, R_VDCE_INTC_VBLANK, loc_WM_Isr[Unit][R_WM_EVENT_VBLANK]))
                        1319 --line453
                        1320 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.39::
                        1321 .LDWlin39:
000003ae 1df0           1322 	mov	r29,ep
000003b0 c5f2           1323 	shl	5,ep
000003b2 dbf1           1324 	add	r27,ep
000003b4 1d30           1325 	mov	r29,r6
000003b6 0045           1326 	sld.w	0[ep],r8
000003b8 013a           1327 	mov	1,r7
                        1328 	jarl	_R_VDCE_IntcCallbackSet,lp
                        1328 <EXPANSION BEGIN>
                        1328 jarl22 _R_VDCE_IntcCallbackSet , lp 
000003ba 80ff0000*      1328 <EXPANSION END>
000003be e051           1329 	cmp	zero,r10
000003c0 b205*          1330 	be	.L781
                        1331 --454:     {
                        1332 --455:         return 0;

                                                                      Page 24
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
                        1333 --line455
                        1334 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.40::
                        1335 .LDWlin40:
000003c2 0052           1336 	mov	0,r10
000003c4 e515*          1337 	br	.L758
                        1338 .L781:
                        1339 --456:     }
                        1340 --457:     if (R_VDCE_ERR_OK != R_VDCE_IntcEnable(Unit, R_VDCE_INTC_VBLANK))
                        1341 --line457
                        1342 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.41::
                        1343 .LDWlin41:
000003c6 1d30           1344 	mov	r29,r6
000003c8 013a           1345 	mov	1,r7
                        1346 	jarl	_R_VDCE_IntcEnable,lp
                        1346 <EXPANSION BEGIN>
                        1346 jarl22 _R_VDCE_IntcEnable , lp 
000003ca 80ff0000*      1346 <EXPANSION END>
000003ce e051           1347 	cmp	zero,r10
000003d0 b205*          1348 	be	.L784
                        1349 --458:     {
                        1350 --459:         return 0;
                        1351 --line459
                        1352 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.42::
                        1353 .LDWlin42:
000003d2 0052           1354 	mov	0,r10
000003d4 e50d*          1355 	br	.L758
                        1356 .L784:
                        1357 --460:     }
                        1358 --461:     
                        1359 --462:     r_wm_DevSys[Unit].HorizontalMoveReserve = timing->H.BlankWidth - 16;
                        1360 --line462
                        1361 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.43::
                        1362 .LDWlin43:
000003d6 1df0           1363 	mov	r29,ep
000003d8 fe00           1364 	sxh	ep
000003da fef66000       1365 	mulhi	96,ep,ep
000003de 3c0f1100       1366 	ld.w	16[r28],r1
000003e2 2e0600000000*  1367 	mov	_r_wm_DevSys,r14
000003e8 cef1           1368 	add	r14,ep
000003ea 500a           1369 	add	-16,r1
000003ec 2f0d           1370 	sst.w	r1,92[ep]
                        1371 --464:     return 1;
000003ee 0152           1372 	mov	1,r10
                        1373 .L758:
                        1374 --	    .ef
                        1375 .LDW14:
000003f0 4006ff10       1376 	dispose	0,{r27,r28,r29,r31},[lp]
                        1377 	.type	_R_WM_Sys_ScreenTimingSet,@function
                        1378 	.size	_R_WM_Sys_ScreenTimingSet,.-_R_WM_Sys_ScreenTimingSet
                        1379 	.align	2
                        1380 .LDW24:
                        1381 
                        1382 --_Unit	r29	param
                        1383 --_timing	r28	param
                        1384 
                        1385 	.section ".bss","awb"
                        1386 .L886:
                        1387 	.type	.L886,@object
                        1388 	.size	.L886,0
                        1389 	.data
                        1390 	.text

                                                                      Page 25
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
                        1391 
                        1392 --465: }
                        1393 
                        1394 --467: /***********************************************************
                        1395 --468:   Function: R_WM_Sys_ScreenEnable
                        1396 --469: */
                        1397 --470: uint32_t R_WM_Sys_ScreenEnable(uint32_t Unit, uint32_t Enabled)
                        1398 	.align	2
                        1399 	.align	2
                        1400 	.global	_R_WM_Sys_ScreenEnable
                        1401 _R_WM_Sys_ScreenEnable:
000003f4 8007e110       1402 	prepare	{r27,r28,r29,r31},0
000003f8 06e8           1403 	mov	r6,r29
000003fa 07d8           1404 	mov	r7,r27
                        1405 --	    .bf
                        1406 .LDW34:
                        1407 --471: {
                        1408 --472:     r_vdce_Error_t err;
                        1409 --473:     if (Enabled == 1)
000003fc 61da           1410 	cmp	1,r27
000003fe ea15*          1411 	bne	.L954
                        1412 --474:     {
                        1413 --475:         if (R_VDCE_ERR_OK != R_VDCE_IntcEnable(Unit, R_VDCE_INTC_SCANLINE))
                        1414 --line475
                        1415 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.44::
                        1416 .LDWlin44:
00000400 1d30           1417 	mov	r29,r6
00000402 043a           1418 	mov	4,r7
                        1419 	jarl	_R_VDCE_IntcEnable,lp
                        1419 <EXPANSION BEGIN>
                        1419 jarl22 _R_VDCE_IntcEnable , lp 
00000404 80ff0000*      1419 <EXPANSION END>
00000408 e051           1420 	cmp	zero,r10
0000040a b205*          1421 	be	.L956
                        1422 --476:         {
                        1423 --477:             return 0;
                        1424 --line477
                        1425 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.45::
                        1426 .LDWlin45:
0000040c 0052           1427 	mov	0,r10
0000040e 8555*          1428 	br	.L952
                        1429 .L956:
                        1430 --478:         }
                        1431 --479:         if (R_VDCE_ERR_OK != R_VDCE_IntcEnable(Unit, R_VDCE_INTC_VBLANK))
                        1432 --line479
                        1433 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.46::
                        1434 .LDWlin46:
00000410 1d30           1435 	mov	r29,r6
00000412 013a           1436 	mov	1,r7
                        1437 	jarl	_R_VDCE_IntcEnable,lp
                        1437 <EXPANSION BEGIN>
                        1437 jarl22 _R_VDCE_IntcEnable , lp 
00000414 80ff0000*      1437 <EXPANSION END>
00000418 e051           1438 	cmp	zero,r10
0000041a b205*          1439 	be	.L959
                        1440 --480:         {
                        1441 --481:             return 0;
                        1442 --line481
                        1443 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.47::
                        1444 .LDWlin47:
0000041c 0052           1445 	mov	0,r10

                                                                      Page 26
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
0000041e 854d*          1446 	br	.L952
                        1447 .L959:
                        1448 --482:         }
                        1449 --483:         err = R_VDCE_DisplayEnable(Unit);
                        1450 --line483
                        1451 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.48::
                        1452 .LDWlin48:
00000420 1d30           1453 	mov	r29,r6
                        1454 	jarl	_R_VDCE_DisplayEnable,lp
                        1454 <EXPANSION BEGIN>
                        1454 jarl22 _R_VDCE_DisplayEnable , lp 
00000422 80ff0000*      1454 <EXPANSION END>
00000426 0ae0           1455 	mov	r10,r28
00000428 e53d*          1456 	br	.L962
                        1457 .L954:
                        1458 --484:     }
                        1459 --485:     else
                        1460 --486:     {
                        1461 --487:         if (R_VDCE_ERR_OK != R_VDCE_IntcDisable(Unit, R_VDCE_INTC_SCANLINE))
                        1462 --line487
                        1463 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.49::
                        1464 .LDWlin49:
0000042a 1d30           1465 	mov	r29,r6
0000042c 043a           1466 	mov	4,r7
                        1467 	jarl	_R_VDCE_IntcDisable,lp
                        1467 <EXPANSION BEGIN>
                        1467 jarl22 _R_VDCE_IntcDisable , lp 
0000042e 80ff0000*      1467 <EXPANSION END>
00000432 e051           1468 	cmp	zero,r10
00000434 b205*          1469 	be	.L963
                        1470 --488:         {
                        1471 --489:             return 0;
                        1472 --line489
                        1473 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.50::
                        1474 .LDWlin50:
00000436 0052           1475 	mov	0,r10
00000438 b53d*          1476 	br	.L952
                        1477 .L963:
                        1478 --490:         }
                        1479 --491:         if (R_VDCE_ERR_OK != R_VDCE_IntcDisable(Unit, R_VDCE_INTC_VBLANK))
                        1480 --line491
                        1481 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.51::
                        1482 .LDWlin51:
0000043a 1d30           1483 	mov	r29,r6
0000043c 013a           1484 	mov	1,r7
                        1485 	jarl	_R_VDCE_IntcDisable,lp
                        1485 <EXPANSION BEGIN>
                        1485 jarl22 _R_VDCE_IntcDisable , lp 
0000043e 80ff0000*      1485 <EXPANSION END>
00000442 e051           1486 	cmp	zero,r10
00000444 b205*          1487 	be	.L966
                        1488 --492:         {
                        1489 --493:             return 0;
                        1490 --line493
                        1491 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.52::
                        1492 .LDWlin52:
00000446 0052           1493 	mov	0,r10
00000448 b535*          1494 	br	.L952
                        1495 .L966:
                        1496 --494:         }
                        1497 --495:         if (R_VDCE_ERR_OK != R_VDCE_IntcDisable(Unit, R_VDCE_INTC_ERR_CAP_WRITE_OVERFLOW))

                                                                      Page 27
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
                        1498 --line495
                        1499 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.53::
                        1500 .LDWlin53:
0000044a 1d30           1501 	mov	r29,r6
0000044c 203e1200       1502 	movea	18,zero,r7
                        1503 	jarl	_R_VDCE_IntcDisable,lp
                        1503 <EXPANSION BEGIN>
                        1503 jarl22 _R_VDCE_IntcDisable , lp 
00000450 80ff0000*      1503 <EXPANSION END>
00000454 e051           1504 	cmp	zero,r10
00000456 b205*          1505 	be	.L969
                        1506 --496:         {
                        1507 --497:             return 0;
                        1508 --line497
                        1509 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.54::
                        1510 .LDWlin54:
00000458 0052           1511 	mov	0,r10
0000045a a52d*          1512 	br	.L952
                        1513 .L969:
                        1514 --498:         }
                        1515 --499:         if (R_VDCE_ERR_OK != R_VDCE_IntcDisable(Unit, R_VDCE_INTC_ERR_LAYER0_UNDERFLOW))
                        1516 --line499
                        1517 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.55::
                        1518 .LDWlin55:
0000045c 1d30           1519 	mov	r29,r6
0000045e 0c3a           1520 	mov	12,r7
                        1521 	jarl	_R_VDCE_IntcDisable,lp
                        1521 <EXPANSION BEGIN>
                        1521 jarl22 _R_VDCE_IntcDisable , lp 
00000460 80ff0000*      1521 <EXPANSION END>
00000464 e051           1522 	cmp	zero,r10
00000466 b205*          1523 	be	.L972
                        1524 --500:         {
                        1525 --501:             return 0;
                        1526 --line501
                        1527 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.56::
                        1528 .LDWlin56:
00000468 0052           1529 	mov	0,r10
0000046a a525*          1530 	br	.L952
                        1531 .L972:
                        1532 --502:         }
                        1533 --503:         if (R_VDCE_ERR_OK != R_VDCE_IntcDisable(Unit, R_VDCE_INTC_ERR_LAYER1_UNDERFLOW))
                        1534 --line503
                        1535 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.57::
                        1536 .LDWlin57:
0000046c 1d30           1537 	mov	r29,r6
0000046e 0d3a           1538 	mov	13,r7
                        1539 	jarl	_R_VDCE_IntcDisable,lp
                        1539 <EXPANSION BEGIN>
                        1539 jarl22 _R_VDCE_IntcDisable , lp 
00000470 80ff0000*      1539 <EXPANSION END>
00000474 e051           1540 	cmp	zero,r10
00000476 b205*          1541 	be	.L975
                        1542 --504:         {
                        1543 --505:             return 0;
                        1544 --line505
                        1545 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.58::
                        1546 .LDWlin58:
00000478 0052           1547 	mov	0,r10
0000047a a51d*          1548 	br	.L952
                        1549 .L975:

                                                                      Page 28
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
                        1550 --506:         }
                        1551 --507:         if (R_VDCE_ERR_OK != R_VDCE_IntcDisable(Unit, R_VDCE_INTC_ERR_LAYER2_UNDERFLOW))
                        1552 --line507
                        1553 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.59::
                        1554 .LDWlin59:
0000047c 1d30           1555 	mov	r29,r6
0000047e 0e3a           1556 	mov	14,r7
                        1557 	jarl	_R_VDCE_IntcDisable,lp
                        1557 <EXPANSION BEGIN>
                        1557 jarl22 _R_VDCE_IntcDisable , lp 
00000480 80ff0000*      1557 <EXPANSION END>
00000484 e051           1558 	cmp	zero,r10
00000486 b205*          1559 	be	.L978
                        1560 --508:         {
                        1561 --509:             return 0;
                        1562 --line509
                        1563 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.60::
                        1564 .LDWlin60:
00000488 0052           1565 	mov	0,r10
0000048a a515*          1566 	br	.L952
                        1567 .L978:
                        1568 --510:         }
                        1569 --511:         if (R_VDCE_ERR_OK != R_VDCE_IntcDisable(Unit, R_VDCE_INTC_ERR_LAYER3_UNDERFLOW))
                        1570 --line511
                        1571 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.61::
                        1572 .LDWlin61:
0000048c 1d30           1573 	mov	r29,r6
0000048e 0f3a           1574 	mov	15,r7
                        1575 	jarl	_R_VDCE_IntcDisable,lp
                        1575 <EXPANSION BEGIN>
                        1575 jarl22 _R_VDCE_IntcDisable , lp 
00000490 80ff0000*      1575 <EXPANSION END>
00000494 e051           1576 	cmp	zero,r10
00000496 b205*          1577 	be	.L981
                        1578 --512:         {
                        1579 --513:             return 0;
                        1580 --line513
                        1581 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.62::
                        1582 .LDWlin62:
00000498 0052           1583 	mov	0,r10
0000049a a50d*          1584 	br	.L952
                        1585 .L981:
                        1586 --514:         }
                        1587 --516:         err = R_VDCE_DisplayDisable(Unit);
                        1588 --line516
                        1589 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.63::
                        1590 .LDWlin63:
0000049c 1d30           1591 	mov	r29,r6
                        1592 	jarl	_R_VDCE_DisplayDisable,lp
                        1592 <EXPANSION BEGIN>
                        1592 jarl22 _R_VDCE_DisplayDisable , lp 
0000049e 80ff0000*      1592 <EXPANSION END>
000004a2 0ae0           1593 	mov	r10,r28
                        1594 .L962:
                        1595 --517:     }
                        1596 --518:     
                        1597 --519:     if (err != R_VDCE_ERR_OK)
                        1598 --line519
                        1599 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.64::
                        1600 .LDWlin64:
000004a4 e0e1           1601 	cmp	zero,r28

                                                                      Page 29
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
000004a6 b205*          1602 	be	.L984
                        1603 --520:     {
                        1604 --521:         return 0;
                        1605 --line521
                        1606 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.65::
                        1607 .LDWlin65:
000004a8 0052           1608 	mov	0,r10
000004aa a505*          1609 	br	.L952
                        1610 .L984:
                        1611 --522:     }
                        1612 --523:     return 1;
                        1613 --line523
                        1614 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.66::
                        1615 .LDWlin66:
000004ac 0152           1616 	mov	1,r10
                        1617 .L952:
                        1618 --	    .ef
                        1619 .LDW44:
000004ae 4006ff10       1620 	dispose	0,{r27,r28,r29,r31},[lp]
                        1621 	.type	_R_WM_Sys_ScreenEnable,@function
                        1622 	.size	_R_WM_Sys_ScreenEnable,.-_R_WM_Sys_ScreenEnable
                        1623 	.align	2
                        1624 .LDW54:
                        1625 --_err	r28	local
                        1626 
                        1627 --_Unit	r29	param
                        1628 --_Enabled	r27	param
                        1629 
                        1630 	.section ".bss","awb"
                        1631 .L1098:
                        1632 	.type	.L1098,@object
                        1633 	.size	.L1098,0
                        1634 	.data
                        1635 	.text
                        1636 
                        1637 --524: }
                        1638 
                        1639 --526: /***********************************************************
                        1640 --527:   Function: R_WM_Sys_ScreenBgColorSet
                        1641 --528: */
                        1642 --529: uint32_t R_WM_Sys_ScreenBgColorSet(uint32_t Unit, 
                        1643 	.align	2
                        1644 	.align	2
                        1645 	.global	_R_WM_Sys_ScreenBgColorSet
                        1646 _R_WM_Sys_ScreenBgColorSet:
000004b2 8007e130       1647 	prepare	{r26,r27,r28,r29,r31},0
000004b6 06e8           1648 	mov	r6,r29
000004b8 c7e6ff00       1649 	andi	255,r7,r28
000004bc c8deff00       1650 	andi	255,r8,r27
000004c0 c9d6ff00       1651 	andi	255,r9,r26
                        1652 --	    .bf
                        1653 .LDW64:
                        1654 --530:                                        uint8_t  Red, 
                        1655 --531:                                        uint8_t  Green, 
                        1656 --532:                                        uint8_t  Blue)
                        1657 --533: {
                        1658 --534:     if ( R_VDCE_ERR_OK != R_VDCE_DisplayColorSet(Unit, Red, Green, Blue) )
000004c4 1d30           1659 	mov	r29,r6
000004c6 1c38           1660 	mov	r28,r7
000004c8 1b40           1661 	mov	r27,r8
000004ca 1a48           1662 	mov	r26,r9

                                                                      Page 30
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
                        1663 	jarl	_R_VDCE_DisplayColorSet,lp
                        1663 <EXPANSION BEGIN>
                        1663 jarl22 _R_VDCE_DisplayColorSet , lp 
000004cc 80ff0000*      1663 <EXPANSION END>
000004d0 e051           1664 	cmp	zero,r10
000004d2 b205*          1665 	be	.L1181
                        1666 --535:     {
                        1667 --536:         return 0;
                        1668 --line536
                        1669 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.67::
                        1670 .LDWlin67:
000004d4 0052           1671 	mov	0,r10
000004d6 a505*          1672 	br	.L1179
                        1673 .L1181:
                        1674 --537:     }
                        1675 --538:     return 1;
                        1676 --line538
                        1677 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.68::
                        1678 .LDWlin68:
000004d8 0152           1679 	mov	1,r10
                        1680 .L1179:
                        1681 --	    .ef
                        1682 .LDW74:
000004da 4006ff30       1683 	dispose	0,{r26,r27,r28,r29,r31},[lp]
                        1684 	.type	_R_WM_Sys_ScreenBgColorSet,@function
                        1685 	.size	_R_WM_Sys_ScreenBgColorSet,.-_R_WM_Sys_ScreenBgColorSet
                        1686 	.align	2
                        1687 .LDW84:
                        1688 
                        1689 --_Unit	r29	param
                        1690 --_Red	r28	param
                        1691 --_Green	r27	param
                        1692 --_Blue	r26	param
                        1693 
                        1694 	.section ".bss","awb"
                        1695 .L1206:
                        1696 	.type	.L1206,@object
                        1697 	.size	.L1206,0
                        1698 	.data
                        1699 	.text
                        1700 
                        1701 --539: }
                        1702 
                        1703 --541: /***********************************************************
                        1704 --542:   Function: R_WM_Sys_ScreenColorCurveSet
                        1705 --543: */
                        1706 --544: uint32_t R_WM_Sys_ScreenColorCurveSet(  uint32_t Unit,
                        1707 	.align	2
                        1708 	.align	2
                        1709 	.global	_R_WM_Sys_ScreenColorCurveSet
                        1710 _R_WM_Sys_ScreenColorCurveSet:
000004de be07e130       1711 	prepare	{r26,r27,r28,r29,r31},31
000004e2 031e80fd       1712 	addi	-640,sp,sp
000004e6 06d0           1713 	mov	r6,r26
000004e8 07e0           1714 	mov	r7,r28
000004ea 08d8           1715 	mov	r8,r27
                        1716 --	    .bf
                        1717 .LDW94:
                        1718 --545:                                         const r_wm_ClutEntry_t *ColorCurve,
                        1719 --546:                                         uint32_t NumEntries
                        1720 --547:                                       )

                                                                      Page 31
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
                        1721 --548: {
                        1722 --549:     r_vdce_GammaCorrect_t R = {0}, G = {0}, B = {0};
000004ec 23369c02       1723 	movea	668,sp,r6
000004f0 003a           1724 	mov	0,r7
000004f2 20466000       1725 	movea	96,zero,r8
                        1726 	jarl	_memset,lp
                        1726 <EXPANSION BEGIN>
                        1726 jarl22 _memset , lp 
000004f6 80ff0000*      1726 <EXPANSION END>
                        1727 --line549
                        1728 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.69::
                        1729 .LDWlin69:
000004fa 23363c02       1730 	movea	572,sp,r6
000004fe 003a           1731 	mov	0,r7
00000500 20466000       1732 	movea	96,zero,r8
                        1733 	jarl	_memset,lp
                        1733 <EXPANSION BEGIN>
                        1733 jarl22 _memset , lp 
00000504 80ff0000*      1733 <EXPANSION END>
                        1734 --line549
                        1735 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.70::
                        1736 .LDWlin70:
00000508 2336dc01       1737 	movea	476,sp,r6
0000050c 003a           1738 	mov	0,r7
0000050e 20466000       1739 	movea	96,zero,r8
                        1740 	jarl	_memset,lp
                        1740 <EXPANSION BEGIN>
                        1740 jarl22 _memset , lp 
00000512 80ff0000*      1740 <EXPANSION END>
                        1741 --550:     r_vdce_Gamma_t vdceGamma = {0};
                        1742 --line550
                        1743 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.71::
                        1744 .LDWlin71:
00000516 6307d101       1745 	st.w	zero,464[sp]
0000051a 6307d501       1746 	st.w	zero,468[sp]
0000051e 6307d901       1747 	st.w	zero,472[sp]
                        1748 --551:     
                        1749 --552:     uint32_t i;
                        1750 --553:     
                        1751 --554:     uint16_t  InValue[33];
                        1752 --555:     float32_t OutValueR[33], OutValueG[33], OutValueB[33];
                        1753 --557:     if ( (0 == ColorCurve) || (33 != NumEntries) )
00000522 e0e1           1754 	cmp	zero,r28
00000524 c205*          1755 	be	.L1227
00000526 1b06dfff       1756 	addi	-33,r27,zero
0000052a b205*          1757 	be	.L1226
                        1758 .L1227:
                        1759 --558:     {
                        1760 --559:         R_WM_SYS_REPORT_ERROR(Unit, R_WM_ERR_PARAM_INCORRECT, 0);
                        1761 --560:         return 0;
                        1762 --line560
                        1763 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.72::
                        1764 .LDWlin72:
0000052c 0052           1765 	mov	0,r10
0000052e f56d*          1766 	br	.L1224
                        1767 .L1226:
                        1768 --561:     }
                        1769 --562:     
                        1770 --563:     vdceGamma.R = &R;
                        1771 --line563
                        1772 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.73::

                                                                      Page 32
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
                        1773 .LDWlin73:
00000530 230e9c02       1774 	movea	668,sp,r1
00000534 630fd901       1775 	st.w	r1,472[sp]
                        1776 --564:     vdceGamma.G = &G;
00000538 230e3c02       1777 	movea	572,sp,r1
0000053c 630fd501       1778 	st.w	r1,468[sp]
                        1779 --565:     vdceGamma.B = &B;
00000540 230edc01       1780 	movea	476,sp,r1
00000544 630fd101       1781 	st.w	r1,464[sp]
                        1782 --567:     for (i=0; i<33; i++)
00000548 00ea           1783 	mov	0,r29
0000054a 0000           1784 	nop
                        1785 .L1232:
                        1786 --568:     {
                        1787 --569:         InValue[i] =  i*8;
0000054c 1df0           1788 	mov	r29,ep
0000054e c1f2           1789 	shl	1,ep
00000550 23768e01       1790 	movea	398,sp,r14
00000554 1d08           1791 	mov	r29,r1
00000556 cef1           1792 	add	r14,ep
00000558 c30a           1793 	shl	3,r1
0000055a 800c           1794 	sst.h	r1,0[ep]
                        1795 --570:         OutValueR[i] = ColorCurve[i].R;
0000055c 1df0           1796 	mov	r29,ep
0000055e c2f2           1797 	shl	2,ep
00000560 1e08           1798 	mov	ep,r1
00000562 dc09           1799 	add	r28,r1
00000564 810f0300       1800 	ld.bu	2[r1],r1
00000568 23760801       1801 	movea	264,sp,r14
0000056c cef1           1802 	add	r14,ep
0000056e f00f420c       1803 	cvtf.uws	r1,r1
00000572 010d           1804 	sst.w	r1,0[ep]
                        1805 --571:         OutValueG[i] = ColorCurve[i].G;
00000574 1df0           1806 	mov	r29,ep
00000576 c2f2           1807 	shl	2,ep
00000578 1e08           1808 	mov	ep,r1
0000057a dc09           1809 	add	r28,r1
0000057c a10f0100       1810 	ld.bu	1[r1],r1
00000580 c3f1           1811 	add	sp,ep
00000582 f00f420c       1812 	cvtf.uws	r1,r1
00000586 430d           1813 	sst.w	r1,132[ep]
                        1814 --572:         OutValueB[i] = ColorCurve[i].B;
00000588 1df0           1815 	mov	r29,ep
0000058a c2f2           1816 	shl	2,ep
0000058c 1e08           1817 	mov	ep,r1
0000058e dc09           1818 	add	r28,r1
00000590 810f0100       1819 	ld.bu	0[r1],r1
00000594 c3f1           1820 	add	sp,ep
00000596 f00f420c       1821 	cvtf.uws	r1,r1
0000059a 010d           1822 	sst.w	r1,0[ep]
0000059c 41ea           1823 	add	1,r29
0000059e 1d06dfff       1824 	addi	-33,r29,zero
000005a2 d9d5*          1825 	bnl	.L1232
                        1826 --573:     }
                        1827 --574:     
                        1828 --575:     if (0 == loc_fitCurveForVdce ( InValue, OutValueR, 33, &R ))
                        1829 --line575
                        1830 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.74::
                        1831 .LDWlin74:
000005a4 23368e01       1832 	movea	398,sp,r6
000005a8 233e0801       1833 	movea	264,sp,r7

                                                                      Page 33
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
000005ac 20462100       1834 	movea	33,zero,r8
000005b0 234e9c02       1835 	movea	668,sp,r9
                        1836 	jarl	_loc_fitCurveForVdce,lp
                        1836 <EXPANSION BEGIN>
                        1836 jarl22 _loc_fitCurveForVdce , lp 
000005b4 bfff60fb*      1836 <EXPANSION END>
000005b8 e051           1837 	cmp	zero,r10
000005ba ba05*          1838 	bne	.L1233
                        1839 --576:     {
                        1840 --577:         R_WM_SYS_REPORT_ERROR(Unit, R_WM_ERR_PARAM_INCORRECT, 0);
                        1841 --578:         return 0;
                        1842 --line578
                        1843 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.75::
                        1844 .LDWlin75:
000005bc 0052           1845 	mov	0,r10
000005be f525*          1846 	br	.L1224
                        1847 .L1233:
                        1848 --579:     }
                        1849 --580:     if (0 == loc_fitCurveForVdce ( InValue, OutValueG, 33, &G ))
                        1850 --line580
                        1851 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.76::
                        1852 .LDWlin76:
000005c0 23368e01       1853 	movea	398,sp,r6
000005c4 233e8400       1854 	movea	132,sp,r7
000005c8 20462100       1855 	movea	33,zero,r8
000005cc 234e3c02       1856 	movea	572,sp,r9
                        1857 	jarl	_loc_fitCurveForVdce,lp
                        1857 <EXPANSION BEGIN>
                        1857 jarl22 _loc_fitCurveForVdce , lp 
000005d0 bfff44fb*      1857 <EXPANSION END>
000005d4 e051           1858 	cmp	zero,r10
000005d6 ba05*          1859 	bne	.L1236
                        1860 --581:     {
                        1861 --582:         R_WM_SYS_REPORT_ERROR(Unit, R_WM_ERR_PARAM_INCORRECT, 0);
                        1862 --583:         return 0;
                        1863 --line583
                        1864 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.77::
                        1865 .LDWlin77:
000005d8 0052           1866 	mov	0,r10
000005da 951d*          1867 	br	.L1224
                        1868 .L1236:
                        1869 --584:     }
                        1870 --585:     if (0 == loc_fitCurveForVdce ( InValue, OutValueB, 33, &B ))
                        1871 --line585
                        1872 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.78::
                        1873 .LDWlin78:
000005dc 23368e01       1874 	movea	398,sp,r6
000005e0 233e0000       1875 	movea	0,sp,r7
000005e4 20462100       1876 	movea	33,zero,r8
000005e8 234edc01       1877 	movea	476,sp,r9
                        1878 	jarl	_loc_fitCurveForVdce,lp
                        1878 <EXPANSION BEGIN>
                        1878 jarl22 _loc_fitCurveForVdce , lp 
000005ec bfff28fb*      1878 <EXPANSION END>
000005f0 e051           1879 	cmp	zero,r10
000005f2 ba05*          1880 	bne	.L1239
                        1881 --586:     {
                        1882 --587:         R_WM_SYS_REPORT_ERROR(Unit, R_WM_ERR_PARAM_INCORRECT, 0);
                        1883 --588:         return 0;
                        1884 --line588
                        1885 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.79::

                                                                      Page 34
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
                        1886 .LDWlin79:
000005f4 0052           1887 	mov	0,r10
000005f6 b50d*          1888 	br	.L1224
                        1889 .L1239:
                        1890 --589:     }
                        1891 --590:     
                        1892 --591:     if ( R_VDCE_ERR_OK !=  R_VDCE_DisplayGammaCorrectSet( Unit, &vdceGamma ) )
                        1893 --line591
                        1894 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.80::
                        1895 .LDWlin80:
000005f8 1a30           1896 	mov	r26,r6
000005fa 233ed001       1897 	movea	464,sp,r7
                        1898 	jarl	_R_VDCE_DisplayGammaCorrectSet,lp
                        1898 <EXPANSION BEGIN>
                        1898 jarl22 _R_VDCE_DisplayGammaCorrectSet , lp 
000005fe 80ff0000*      1898 <EXPANSION END>
00000602 e051           1899 	cmp	zero,r10
00000604 b205*          1900 	be	.L1242
                        1901 --592:     {
                        1902 --593:         return 0;
                        1903 --line593
                        1904 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.81::
                        1905 .LDWlin81:
00000606 0052           1906 	mov	0,r10
00000608 a505*          1907 	br	.L1224
                        1908 .L1242:
                        1909 --594:     }
                        1910 --595:     
                        1911 --596:     return 1;
                        1912 --line596
                        1913 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.82::
                        1914 .LDWlin82:
0000060a 0152           1915 	mov	1,r10
                        1916 .L1224:
                        1917 --	    .ef
                        1918 .LDW05:
0000060c 031e8002       1919 	addi	640,sp,sp
00000610 7e06ff30       1920 	dispose	31,{r26,r27,r28,r29,r31},[lp]
                        1921 	.type	_R_WM_Sys_ScreenColorCurveSet,@function
                        1922 	.size	_R_WM_Sys_ScreenColorCurveSet,.-_R_WM_Sys_ScreenColorCurveSet
                        1923 	.align	2
                        1924 .LDW15:
                        1925 --_R	668[sp]	local
                        1926 --_G	572[sp]	local
                        1927 --_B	476[sp]	local
                        1928 --_vdceGamma	464[sp]	local
                        1929 --_i	r29	local
                        1930 --_InValue	398[sp]	local
                        1931 --_OutValueR	264[sp]	local
                        1932 --_OutValueG	132[sp]	local
                        1933 --_OutValueB	0[sp]	local
                        1934 
                        1935 --_Unit	r26	param
                        1936 --_ColorCurve	r28	param
                        1937 --_NumEntries	r27	param
                        1938 
                        1939 	.section ".bss","awb"
                        1940 .L1366:
                        1941 	.type	.L1366,@object
                        1942 	.size	.L1366,0
                        1943 	.data

                                                                      Page 35
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
                        1944 	.text
                        1945 
                        1946 --597: }
                        1947 
                        1948 --599: /***************************************************************************
                        1949 --600:   Function: R_WM_Sys_ScreenGammaSet
                        1950 --601: */
                        1951 --602: uint32_t R_WM_Sys_ScreenGammaSet(   uint32_t Unit, 
                        1952 	.align	2
                        1953 	.align	2
                        1954 	.global	_R_WM_Sys_ScreenGammaSet
                        1955 _R_WM_Sys_ScreenGammaSet:
00000614 be07e130       1956 	prepare	{r26,r27,r28,r29,r31},31
00000618 031e50ff       1957 	addi	-176,sp,sp
0000061c 06e8           1958 	mov	r6,r29
0000061e c7e6ff00       1959 	andi	255,r7,r28
00000622 c8deff00       1960 	andi	255,r8,r27
00000626 c9d6ff00       1961 	andi	255,r9,r26
                        1962 --	    .bf
                        1963 .LDW25:
                        1964 --603:                                     const uint8_t GammaRed, 
                        1965 --604:                                     const uint8_t GammaGreen, 
                        1966 --605:                                     const uint8_t GammaBlue 
                        1967 --606:                                 )
                        1968 --607: {
                        1969 --608:     r_vdce_GammaCorrect_t vdceGammaRed =   {0};
0000062a 2336cc00       1970 	movea	204,sp,r6
0000062e 003a           1971 	mov	0,r7
00000630 20466000       1972 	movea	96,zero,r8
                        1973 	jarl	_memset,lp
                        1973 <EXPANSION BEGIN>
                        1973 jarl22 _memset , lp 
00000634 80ff0000*      1973 <EXPANSION END>
                        1974 --609:     r_vdce_GammaCorrect_t vdceGammaGreen = {0};
                        1975 --line609
                        1976 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.83::
                        1977 .LDWlin83:
00000638 23366c00       1978 	movea	108,sp,r6
0000063c 003a           1979 	mov	0,r7
0000063e 20466000       1980 	movea	96,zero,r8
                        1981 	jarl	_memset,lp
                        1981 <EXPANSION BEGIN>
                        1981 jarl22 _memset , lp 
00000642 80ff0000*      1981 <EXPANSION END>
                        1982 --610:     r_vdce_GammaCorrect_t vdceGammaBlue =  {0};
                        1983 --line610
                        1984 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.84::
                        1985 .LDWlin84:
00000646 23360c00       1986 	movea	12,sp,r6
0000064a 003a           1987 	mov	0,r7
0000064c 20466000       1988 	movea	96,zero,r8
                        1989 	jarl	_memset,lp
                        1989 <EXPANSION BEGIN>
                        1989 jarl22 _memset , lp 
00000650 80ff0000*      1989 <EXPANSION END>
                        1990 --611:     r_vdce_Gamma_t vdceGamma = {0};
                        1991 --line611
                        1992 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.85::
                        1993 .LDWlin85:
00000654 63070100       1994 	st.w	zero,0[sp]
00000658 63070500       1995 	st.w	zero,4[sp]

                                                                      Page 36
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
0000065c 63070900       1996 	st.w	zero,8[sp]
                        1997 --613:     if ( (128 == GammaRed) && (128 == GammaGreen) && (128 == GammaBlue) )
00000660 1c0680ff       1998 	addi	-128,r28,zero
00000664 fa0d*          1999 	bne	.L1462
00000666 1b0680ff       2000 	addi	-128,r27,zero
0000066a ca0d*          2001 	bne	.L1462
0000066c 1a0680ff       2002 	addi	-128,r26,zero
00000670 9a0d*          2003 	bne	.L1462
                        2004 --614:     {
                        2005 --615:         /* All one? Then turn off Gamma correction */
                        2006 --616:         if ( R_VDCE_ERR_OK !=  R_VDCE_DisplayGammaCorrectSet( Unit, R_NULL ) )
                        2007 --line616
                        2008 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.86::
                        2009 .LDWlin86:
00000672 1d30           2010 	mov	r29,r6
00000674 003a           2011 	mov	0,r7
                        2012 	jarl	_R_VDCE_DisplayGammaCorrectSet,lp
                        2012 <EXPANSION BEGIN>
                        2012 jarl22 _R_VDCE_DisplayGammaCorrectSet , lp 
00000676 80ff0000*      2012 <EXPANSION END>
0000067a e051           2013 	cmp	zero,r10
0000067c b24d*          2014 	be	.L1469
                        2015 --617:         {
                        2016 --618:             return 0;
                        2017 --line618
                        2018 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.87::
                        2019 .LDWlin87:
0000067e 0052           2020 	mov	0,r10
00000680 a54d*          2021 	br	.L1460
                        2022 .L1462:
                        2023 --619:         }
                        2024 --620:     }
                        2025 --621:     else
                        2026 --622:     {
                        2027 --623:         if ( 0 == loc_getGammaCurve( Unit, GammaRed, &vdceGammaRed ))
                        2028 --line623
                        2029 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.88::
                        2030 .LDWlin88:
00000682 1d30           2031 	mov	r29,r6
00000684 1c38           2032 	mov	r28,r7
00000686 2346cc00       2033 	movea	204,sp,r8
                        2034 	jarl	_loc_getGammaCurve,lp
                        2034 <EXPANSION BEGIN>
                        2034 jarl22 _loc_getGammaCurve , lp 
0000068a bfff8cfb*      2034 <EXPANSION END>
0000068e e051           2035 	cmp	zero,r10
00000690 ba05*          2036 	bne	.L1470
                        2037 --624:         {
                        2038 --625:             return 0;
                        2039 --line625
                        2040 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.89::
                        2041 .LDWlin89:
00000692 0052           2042 	mov	0,r10
00000694 8545*          2043 	br	.L1460
                        2044 .L1470:
                        2045 --626:         }
                        2046 --627:         vdceGamma.R =    &vdceGammaRed;
                        2047 --line627
                        2048 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.90::
                        2049 .LDWlin90:
00000696 230ecc00       2050 	movea	204,sp,r1

                                                                      Page 37
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
0000069a 630f0900       2051 	st.w	r1,8[sp]
                        2052 --628:         
                        2053 --629:         /* Same as red gamma? Reuse red calculation */
                        2054 --630:         if ( GammaGreen == GammaRed )
0000069e fcd9           2055 	cmp	r28,r27
000006a0 ea05*          2056 	bne	.L1473
                        2057 --631:         {
                        2058 --632:             vdceGamma.G =    &vdceGammaRed;
                        2059 --line632
                        2060 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.91::
                        2061 .LDWlin91:
000006a2 230ecc00       2062 	movea	204,sp,r1
000006a6 630f0500       2063 	st.w	r1,4[sp]
000006aa f50d*          2064 	br	.L1475
                        2065 .L1473:
                        2066 --633:         }
                        2067 --634:         else
                        2068 --635:         {
                        2069 --636:             if ( 0 == loc_getGammaCurve( Unit, GammaGreen, &vdceGammaGreen ))
                        2070 --line636
                        2071 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.92::
                        2072 .LDWlin92:
000006ac 1d30           2073 	mov	r29,r6
000006ae 1b38           2074 	mov	r27,r7
000006b0 23466c00       2075 	movea	108,sp,r8
                        2076 	jarl	_loc_getGammaCurve,lp
                        2076 <EXPANSION BEGIN>
                        2076 jarl22 _loc_getGammaCurve , lp 
000006b4 bfff62fb*      2076 <EXPANSION END>
000006b8 e051           2077 	cmp	zero,r10
000006ba ba05*          2078 	bne	.L1476
                        2079 --637:             {
                        2080 --638:                 return 0;
                        2081 --line638
                        2082 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.93::
                        2083 .LDWlin93:
000006bc 0052           2084 	mov	0,r10
000006be b52d*          2085 	br	.L1460
                        2086 .L1476:
                        2087 --639:             }
                        2088 --640:             vdceGamma.G =    &vdceGammaGreen;
                        2089 --line640
                        2090 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.94::
                        2091 .LDWlin94:
000006c0 230e6c00       2092 	movea	108,sp,r1
000006c4 630f0500       2093 	st.w	r1,4[sp]
                        2094 .L1475:
                        2095 --641:         }
                        2096 --642:         
                        2097 --643:         /* Same as red gamma? Reuse red calculation */
                        2098 --644:         if ( GammaBlue == GammaRed )
000006c8 fcd1           2099 	cmp	r28,r26
000006ca ea05*          2100 	bne	.L1479
                        2101 --645:         {
                        2102 --646:             vdceGamma.B =    &vdceGammaRed;
                        2103 --line646
                        2104 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.95::
                        2105 .LDWlin95:
000006cc 230ecc00       2106 	movea	204,sp,r1
000006d0 630f0100       2107 	st.w	r1,0[sp]
000006d4 e515*          2108 	br	.L1481

                                                                      Page 38
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
                        2109 .L1479:
                        2110 --647:         }
                        2111 --648:         /* Same as green gamma? Reuse green calculation */
                        2112 --649:         else if ( GammaBlue == GammaGreen )
                        2113 --line649
                        2114 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.96::
                        2115 .LDWlin96:
000006d6 fbd1           2116 	cmp	r27,r26
000006d8 ea05*          2117 	bne	.L1482
                        2118 --650:         {
                        2119 --651:             vdceGamma.B =    &vdceGammaGreen;
                        2120 --line651
                        2121 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.97::
                        2122 .LDWlin97:
000006da 230e6c00       2123 	movea	108,sp,r1
000006de 630f0100       2124 	st.w	r1,0[sp]
000006e2 f50d*          2125 	br	.L1481
                        2126 .L1482:
                        2127 --652:         }
                        2128 --653:         else
                        2129 --654:         {
                        2130 --655:             if ( 0 == loc_getGammaCurve( Unit, GammaBlue, &vdceGammaBlue ))
                        2131 --line655
                        2132 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.98::
                        2133 .LDWlin98:
000006e4 1d30           2134 	mov	r29,r6
000006e6 1a38           2135 	mov	r26,r7
000006e8 23460c00       2136 	movea	12,sp,r8
                        2137 	jarl	_loc_getGammaCurve,lp
                        2137 <EXPANSION BEGIN>
                        2137 jarl22 _loc_getGammaCurve , lp 
000006ec bfff2afb*      2137 <EXPANSION END>
000006f0 e051           2138 	cmp	zero,r10
000006f2 ba05*          2139 	bne	.L1485
                        2140 --656:             {
                        2141 --657:                 return 0;
                        2142 --line657
                        2143 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.99::
                        2144 .LDWlin99:
000006f4 0052           2145 	mov	0,r10
000006f6 f50d*          2146 	br	.L1460
                        2147 .L1485:
                        2148 --658:             }
                        2149 --659:             vdceGamma.B =    &vdceGammaBlue;
                        2150 --line659
                        2151 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.100::
                        2152 .LDWlin100:
000006f8 230e0c00       2153 	movea	12,sp,r1
000006fc 630f0100       2154 	st.w	r1,0[sp]
                        2155 .L1481:
                        2156 --660:         }
                        2157 --661:         
                        2158 --662:         if ( R_VDCE_ERR_OK !=  R_VDCE_DisplayGammaCorrectSet( Unit, &vdceGamma ) )
00000700 1d30           2159 	mov	r29,r6
00000702 233e0000       2160 	movea	0,sp,r7
                        2161 	jarl	_R_VDCE_DisplayGammaCorrectSet,lp
                        2161 <EXPANSION BEGIN>
                        2161 jarl22 _R_VDCE_DisplayGammaCorrectSet , lp 
00000706 80ff0000*      2161 <EXPANSION END>
0000070a e051           2162 	cmp	zero,r10
0000070c b205*          2163 	be	.L1469

                                                                      Page 39
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
                        2164 --663:         {
                        2165 --664:             return 0;
                        2166 --line664
                        2167 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.101::
                        2168 .LDWlin101:
0000070e 0052           2169 	mov	0,r10
00000710 a505*          2170 	br	.L1460
                        2171 .L1469:
                        2172 --665:         }
                        2173 --666:     }
                        2174 --667:     
                        2175 --668:     return 1;
                        2176 --line668
                        2177 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.102::
                        2178 .LDWlin102:
00000712 0152           2179 	mov	1,r10
                        2180 .L1460:
                        2181 --	    .ef
                        2182 .LDW35:
00000714 031eb000       2183 	addi	176,sp,sp
00000718 7e06ff30       2184 	dispose	31,{r26,r27,r28,r29,r31},[lp]
                        2185 	.type	_R_WM_Sys_ScreenGammaSet,@function
                        2186 	.size	_R_WM_Sys_ScreenGammaSet,.-_R_WM_Sys_ScreenGammaSet
                        2187 	.align	2
                        2188 .LDW45:
                        2189 --_vdceGammaRed	204[sp]	local
                        2190 --_vdceGammaGreen	108[sp]	local
                        2191 --_vdceGammaBlue	12[sp]	local
                        2192 --_vdceGamma	0[sp]	local
                        2193 
                        2194 --_Unit	r29	param
                        2195 --_GammaRed	r28	param
                        2196 --_GammaGreen	r27	param
                        2197 --_GammaBlue	r26	param
                        2198 
                        2199 	.section ".bss","awb"
                        2200 .L1622:
                        2201 	.type	.L1622,@object
                        2202 	.size	.L1622,0
                        2203 	.data
                        2204 	.text
                        2205 
                        2206 --669: }
                        2207 
                        2208 --671: /***********************************************************
                        2209 --672:   Function: R_WM_Sys_ScreenColorFormatSet
                        2210 --673: */
                        2211 --674: uint32_t R_WM_Sys_ScreenColorFormatSet  (   uint32_t            Unit,
                        2212 	.align	2
                        2213 	.align	2
                        2214 	.global	_R_WM_Sys_ScreenColorFormatSet
                        2215 _R_WM_Sys_ScreenColorFormatSet:
0000071c 8a07e170       2216 	prepare	{r25,r26,r27,r28,r29,r31},5
00000720 63370500       2217 	st.w	r6,4[sp]
00000724 633f0900       2218 	st.w	r7,8[sp]
                        2219 --	    .bf
                        2220 .LDW55:
                        2221 --675:                                                 r_wm_OutColorFmt_t  OutFmt
                        2222 --676:                                             )
                        2223 --677: {
                        2224 --678:     uint32_t  Format = ((uint32_t)OutFmt&(~(uint32_t)R_WM_OUTCOLORFMT_FLAG_MASK));

                                                                      Page 40
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
00000728 235f0900       2225 	ld.w	8[sp],r11
0000072c 2106ffffff8f   2226 	mov	-1879048193,r1
00000732 635f0100       2227 	st.w	r11,0[sp]
00000736 0b60           2228 	mov	r11,r12
00000738 4161           2229 	and	r1,r12
0000073a 63670100       2230 	st.w	r12,0[sp]
                        2231 --679:     uint32_t  Flags  = ((uint32_t)OutFmt&( (uint32_t)R_WM_OUTCOLORFMT_FLAG_MASK));
0000073e 23ef0900       2232 	ld.w	8[sp],r29
00000742 400e0070       2233 	movhi	hi(1879048192),zero,r1
00000746 41e9           2234 	and	r1,r29
                        2235 --681:     r_vdce_OutEndian_t  VdceOutEndian = R_VDCE_OUT_ENDIAN_LAST;
00000748 02da           2236 	mov	2,r27
                        2237 --682:     r_vdce_OutFormat_t  VdceOutFormat = R_VDCE_OUT_FORMAT_LAST;
0000074a 04e2           2238 	mov	4,r28
                        2239 --683:     r_vdce_OutSwap_t    VdceOutSwap   = R_VDCE_OUT_SWAP_BR_LAST;
0000074c 02d2           2240 	mov	2,r26
                        2241 --684:     r_vdce_DitherMd_t   VdceDitherMd  = R_VDCE_DTH_MD_NUM;
0000074e 04ca           2242 	mov	4,r25
                        2243 --685:     r_vdce_Dither_t     VdceDither;
                        2244 --687:     /* Parse flags endian */
                        2245 --688:     if (0 == ( Flags & (uint32_t)R_WM_OUTCOLORFMT_FLAG_ENDIAN ) )
00000750 1d08           2246 	mov	r29,r1
00000752 9f0a           2247 	shr	31,r1
00000754 b105*          2248 	bl	.L1718
                        2249 --689:     {
                        2250 --690:         /* Default value when flag is not set. */
                        2251 --691:         VdceOutEndian = R_VDCE_OUT_ENDIAN_LITTLE;
                        2252 --line691
                        2253 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.103::
                        2254 .LDWlin103:
00000756 00da           2255 	mov	0,r27
00000758 e505*          2256 	br	.L1720
                        2257 .L1718:
                        2258 --692:     }
                        2259 --693:     else
                        2260 --694:     {
                        2261 --695:         VdceOutEndian = R_VDCE_OUT_ENDIAN_BIG;
                        2262 --line695
                        2263 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.104::
                        2264 .LDWlin104:
0000075a 01da           2265 	mov	1,r27
                        2266 --697:         /* Remove parsed flag */
                        2267 --698:         Flags = Flags & ~(uint32_t)R_WM_OUTCOLORFMT_FLAG_ENDIAN;
0000075c 2106ffffffbf   2268 	mov	-1073741825,r1
00000762 41e9           2269 	and	r1,r29
                        2270 .L1720:
                        2271 --699:     }
                        2272 --701:     /* Parse flags SWAP */
                        2273 --702:     if (0 == ( Flags & (uint32_t)R_WM_OUTCOLORFMT_FLAG_SWAP_BR ) )
00000764 1d08           2274 	mov	r29,r1
00000766 9e0a           2275 	shr	30,r1
00000768 b105*          2276 	bl	.L1721
                        2277 --703:     {
                        2278 --704:         /* Default value when flag is not set. */
                        2279 --705:         VdceOutSwap = R_VDCE_OUT_SWAP_BR_OFF;
                        2280 --line705
                        2281 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.105::
                        2282 .LDWlin105:
0000076a 00d2           2283 	mov	0,r26
0000076c e505*          2284 	br	.L1723
                        2285 .L1721:

                                                                      Page 41
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
                        2286 --706:     }
                        2287 --707:     else
                        2288 --708:     {
                        2289 --709:         VdceOutSwap = R_VDCE_OUT_SWAP_BR_ON;
                        2290 --line709
                        2291 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.106::
                        2292 .LDWlin106:
0000076e 01d2           2293 	mov	1,r26
                        2294 --711:         /* Remove parsed flag */
                        2295 --712:         Flags = Flags & ~(uint32_t)R_WM_OUTCOLORFMT_FLAG_SWAP_BR;
00000770 2106ffffffdf   2296 	mov	-536870913,r1
00000776 41e9           2297 	and	r1,r29
                        2298 .L1723:
                        2299 --713:     }
                        2300 --714:     
                        2301 --715:     /* Parse flags Dither */
                        2302 --716:     if (0 == ( Flags & (uint32_t)R_WM_OUTCOLORFMT_FLAG_DITHER ) )
00000778 1d08           2303 	mov	r29,r1
0000077a 9d0a           2304 	shr	29,r1
0000077c b105*          2305 	bl	.L1724
                        2306 --717:     {
                        2307 --718:         /* Default value when flag is not set. */
                        2308 --719:         VdceDitherMd = R_VDCE_DTH_MD_NUM;
                        2309 --line719
                        2310 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.107::
                        2311 .LDWlin107:
0000077e 04ca           2312 	mov	4,r25
00000780 e505*          2313 	br	.L1726
                        2314 .L1724:
                        2315 --720:     }
                        2316 --721:     else
                        2317 --722:     {
                        2318 --723:         VdceDitherMd = R_VDCE_DTH_MD_RAND;  /* Select: Random pattern dither */
                        2319 --line723
                        2320 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.108::
                        2321 .LDWlin108:
00000782 03ca           2322 	mov	3,r25
                        2323 --725:         /* Remove parsed flag */
                        2324 --726:         Flags = Flags & ~(uint32_t)R_WM_OUTCOLORFMT_FLAG_DITHER;
00000784 2106ffffffef   2325 	mov	-268435457,r1
0000078a 41e9           2326 	and	r1,r29
                        2327 .L1726:
                        2328 --727:     }
                        2329 --729:     /* Parse color formats */
                        2330 --730:     switch(Format)
0000078c 230f0100       2331 	ld.w	0[sp],r1
00000790 610a           2332 	cmp	1,r1
00000792 d105*          2333 	bl	.L1729
00000794 e205*          2334 	be	.L1730
00000796 620a           2335 	cmp	2,r1
00000798 8a0d*          2336 	bne	.L1732
0000079a d505*          2337 	br	.L1731
                        2338 .L1729:
                        2339 --731:     {
                        2340 --732:         case R_WM_OUTCOLORFMT_RGB888:
                        2341 --733:             VdceOutFormat = R_VDCE_OUT_FORMAT_RGB888;
                        2342 --line733
                        2343 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.109::
                        2344 .LDWlin109:
0000079c 00e2           2345 	mov	0,r28
0000079e f505*          2346 	br	.L1727

                                                                      Page 42
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
                        2347 .L1730:
                        2348 --734:             break;
                        2349 --735:         case R_WM_OUTCOLORFMT_RGB666:
                        2350 --736:             VdceOutFormat = R_VDCE_OUT_FORMAT_RGB666;
                        2351 --line736
                        2352 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.110::
                        2353 .LDWlin110:
000007a0 01e2           2354 	mov	1,r28
000007a2 d505*          2355 	br	.L1727
                        2356 .L1731:
                        2357 --737:             break;
                        2358 --738:         case R_WM_OUTCOLORFMT_RGB565:
                        2359 --739:             VdceOutFormat = R_VDCE_OUT_FORMAT_RGB565;
                        2360 --line739
                        2361 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.111::
                        2362 .LDWlin111:
000007a4 02e2           2363 	mov	2,r28
000007a6 b505*          2364 	br	.L1727
                        2365 .L1732:
                        2366 --740:             break;
                        2367 --741:         default:
                        2368 --742:             VdceOutFormat = R_VDCE_OUT_FORMAT_LAST;
                        2369 --line742
                        2370 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.112::
                        2371 .LDWlin112:
000007a8 04e2           2372 	mov	4,r28
000007aa 0000           2373 	nop
                        2374 .L1727:
                        2375 --743:             break;
                        2376 --744:     }
                        2377 --745:     
                        2378 --746:     /* Check if we could assign valid values */
                        2379 --747:     if ( (0 != Flags) || (R_VDCE_OUT_ENDIAN_LAST == VdceOutEndian) ||
000007ac e0e9           2380 	cmp	zero,r29
000007ae da05*          2381 	bne	.L1734
000007b0 62da           2382 	cmp	2,r27
000007b2 b205*          2383 	be	.L1734
000007b4 62d2           2384 	cmp	2,r26
000007b6 ba05*          2385 	bne	.L1733
                        2386 .L1734:
                        2387 --748:                          (R_VDCE_OUT_SWAP_BR_LAST == VdceOutSwap))
                        2388 --749:     {
                        2389 --750:         /* Unsupported flags */
                        2390 --751:         R_WM_SYS_REPORT_ERROR(Unit, R_WM_ERR_DISPLAY_OUTPUT_FORMAT_SET, 0);
                        2391 --752:         return 0; /* R_WM_ERR_DISPLAY_OUTPUT_FORMAT_SET */
                        2392 --line752
                        2393 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.113::
                        2394 .LDWlin113:
000007b8 0052           2395 	mov	0,r10
000007ba d53d*          2396 	br	.L1716
                        2397 .L1733:
                        2398 --753:     }
                        2399 --755:     if (R_VDCE_OUT_FORMAT_LAST == VdceOutFormat)
                        2400 --line755
                        2401 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.114::
                        2402 .LDWlin114:
000007bc 64e2           2403 	cmp	4,r28
000007be ba05*          2404 	bne	.L1738
                        2405 --756:     {
                        2406 --757:         /* Unsupported color format */
                        2407 --758:         R_WM_SYS_REPORT_ERROR(Unit, R_WM_ERR_DISPLAY_OUTPUT_FORMAT_SET, 0);

                                                                      Page 43
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
                        2408 --759:         return 0; /* R_WM_ERR_DISPLAY_OUTPUT_FORMAT_SET */
                        2409 --line759
                        2410 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.115::
                        2411 .LDWlin115:
000007c0 0052           2412 	mov	0,r10
000007c2 953d*          2413 	br	.L1716
                        2414 .L1738:
                        2415 --760:     }
                        2416 --761:     
                        2417 --762:     
                        2418 --763:     
                        2419 --764:     /* Configure VDCE */
                        2420 --765:     if(R_VDCE_ERR_OK != R_VDCE_DisplayOutEndianSet(Unit, VdceOutEndian))
                        2421 --line765
                        2422 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.116::
                        2423 .LDWlin116:
000007c4 23370500       2424 	ld.w	4[sp],r6
000007c8 1b38           2425 	mov	r27,r7
                        2426 	jarl	_R_VDCE_DisplayOutEndianSet,lp
                        2426 <EXPANSION BEGIN>
                        2426 jarl22 _R_VDCE_DisplayOutEndianSet , lp 
000007ca 80ff0000*      2426 <EXPANSION END>
000007ce e051           2427 	cmp	zero,r10
000007d0 b205*          2428 	be	.L1741
                        2429 --766:     {
                        2430 --767:         return 0;
                        2431 --line767
                        2432 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.117::
                        2433 .LDWlin117:
000007d2 0052           2434 	mov	0,r10
000007d4 8535*          2435 	br	.L1716
                        2436 .L1741:
                        2437 --768:     }
                        2438 --770:     if(R_VDCE_ERR_OK != R_VDCE_DisplayOutSwapBR(Unit, VdceOutSwap))
                        2439 --line770
                        2440 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.118::
                        2441 .LDWlin118:
000007d6 23370500       2442 	ld.w	4[sp],r6
000007da 1a38           2443 	mov	r26,r7
                        2444 	jarl	_R_VDCE_DisplayOutSwapBR,lp
                        2444 <EXPANSION BEGIN>
                        2444 jarl22 _R_VDCE_DisplayOutSwapBR , lp 
000007dc 80ff0000*      2444 <EXPANSION END>
000007e0 e051           2445 	cmp	zero,r10
000007e2 b205*          2446 	be	.L1744
                        2447 --771:     {
                        2448 --772:         return 0;
                        2449 --line772
                        2450 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.119::
                        2451 .LDWlin119:
000007e4 0052           2452 	mov	0,r10
000007e6 f525*          2453 	br	.L1716
                        2454 .L1744:
                        2455 --773:     }
                        2456 --775:     if(R_VDCE_ERR_OK != R_VDCE_DisplayOutFormatSet(Unit, VdceOutFormat))
                        2457 --line775
                        2458 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.120::
                        2459 .LDWlin120:
000007e8 23370500       2460 	ld.w	4[sp],r6
000007ec 1c38           2461 	mov	r28,r7
                        2462 	jarl	_R_VDCE_DisplayOutFormatSet,lp

                                                                      Page 44
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
                        2462 <EXPANSION BEGIN>
                        2462 jarl22 _R_VDCE_DisplayOutFormatSet , lp 
000007ee 80ff0000*      2462 <EXPANSION END>
000007f2 e051           2463 	cmp	zero,r10
000007f4 b205*          2464 	be	.L1747
                        2465 --776:     {
                        2466 --777:         return 0;
                        2467 --line777
                        2468 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.121::
                        2469 .LDWlin121:
000007f6 0052           2470 	mov	0,r10
000007f8 e51d*          2471 	br	.L1716
                        2472 .L1747:
                        2473 --778:     }
                        2474 --779:     
                        2475 --780:     if (R_VDCE_DTH_MD_NUM != VdceDitherMd)
                        2476 --line780
                        2477 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.122::
                        2478 .LDWlin122:
000007fa 64ca           2479 	cmp	4,r25
000007fc b21d*          2480 	be	.L1750
                        2481 --781:     {
                        2482 --782:         VdceDither.Sel = R_VDCE_DTH_MD_RAND;
                        2483 --line782
                        2484 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.123::
                        2485 .LDWlin123:
000007fe 030a           2486 	mov	3,r1
00000800 630f0d00       2487 	st.w	r1,12[sp]
                        2488 --783:         VdceDither.Pa  = 3; /* Dummy values for Pa-Pd. */
00000804 030a           2489 	mov	3,r1
00000806 430f1000       2490 	st.b	r1,16[sp]
                        2491 --784:         VdceDither.Pb  = 0; /*  Only needed for 2x2 pattern dither (R_VDCE_DTH_MD_2X2) */
0000080a 43071100       2492 	st.b	zero,17[sp]
                        2493 --785:         VdceDither.Pc  = 2;
0000080e 020a           2494 	mov	2,r1
00000810 430f1200       2495 	st.b	r1,18[sp]
                        2496 --786:         VdceDither.Pd  = 1;
00000814 010a           2497 	mov	1,r1
00000816 430f1300       2498 	st.b	r1,19[sp]
                        2499 --787:         if (R_VDCE_ERR_OK != R_VDCE_DisplayCalibrationSet(Unit, 0, 0, &VdceDither))
0000081a 23370500       2500 	ld.w	4[sp],r6
0000081e 003a           2501 	mov	0,r7
00000820 0042           2502 	mov	0,r8
00000822 234e0c00       2503 	movea	12,sp,r9
                        2504 	jarl	_R_VDCE_DisplayCalibrationSet,lp
                        2504 <EXPANSION BEGIN>
                        2504 jarl22 _R_VDCE_DisplayCalibrationSet , lp 
00000826 80ff0000*      2504 <EXPANSION END>
0000082a e051           2505 	cmp	zero,r10
0000082c b205*          2506 	be	.L1750
                        2507 --788:         {
                        2508 --789:             return 0;
                        2509 --line789
                        2510 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.124::
                        2511 .LDWlin124:
0000082e 0052           2512 	mov	0,r10
00000830 a505*          2513 	br	.L1716
                        2514 .L1750:
                        2515 --790:         }
                        2516 --791:     }
                        2517 --793:     return 1;

                                                                      Page 45
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000pis1.si
                        2518 --line793
                        2519 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen.125::
                        2520 .LDWlin125:
00000832 0152           2521 	mov	1,r10
                        2522 .L1716:
                        2523 --	    .ef
                        2524 .LDW65:
00000834 4a06ff70       2525 	dispose	5,{r25,r26,r27,r28,r29,r31},[lp]
                        2526 	.type	_R_WM_Sys_ScreenColorFormatSet,@function
                        2527 	.size	_R_WM_Sys_ScreenColorFormatSet,.-_R_WM_Sys_ScreenColorFormatSet
                        2528 	.align	2
                        2529 .LDW75:
                        2530 --_Format	0[sp]	local
                        2531 --_Flags	r29	local
                        2532 --_VdceOutEndian	r27	local
                        2533 --_VdceOutFormat	r28	local
                        2534 --_VdceOutSwap	r26	local
                        2535 --_VdceDitherMd	r25	local
                        2536 --_VdceDither	12[sp]	local
                        2537 
                        2538 --_Unit	4[sp]	param
                        2539 --_OutFmt	8[sp]	param
                        2540 
                        2541 	.section ".bss","awb"
                        2542 .L1962:
                        2543 	.type	.L1962,@object
                        2544 	.size	.L1962,0
                        2545 	.data
                        2546 	.text
                        2547 
                        2548 --794: }
                        2549 	.align	2
                        2550 --_r_wm_DevSys	_r_wm_DevSys	import
                        2551 --_loc_WM_Isr	_loc_WM_Isr	import
                        2552 
                        2553 	.data
                        2554 	.ghsnote version,15
                        2555 	.ghsnote tools,3
                        2556 	.ghsnote options,144
                        2557 	.text
                        2558 	.align	2
                        2559 ..eof.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_screen...43.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs..5BC5D028..0::
                        2560 .rh850_flags FLOAT,REGMODE22,DATA_ALIGN8,GP_FIX,EP_NONFIX,TP_FIX,REG2_RESERVE,FPU30,G3M
