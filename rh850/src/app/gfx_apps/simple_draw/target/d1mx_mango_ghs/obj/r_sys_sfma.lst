                                                                      Page 1
                                                              C:\Users\Frank\AppData\Local\Temp\gh_00003b41.si
Command Line: C:\GHS\V800.V2014.1.7\comp_201417\ease850.exe -w -elf -b0 -I../../../../../app/common/dhd -I../../../../../app/gfx_apps/simple_draw/src -I../../../../../app/gfx_apps/simple_draw/lib -I../../../../../bsp/board//config -I../../../../../bsp/board//src/gfx -I../../../../../bsp/board//src/hmi -I../../../../../bsp/board//src/stdio -I../../../../../bsp/board/d1mx_mango/config -I../../../../../bsp/board/d1mx_mango/src -I../../../../../bsp/board/d1mx_mango/src/gfx -I../../../../../bsp/board/d1mx_mango/src/hmi -I../../../../../bsp/board/d1mx_mango/src/stdio -I../../../../../bsp/gfx/lib -I../../../../../bsp/gfx/src -I../../../../../bsp/hmi/lib -I../../../../../bsp/hmi/src -I../../../../../bsp/lib -I../../../../../bsp/stdio/lib -I../../../../../bsp/stdio/src -I../../../../../cdi/lib -I../../../../../cdi/src -I../../../../../compiler/rh850_ghs/inc -I../../../../../device/d1mx/lib -I../../../../../device/d1mx/macro_cfg -I../../../../../device/d1mx/macro_cfg/csisw -I../../../../../device/d1mx/macro_cfg/davehd -I../../../../../device/d1mx/macro_cfg/ddb -I../../../../../device/d1mx/macro_cfg/drw2d -I../../../../../device/d1mx/macro_cfg/gfxbus -I../../../../../device/d1mx/macro_cfg/gpio -I../../../../../device/d1mx/macro_cfg/hypb -I../../../../../device/d1mx/macro_cfg/hypdb -I../../../../../device/d1mx/macro_cfg/jcua -I../../../../../device/d1mx/macro_cfg/nfmabare -I../../../../../device/d1mx/macro_cfg/octa -I../../../../../device/d1mx/macro_cfg/octacdb -I../../../../../device/d1mx/macro_cfg/ostm -I../../../../../device/d1mx/macro_cfg/pbg -I../../../../../device/d1mx/macro_cfg/riic -I../../../../../device/d1mx/macro_cfg/sfcdb -I../../../../../device/d1mx/macro_cfg/sfma -I../../../../../device/d1mx/macro_cfg/spea -I../../../../../device/d1mx/macro_cfg/tauj -I../../../../../device/d1mx/macro_cfg/tick -I../../../../../device/d1mx/macro_cfg/vdce -I../../../../../device/d1mx/macro_cfg/vowe -I../../../../../device/d1mx/macro_cfg/wm -I../../../../../device/d1mx/macro_cfg/xbus -I../../../../../device/d1mx/src/dev -I../../../../../device/d1mx/src/dhd -I../../../../../device/d1mx/src/hypb -I../../../../../device/d1mx/src/jcua -I../../../../../device/d1mx/src/nfmabare -I../../../../../device/d1mx/src/octa -I../../../../../device/d1mx/src/rh850_ghs -I../../../../../device/d1mx/src/vowe -I../../../../../device/d1x_common/macro_cfg -I../../../../../device/d1x_common/macro_cfg/csisw -I../../../../../device/d1x_common/macro_cfg/davehd -I../../../../../device/d1x_common/macro_cfg/ddb -I../../../../../device/d1x_common/macro_cfg/drw2d -I../../../../../device/d1x_common/macro_cfg/gfxbus -I../../../../../device/d1x_common/macro_cfg/gpio -I../../../../../device/d1x_common/macro_cfg/hypb -I../../../../../device/d1x_common/macro_cfg/hypdb -I../../../../../device/d1x_common/macro_cfg/jcua -I../../../../../device/d1x_common/macro_cfg/nfmabare -I../../../../../device/d1x_common/macro_cfg/octa -I../../../../../device/d1x_common/macro_cfg/octacdb -I../../../../../device/d1x_common/macro_cfg/ostm -I../../../../../device/d1x_common/macro_cfg/pbg -I../../../../../device/d1x_common/macro_cfg/riic -I../../../../../device/d1x_common/macro_cfg/sfcdb -I../../../../../device/d1x_common/macro_cfg/sfma -I../../../../../device/d1x_common/macro_cfg/spea -I../../../../../device/d1x_common/macro_cfg/tauj -I../../../../../device/d1x_common/macro_cfg/tick -I../../../../../device/d1x_common/macro_cfg/vdce -I../../../../../device/d1x_common/macro_cfg/vowe -I../../../../../device/d1x_common/macro_cfg/wm -I../../../../../device/d1x_common/macro_cfg/xbus -I../../../../../device/d1x_common/src/csisw -I../../../../../device/d1x_common/src/ddb -I../../../../../device/d1x_common/src/dev -I../../../../../device/d1x_common/src/gfxbus -I../../../../../device/d1x_common/src/gpio -I../../../../../device/d1x_common/src/ostm -I../../../../../device/d1x_common/src/pbg -I../../../../../device/d1x_common/src/riic -I../../../../../device/d1x_common/src/sfma -I../../../../../device/d1x_common/src/spea -I../../../../../device/d1x_common/src/tauj -I../../../../../device/d1x_common/src/tick -I../../../../../device/d1x_common/src/vdce -I../../../../../device/d1x_common/src/wm -I../../../../../device/d1x_common/src/xbus -I../../../../../device/lib -I../../../../../macro/bus/pbg/lib -I../../../../../macro/bus/pbg/src -I../../../../../macro/csi/csisw/lib -I../../../../../macro/csi/csisw/src -I../../../../../macro/drw2d/lib -I../../../../../macro/drw2d/platform/davehd -I../../../../../macro/drw2d/platform/os/no_os -I../../../../../macro/drw2d/src -I../../../../../macro/flashc/hypb/lib -I../../../../../macro/flashc/hypb/src -I../../../../../macro/flashc/hypdb/lib -I../../../../../macro/flashc/hypdb/src -I../../../../../macro/flashc/nfmabare/lib -I../../../../../macro/flashc/nfmabare/src -I../../../../../macro/flashc/octa/lib -I../../../../../macro/flashc/octa/src -I../../../../../macro/flashc/octacdb/lib -I../../../../../macro/flashc/octacdb/src -I../../../../../macro/flashc/sfcdb/lib -I../../../../../macro/flashc/sfcdb/src -I../../../../../macro/flashc/sfma/lib -I../../../../../macro/flashc/sfma/src -I../../../../../macro/gfxbus/lib -I../../../../../macro/gfxbus/src -I../../../../../macro/gfxbus/xbus/lib -I../../../../../macro/gfxbus/xbus/src -I../../../../../macro/gpio/lib -I../../../../../macro/gpio/src -I../../../../../macro/gpu/davehd/common/inc -I../../../../../macro/gpu/davehd/common/inc/platform -I../../../../../macro/gpu/davehd/common/inc/platform/d1mx -I../../../../../macro/gpu/davehd/docs -I../../../../../macro/gpu/davehd/kernel/inc -I../../../../../macro/gpu/davehd/kernel/platform/d1mx -I../../../../../macro/gpu/davehd/kernel/platform/d1mx/bridge -I../../../../../macro/gpu/davehd/kernel/platform/d1mx/non_threaded -I../../../../../macro/gpu/davehd/kernel/platform/ree -I../../../../../macro/gpu/davehd/kernel/src -I../../../../../macro/gpu/davehd/user/inc -I../../../../../macro/gpu/davehd/user/platform/d1mx/no_os -I../../../../../macro/gpu/davehd/user/src -I../../../../../macro/gpu/jcua/lib -I../../../../../macro/gpu/jcua/src -I../../../../../macro/i2c/riic/lib -I../../../../../macro/i2c/riic/src -I../../../../../macro/tick/lib -I../../../../../macro/tick/src -I../../../../../macro/timer/ostm/lib -I../../../../../macro/timer/ostm/src -I../../../../../macro/timer/tauj/lib -I../../../../../macro/timer/tauj/src -I../../../../../macro/vdce/lib -I../../../../../macro/vdce/src -I../../../../../macro/vo/ddb/lib -I../../../../../macro/vo/ddb/src -I../../../../../macro/vo/spea/lib -I../../../../../macro/vo/spea/src -I../../../../../macro/vo/vowe/lib -I../../../../../macro/vo/vowe/src -I../../../../../macro/wm/lib -I../../../../../macro/wm/src -I../../../../../macro/pwm/lib -I../../../../../macro/reset/lib -I../../../../../macro/rscan/lib -I../../../../../macro/uart/rlin3/lib -I../../../../../macro/uart/rlin3/src -I../../../../../device/d1x_common/macro_cfg/rlin3 -I../../../../../macro/stbc/lib -I../../../../../macro/adc/lib -I../../../../../device/d1x_common/macro_cfg/adc7010 -IC:\GHS\V800.V2014.1.7\comp_201417\lib\rh850_22 -cg_underscore -cpu=rh850g3m -no_v850_simd -rh850_fpsimd=none -nomacro -patch_dbo=C:\git\rh850\src\app\gfx_apps\simple_draw\target\d1mx_mango_ghs\obj\r_sys_sfma.dbo -source=r_sys_sfma.c -o .\obj\gh_00003b41.o -list=.\obj\r_sys_sfma.lst C:\Users\Frank\AppData\Local\Temp\gh_00003b41.si 
Original File: C:\Users\Frank\AppData\Local\Temp\gh_00003b41.si
Source File: r_sys_sfma.c
Directory: C:\git\rh850\src\app\gfx_apps\simple_draw\target\d1mx_mango_ghs
Host OS: Windows
EASE: Copyright (C) 1983-2014 Green Hills Software.  All Rights Reversed.
Release: Compiler v2014.1.7
Build Directory: [Directory] BTOWINBOX:c:/build_2014_1_bto/2014-09-04.2200-2014_1_bto/win32-comp-ecom
Revision: [VCInfo] http://toolsvc/branches/release-branch-2014-1-bto/src@515859 (built by build)
Revision Date: Fri Sep 05 14:05:06 2014

Release Date: Fri Sep 05 14:43:29 2014

                           1 --Driver Command: ccv850 -c -MD -I../../../../../app/common/dhd
                           2 --		-I../../../../../app/gfx_apps/simple_draw/src
                           3 --		-I../../../../../app/gfx_apps/simple_draw/lib
                           4 --		-I../../../../../bsp/board//config
                           5 --		-I../../../../../bsp/board//src/gfx
                           6 --		-I../../../../../bsp/board//src/hmi
                           7 --		-I../../../../../bsp/board//src/stdio
                           8 --		-I../../../../../bsp/board/d1mx_mango/config
                           9 --		-I../../../../../bsp/board/d1mx_mango/src
                          10 --		-I../../../../../bsp/board/d1mx_mango/src/gfx
                          11 --		-I../../../../../bsp/board/d1mx_mango/src/hmi
                          12 --		-I../../../../../bsp/board/d1mx_mango/src/stdio
                          13 --		-I../../../../../bsp/gfx/lib -I../../../../../bsp/gfx/src
                          14 --		-I../../../../../bsp/hmi/lib -I../../../../../bsp/hmi/src
                          15 --		-I../../../../../bsp/lib -I../../../../../bsp/stdio/lib
                          16 --		-I../../../../../bsp/stdio/src -I../../../../../cdi/lib
                          17 --		-I../../../../../cdi/src -I../../../../../compiler/rh850_ghs/inc
                          18 --		-I../../../../../device/d1mx/lib
                          19 --		-I../../../../../device/d1mx/macro_cfg
                          20 --		-I../../../../../device/d1mx/macro_cfg/csisw
                          21 --		-I../../../../../device/d1mx/macro_cfg/davehd
                          22 --		-I../../../../../device/d1mx/macro_cfg/ddb
                          23 --		-I../../../../../device/d1mx/macro_cfg/drw2d
                          24 --		-I../../../../../device/d1mx/macro_cfg/gfxbus
                          25 --		-I../../../../../device/d1mx/macro_cfg/gpio
                          26 --		-I../../../../../device/d1mx/macro_cfg/hypb
                          27 --		-I../../../../../device/d1mx/macro_cfg/hypdb
                          28 --		-I../../../../../device/d1mx/macro_cfg/jcua
                          29 --		-I../../../../../device/d1mx/macro_cfg/nfmabare
                          30 --		-I../../../../../device/d1mx/macro_cfg/octa
                          31 --		-I../../../../../device/d1mx/macro_cfg/octacdb
                          32 --		-I../../../../../device/d1mx/macro_cfg/ostm
                          33 --		-I../../../../../device/d1mx/macro_cfg/pbg
                          34 --		-I../../../../../device/d1mx/macro_cfg/riic
                          35 --		-I../../../../../device/d1mx/macro_cfg/sfcdb
                          36 --		-I../../../../../device/d1mx/macro_cfg/sfma
                          37 --		-I../../../../../device/d1mx/macro_cfg/spea
                          38 --		-I../../../../../device/d1mx/macro_cfg/tauj
                          39 --		-I../../../../../device/d1mx/macro_cfg/tick
                          40 --		-I../../../../../device/d1mx/macro_cfg/vdce
                          41 --		-I../../../../../device/d1mx/macro_cfg/vowe
                          42 --		-I../../../../../device/d1mx/macro_cfg/wm
                          43 --		-I../../../../../device/d1mx/macro_cfg/xbus
                          44 --		-I../../../../../device/d1mx/src/dev
                          45 --		-I../../../../../device/d1mx/src/dhd
                          46 --		-I../../../../../device/d1mx/src/hypb
                          47 --		-I../../../../../device/d1mx/src/jcua
                          48 --		-I../../../../../device/d1mx/src/nfmabare
                          49 --		-I../../../../../device/d1mx/src/octa
                          50 --		-I../../../../../device/d1mx/src/rh850_ghs

                                                                      Page 2
                                                              C:\Users\Frank\AppData\Local\Temp\gh_00003b41.si
                          51 --		-I../../../../../device/d1mx/src/vowe
                          52 --		-I../../../../../device/d1x_common/macro_cfg
                          53 --		-I../../../../../device/d1x_common/macro_cfg/csisw
                          54 --		-I../../../../../device/d1x_common/macro_cfg/davehd
                          55 --		-I../../../../../device/d1x_common/macro_cfg/ddb
                          56 --		-I../../../../../device/d1x_common/macro_cfg/drw2d
                          57 --		-I../../../../../device/d1x_common/macro_cfg/gfxbus
                          58 --		-I../../../../../device/d1x_common/macro_cfg/gpio
                          59 --		-I../../../../../device/d1x_common/macro_cfg/hypb
                          60 --		-I../../../../../device/d1x_common/macro_cfg/hypdb
                          61 --		-I../../../../../device/d1x_common/macro_cfg/jcua
                          62 --		-I../../../../../device/d1x_common/macro_cfg/nfmabare
                          63 --		-I../../../../../device/d1x_common/macro_cfg/octa
                          64 --		-I../../../../../device/d1x_common/macro_cfg/octacdb
                          65 --		-I../../../../../device/d1x_common/macro_cfg/ostm
                          66 --		-I../../../../../device/d1x_common/macro_cfg/pbg
                          67 --		-I../../../../../device/d1x_common/macro_cfg/riic
                          68 --		-I../../../../../device/d1x_common/macro_cfg/sfcdb
                          69 --		-I../../../../../device/d1x_common/macro_cfg/sfma
                          70 --		-I../../../../../device/d1x_common/macro_cfg/spea
                          71 --		-I../../../../../device/d1x_common/macro_cfg/tauj
                          72 --		-I../../../../../device/d1x_common/macro_cfg/tick
                          73 --		-I../../../../../device/d1x_common/macro_cfg/vdce
                          74 --		-I../../../../../device/d1x_common/macro_cfg/vowe
                          75 --		-I../../../../../device/d1x_common/macro_cfg/wm
                          76 --		-I../../../../../device/d1x_common/macro_cfg/xbus
                          77 --		-I../../../../../device/d1x_common/src/csisw
                          78 --		-I../../../../../device/d1x_common/src/ddb
                          79 --		-I../../../../../device/d1x_common/src/dev
                          80 --		-I../../../../../device/d1x_common/src/gfxbus
                          81 --		-I../../../../../device/d1x_common/src/gpio
                          82 --		-I../../../../../device/d1x_common/src/ostm
                          83 --		-I../../../../../device/d1x_common/src/pbg
                          84 --		-I../../../../../device/d1x_common/src/riic
                          85 --		-I../../../../../device/d1x_common/src/sfma
                          86 --		-I../../../../../device/d1x_common/src/spea
                          87 --		-I../../../../../device/d1x_common/src/tauj
                          88 --		-I../../../../../device/d1x_common/src/tick
                          89 --		-I../../../../../device/d1x_common/src/vdce
                          90 --		-I../../../../../device/d1x_common/src/wm
                          91 --		-I../../../../../device/d1x_common/src/xbus
                          92 --		-I../../../../../device/lib -I../../../../../macro/bus/pbg/lib
                          93 --		-I../../../../../macro/bus/pbg/src
                          94 --		-I../../../../../macro/csi/csisw/lib
                          95 --		-I../../../../../macro/csi/csisw/src
                          96 --		-I../../../../../macro/drw2d/lib
                          97 --		-I../../../../../macro/drw2d/platform/davehd
                          98 --		-I../../../../../macro/drw2d/platform/os/no_os
                          99 --		-I../../../../../macro/drw2d/src
                         100 --		-I../../../../../macro/flashc/hypb/lib
                         101 --		-I../../../../../macro/flashc/hypb/src
                         102 --		-I../../../../../macro/flashc/hypdb/lib
                         103 --		-I../../../../../macro/flashc/hypdb/src
                         104 --		-I../../../../../macro/flashc/nfmabare/lib
                         105 --		-I../../../../../macro/flashc/nfmabare/src
                         106 --		-I../../../../../macro/flashc/octa/lib
                         107 --		-I../../../../../macro/flashc/octa/src
                         108 --		-I../../../../../macro/flashc/octacdb/lib
                         109 --		-I../../../../../macro/flashc/octacdb/src
                         110 --		-I../../../../../macro/flashc/sfcdb/lib
                         111 --		-I../../../../../macro/flashc/sfcdb/src

                                                                      Page 3
                                                              C:\Users\Frank\AppData\Local\Temp\gh_00003b41.si
                         112 --		-I../../../../../macro/flashc/sfma/lib
                         113 --		-I../../../../../macro/flashc/sfma/src
                         114 --		-I../../../../../macro/gfxbus/lib
                         115 --		-I../../../../../macro/gfxbus/src
                         116 --		-I../../../../../macro/gfxbus/xbus/lib
                         117 --		-I../../../../../macro/gfxbus/xbus/src
                         118 --		-I../../../../../macro/gpio/lib -I../../../../../macro/gpio/src
                         119 --		-I../../../../../macro/gpu/davehd/common/inc
                         120 --		-I../../../../../macro/gpu/davehd/common/inc/platform
                         121 --		-I../../../../../macro/gpu/davehd/common/inc/platform/d1mx
                         122 --		-I../../../../../macro/gpu/davehd/docs
                         123 --		-I../../../../../macro/gpu/davehd/kernel/inc
                         124 --		-I../../../../../macro/gpu/davehd/kernel/platform/d1mx
                         125 --		-I../../../../../macro/gpu/davehd/kernel/platform/d1mx/bridge
                         126 --		-I../../../../../macro/gpu/davehd/kernel/platform/d1mx/non_threaded
                         127 --		-I../../../../../macro/gpu/davehd/kernel/platform/ree
                         128 --		-I../../../../../macro/gpu/davehd/kernel/src
                         129 --		-I../../../../../macro/gpu/davehd/user/inc
                         130 --		-I../../../../../macro/gpu/davehd/user/platform/d1mx/no_os
                         131 --		-I../../../../../macro/gpu/davehd/user/src
                         132 --		-I../../../../../macro/gpu/jcua/lib
                         133 --		-I../../../../../macro/gpu/jcua/src
                         134 --		-I../../../../../macro/i2c/riic/lib
                         135 --		-I../../../../../macro/i2c/riic/src
                         136 --		-I../../../../../macro/tick/lib -I../../../../../macro/tick/src
                         137 --		-I../../../../../macro/timer/ostm/lib
                         138 --		-I../../../../../macro/timer/ostm/src
                         139 --		-I../../../../../macro/timer/tauj/lib
                         140 --		-I../../../../../macro/timer/tauj/src
                         141 --		-I../../../../../macro/vdce/lib -I../../../../../macro/vdce/src
                         142 --		-I../../../../../macro/vo/ddb/lib
                         143 --		-I../../../../../macro/vo/ddb/src
                         144 --		-I../../../../../macro/vo/spea/lib
                         145 --		-I../../../../../macro/vo/spea/src
                         146 --		-I../../../../../macro/vo/vowe/lib
                         147 --		-I../../../../../macro/vo/vowe/src -I../../../../../macro/wm/lib
                         148 --		-I../../../../../macro/wm/src -I../../../../../macro/pwm/lib
                         149 --		-I../../../../../macro/i2c/riic/lib
                         150 --		-I../../../../../macro/reset/lib -I../../../../../macro/rscan/lib
                         151 --		-I../../../../../macro/uart/rlin3/lib
                         152 --		-I../../../../../macro/uart/rlin3/src
                         153 --		-I../../../../../device/d1x_common/macro_cfg/rlin3
                         154 --		-I../../../../../macro/stbc/lib
                         155 --		-I../../../../../app/gfx_apps/simple_draw/lib
                         156 --		-I../../../../../macro/adc/lib
                         157 --		-I../../../../../device/d1x_common/macro_cfg/adc7010 -G
                         158 --		--no_commons --no_implicit_include --prototype_errors
                         159 --		-DRENESAS_D1X -DR_DRW2D_OS_NO_OS -DR_DRW2D_SYS_DHD
                         160 --		-DUSED_CPU=RH850G3M -DUSE_BSP_GFX -DUSE_BSP_HMI -DUSE_BSP_STDIO
                         161 --		-DUSE_CDI -DUSE_CSISW -DUSE_DAVEHD -DUSE_DDB -DUSE_DRW2D
                         162 --		-DUSE_GFXBUS -DUSE_GPIO -DUSE_HYPB -DUSE_HYPDB -DUSE_JCUA
                         163 --		-DUSE_NFMABARE -DUSE_OCTA -DUSE_OCTACDB -DUSE_OSTM -DUSE_PBG
                         164 --		-DUSE_RIIC -DUSE_SFCDB -DUSE_SFMA -DUSE_SPEA -DUSE_TAUJ
                         165 --		-DUSE_TICK -DUSE_VDCE -DUSE_WM -DUSE_XBUS -DMAG -MD -Zuse1bit
                         166 --		-allocate_ep -cpu=rh850g3m -large_sda -list -no_callt -notda
                         167 --		-passsource -preprocess_assembly_files -registermode=22
                         168 --		-reserve_r2 --diag_warning 1 -object_dir=./obj -DUSE_VDCE_OPENLDI
                         169 --		-gnu99 -filetype.c
                         170 --		..\..\..\..\..\device\d1x_common\src\sfma\r_sys_sfma.c -o
                         171 --		.\obj\r_sys_sfma.o
                         172 --Source File:   ..\..\..\..\..\device\d1x_common\src\sfma\r_sys_sfma.c

                                                                      Page 4
                                                              C:\Users\Frank\AppData\Local\Temp\gh_00003b41.si
                         173 --Directory:     
                         174 --		C:\git\rh850\src\app\gfx_apps\simple_draw\target\d1mx_mango_ghs
                         175 --Compile Date:  Tue Oct 16 19:48:55 2018
                         176 --Host OS:       Win32
                         177 --Version:       C-RH850 2014.1.7 RELEASE VERSION
                         178 --Release:       Compiler v2014.1.7
                         179 --Revision Date: Fri Sep 05 14:10:46 2014
                         180 --Release Date:  Fri Sep 05 14:44:23 2014
                         181 -- ecom  -g -w
                         182 
                         183 --1: /*
                         184 --2: ****************************************************************************
                         185 --3: PROJECT : SFMA driver
                         186 --4: FILE    : $Id: r_sys_sfma.c 13440 2017-05-10 08:44:23Z shinya.tomari $
                         187 --5: ============================================================================
                         188 --6: DESCRIPTION
                         189 --7: SFMA support functions for d1x
                         190 --8: ============================================================================
                         191 --9:                             C O P Y R I G H T
                         192 --10: ============================================================================
                         193 --11:                            Copyright (c) 2013 - 2014
                         194 --12:                                   by
                         195 --13:                        Renesas Electronics (Europe) GmbH.
                         196 --14:                            Arcadiastrasse 10
                         197 --15:                           D-40472 Duesseldorf
                         198 --16:                                Germany
                         199 --17:                           All rights reserved.
                         200 --18: ============================================================================
                         201 --19: Purpose: only for testing, not for mass production
                         202 --21: DISCLAIMER
                         203 --23: LICENSEE has read, understood and accepted the terms and conditions defined in
                         204 --24: the license agreement, especially the usage rights. In any case, it is
                         205 --25: LICENSEE's responsibility to make sure that any user of the software complies
                         206 --26: with the terms and conditions of the signed license agreement.
                         207 --28: SAMPLE CODE is not part of the licensed software, as such it must not be used in
                         208 --29: mass-production applications. It can only be used for evaluation and
                         209 --30: demonstration purposes at customer's premises listed in the signed license
                         210 --31: agreement.
                         211 --33: ****************************************************************************
                         212 --34: */
                         213 --37: /***************************************************************************
                         214 --38:   Title: SFMA Driver support functions
                         215 --40:   Implementation of the SFMA support functions for the D1x device.
                         216 --42: */
                         217 --44: /***************************************************************************
                         218 --45:   Section: Includes
                         219 --46: */
                         220 --47: #include "r_typedefs.h"
                         221 --48: #include "r_sfma_api.h"
                         222 --49: #include "r_sfma_sys.h"
                         223 --50: #include "r_config_sfma.h"
                         224 --51: #include "r_dev_api.h"
                         225 --54: /***************************************************************************
                         226 --55:   Section: Local Defines
                         227 --56: */
                         228 --58: /*******************************************************************************
                         229 --59:   Constant: LOC_SYS_SFMA_CKDLY
                         230 --61:   The offset value of the CKDLY register from the base address.
                         231 --62: */
                         232 --63: #define LOC_SYS_SFMA_CKDLY              (0x00000050uL)
                         233 --65: /*******************************************************************************

                                                                      Page 5
                                                              C:\Users\Frank\AppData\Local\Temp\gh_00003b41.si
                         234 --66:   Constant: LOC_SYS_SFMA_SPODLY
                         235 --68:   The offset value of the SPODL register from the base address.
                         236 --69: */
                         237 --70: #define LOC_SYS_SFMA_SPODLY             (0x00000068uL)
                         238 --72: /*******************************************************************************
                         239 --73:   Constant: LOC_SYS_SFMA_CLOCK_ADJUSTED_LIMIT
                         240 --75:   The limit value which needs the adjustment of the phase relationship.
                         241 --76: */
                         242 --77: #define LOC_SYS_SFMA_CLOCK_ADJUSTED_LIMIT       (60 * 1000 * 1000)
                         243 --79: /***************************************************************************
                         244 --80:   Constant: LOC_SYS_SFMA_DRCR
                         245 --82:   The offset value of the DRCR register from the base address.
                         246 --83: */
                         247 --84: #define LOC_SYS_SFMA_DRCR               (0x0c)
                         248 --87: /***************************************************************************
                         249 --88:   Constant: LOC_SYS_SFMA_CKDLY_MASK
                         250 --90:   Mask for the CKDLY register.
                         251 --91: */
                         252 --92: #define LOC_SYS_SFMA_CKDLY_MASK         (0xFFF8FFF8uL)
                         253 --95: /***************************************************************************
                         254 --96:   Constant: LOC_SFMA_DEFAULT_CAL
                         255 --98:   Default calibration for Serial flash memory.
                         256 --100:     SPBCLK clock phase shift        3 (Upper 16bits)
                         257 --101:     Sampling point phase shift      1 (Lower 16 bits)
                         258 --102: */
                         259 --104: #define SPBCLK_CLOCK_PHASE_SHIFT    (3u)
                         260 --105: #define SAMPLING_POINT_PHASE_SHIFT  (1u)
                         261 --106: #define LOC_SFMA_DEFAULT_CAL        ((SPBCLK_CLOCK_PHASE_SHIFT << 16) | SAMPLING_POINT_PHASE_SHIFT)
                         262 --108: /***************************************************************************
                         263 --109:   Constant: LOC_SYS_SFMA
                         264 --111: */
                         265 --112: #define LOC_SYS_SFMA_UNIT       (3u)
                         266 --114: /***************************************************************************
                         267 --115:   Constant: LOC_SYS_DEV_NUM
                         268 --117:   Number of device information resource.
                         269 --118:   It should be simultaneous operation number.
                         270 --119:   SFMA0 and (SFMA1 or SFMA2)
                         271 --120: */
                         272 --121: #define LOC_SYS_DEV_NUM         (2u)
                         273 --123: /***************************************************************************
                         274 --124:   Constant: LOC_SYS_SFMA
                         275 --126:   The Unit number for SFMA.
                         276 --127: */
                         277 --128: #define LOC_SYS_SFMA0  (0u)
                         278 --129: #define LOC_SYS_SFMA1  (1u)
                         279 --130: #define LOC_SYS_SFMA2  (2u)
                         280 --132: /***************************************************************************
                         281 --133:   Constant: LOC_SYS_SFMA_MAX_MACRO_NUM
                         282 --135:   The number of unit for SFMA.
                         283 --136: */
                         284 --137: #define LOC_SYS_SFMA_MAX_MACRO_NUM        (1u)
                         285 --138: #define LOC_SYS_SFMA_MAX_MACRO_NUM_D1M1A  (3u)
                         286 --139: #define LOC_SYS_SFMA_MAX_MACRO_NUM_D1M1V2 (2u)
                         287 --141: /***************************************************************************
                         288 --142:   Constant: LOC_SYS_SFMA_MAX_CLK
                         289 --144:   The maximum serial clock SPBCLK.
                         290 --145:   SFMA1 for D1M1A is maximum 40MHz.
                         291 --146:   The other are maximum 80MHz.
                         292 --147: */
                         293 --148: #define LOC_SYS_SFMA_MAX_CLK_40MHz        ( 40 * 1000 * 1000)
                         294 --149: #define LOC_SYS_SFMA_MAX_CLK_80MHz        ( 80 * 1000 * 1000)

                                                                      Page 6
                                                              C:\Users\Frank\AppData\Local\Temp\gh_00003b41.si
                         295 --150: #define LOC_SYS_SFMA_MAX_CLK_120MHz       (120 * 1000 * 1000)
                         296 --152: /***************************************************************************
                         297 --153:   Section: Local Variables
                         298 --154: */
                         299 --155: /*******************************************************************************
                         300 --156:   Variable: r_sfma_Dev
                         301 --158:   This value stores the setting information of SFMA driver.
                         302 --159:   SFMA1 and SFMA2 use same resource.
                         303 --160: */
                         304 --161: static r_sfma_Dev_t   r_sfma_Dev[LOC_SYS_DEV_NUM];
                         305 --163: /*******************************************************************************
                         306 --164:   Variable: loc_sfma_base
                         307 --166:   This value stores the base address of SFMA driver.
                         308 --167: */
                         309 --168: static uint32_t loc_sfma_base[LOC_SYS_SFMA_UNIT] = {R_SFMA_BASE_ADD0, R_SFMA_BASE_ADD1, R_SFMA_BASE_ADD1};
                         310 --170: /*******************************************************************************
                         311 --171:   Variable: loc_sfma_SwapUnit
                         312 --173:   This value stores the swap unit.
                         313 --174: */
                         314 --175: static uint32_t loc_sfma_SwapUnit[LOC_SYS_SFMA_UNIT] = {LOC_SYS_SFMA1, LOC_SYS_SFMA0, LOC_SYS_SFMA0};
                         315 --177: /***************************************************************************
                         316 --178:   Section: SFMA driver support functions
                         317 --180:   Comments see: <r_sfma_sys.h>
                         318 --181: */
                         319 --183: /***************************************************************************
                         320 --184:   Function: R_SFMA_Sys_NumberOfUnitGet
                         321 --186:   see: <r_sfma_sys.h>
                         322 --187: */
                         323 --188: uint32_t R_SFMA_Sys_NumberOfUnitGet(void)
                         324 	.text
                         325 ..bof.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma...43.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs..5BC5D027..0::
                         326 	.align	2
                         327 	.global	_R_SFMA_Sys_NumberOfUnitGet
                         328 _R_SFMA_Sys_NumberOfUnitGet:
00000000 8007e100        329 	prepare	{r28,r29,r31},0
00000004 3c0600000000*   330 	mov	.L87,r28
                         331 --	    .bf
                         332 .LDW01:
                         333 --189: {
                         334 --190:     static uint32_t loc_sfma_NumOfUnit = 0;
                         335 --191:     r_dev_Device_t device;
                         336 --193:     if (loc_sfma_NumOfUnit == 0)
0000000a 3c0f0100        337 	ld.w	0[r28],r1
0000000e e009            338 	cmp	zero,r1
00000010 8a1d*           339 	bne	.L4
                         340 --194:     {
                         341 --195:         device = R_DEV_GetDev();
                         342 --line195
                         343 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.1::
                         344 .LDWlin1:
                         345 	jarl	_R_DEV_GetDev,lp
                         345 <EXPANSION BEGIN>
                         345 jarl22 _R_DEV_GetDev , lp 
00000012 80ff0000*       345 <EXPANSION END>
00000016 0ae8            346 	mov	r10,r29
                         347 --196:         if (device == R_DEV_R7F701441)    /* RH850/D1M1A */
                         348 --line196
                         349 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.2::
                         350 .LDWlin2:
00000018 1d065ffa        351 	addi	-1441,r29,zero
0000001c da05*           352 	bne	.L6

                                                                      Page 7
                                                              C:\Users\Frank\AppData\Local\Temp\gh_00003b41.si
                         353 --197:         {
                         354 --198:             loc_sfma_NumOfUnit = LOC_SYS_SFMA_MAX_MACRO_NUM_D1M1A;
                         355 --line198
                         356 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.3::
                         357 .LDWlin3:
0000001e 030a            358 	mov	3,r1
00000020 7c0f0100        359 	st.w	r1,0[r28]
00000024 e50d*           360 	br	.L4
                         361 .L6:
                         362 --199:         }
                         363 --200:         else if ((device == R_DEV_R7F701442) /* RH850/D1M1-V2 */
                         364 --line200
                         365 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.4::
                         366 .LDWlin4:
00000026 1d065efa        367 	addi	-1442,r29,zero
0000002a c205*           368 	be	.L10
0000002c 1d0676fa        369 	addi	-1418,r29,zero
00000030 da05*           370 	bne	.L9
                         371 .L10:
                         372 --201:               || (device == R_DEV_R7F701418))
                         373 --202:         {
                         374 --203:             loc_sfma_NumOfUnit = LOC_SYS_SFMA_MAX_MACRO_NUM_D1M1V2;
                         375 --line203
                         376 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.5::
                         377 .LDWlin5:
00000032 020a            378 	mov	2,r1
00000034 7c0f0100        379 	st.w	r1,0[r28]
00000038 c505*           380 	br	.L4
                         381 .L9:
                         382 --204:         }
                         383 --205:         else
                         384 --206:         {
                         385 --207:             loc_sfma_NumOfUnit = LOC_SYS_SFMA_MAX_MACRO_NUM;
                         386 --line207
                         387 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.6::
                         388 .LDWlin6:
0000003a 010a            389 	mov	1,r1
0000003c 7c0f0100        390 	st.w	r1,0[r28]
                         391 .L4:
                         392 --208:         }
                         393 --209:     }
                         394 --211:     return loc_sfma_NumOfUnit;
00000040 3c570100        395 	ld.w	0[r28],r10
                         396 --	    .ef
                         397 .LDW11:
00000044 4006ff00        398 	dispose	0,{r28,r29,r31},[lp]
                         399 	.type	_R_SFMA_Sys_NumberOfUnitGet,@function
                         400 	.size	_R_SFMA_Sys_NumberOfUnitGet,.-_R_SFMA_Sys_NumberOfUnitGet
                         401 	.align	2
                         402 .LDW21:
                         403 --_loc_sfma_NumOfUnit	.L87	static
                         404 --_device	r29	local
                         405 
                         406 	.section ".bss","awb"
                         407 .L62:
                         408 	.type	.L62,@object
                         409 	.size	.L62,0
                         410 	.data
                         411 	.align	4
                         412 .L87:
                         413 	.global	_loc_sfma_NumOfUnit.R_SFMA_Sys_NumberOfUnitGet.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma..0

                                                                      Page 8
                                                              C:\Users\Frank\AppData\Local\Temp\gh_00003b41.si
                         414 _loc_sfma_NumOfUnit.R_SFMA_Sys_NumberOfUnitGet.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma..0:
00000000 00000000        415 	.byte	0,0,0,0
                         416 	.type	_loc_sfma_NumOfUnit.R_SFMA_Sys_NumberOfUnitGet.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma..0,@object
                         417 	.size	_loc_sfma_NumOfUnit.R_SFMA_Sys_NumberOfUnitGet.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma..0,4
                         418 	.type	.L87,@object
                         419 	.size	.L87,4
                         420 	.text
                         421 
                         422 --212: }
                         423 
                         424 --214: /***************************************************************************
                         425 --215:   Function: R_SFMA_Sys_ExclusiveUnitGet
                         426 --217:   see: <r_sfma_sys.h>
                         427 --218: */
                         428 --219: uint32_t R_SFMA_Sys_ExclusiveUnitGet(const uint32_t Unit)
                         429 	.align	2
                         430 	.align	2
                         431 	.global	_R_SFMA_Sys_ExclusiveUnitGet
                         432 _R_SFMA_Sys_ExclusiveUnitGet:
00000048 0670            433 	mov	r6,r14
                         434 --	    .bf
                         435 .LDW31:
                         436 --220: {
                         437 --221:     uint32_t  ex_unit;
                         438 --222:     
                         439 --223:         /* Unit => ex_unit            */
                         440 --224:         /* -------------------------- */
                         441 --225:         /*  0   =>    3 (range over)  */
                         442 --226:         /*  1   =>    2               */
                         443 --227:         /*  2   =>    1               */
                         444 --228:     
                         445 --229:     if (Unit == LOC_SYS_SFMA1)
0000004a 6172            446 	cmp	1,r14
0000004c ba05*           447 	bne	.L101
                         448 --230:     {
                         449 --231:         ex_unit = LOC_SYS_SFMA2;
                         450 --line231
                         451 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.7::
                         452 .LDWlin7:
0000004e 020a            453 	mov	2,r1
00000050 e505*           454 	br	.L103
                         455 .L101:
                         456 --232:     }
                         457 --233:     else if (Unit == LOC_SYS_SFMA2)
                         458 --line233
                         459 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.8::
                         460 .LDWlin8:
00000052 6272            461 	cmp	2,r14
00000054 ba05*           462 	bne	.L104
                         463 --234:     {
                         464 --235:         ex_unit = LOC_SYS_SFMA1;
                         465 --line235
                         466 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.9::
                         467 .LDWlin9:
00000056 010a            468 	mov	1,r1
00000058 a505*           469 	br	.L103
                         470 .L104:
                         471 --236:     }
                         472 --237:     else /* Unit == LOC_SYS_SFMA0 */
                         473 --238:     {
                         474 --239:         ex_unit = LOC_SYS_SFMA_UNIT;

                                                                      Page 9
                                                              C:\Users\Frank\AppData\Local\Temp\gh_00003b41.si
                         475 --line239
                         476 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.10::
                         477 .LDWlin10:
0000005a 030a            478 	mov	3,r1
                         479 .L103:
                         480 --240:     }
                         481 --241:     
                         482 --242:     return ex_unit;
0000005c 0150            483 	mov	r1,r10
                         484 --	    .ef
                         485 .LDW41:
0000005e 7f00            486 	jmp	[lp]
                         487 	.type	_R_SFMA_Sys_ExclusiveUnitGet,@function
                         488 	.size	_R_SFMA_Sys_ExclusiveUnitGet,.-_R_SFMA_Sys_ExclusiveUnitGet
                         489 	.align	2
                         490 .LDW51:
                         491 --_ex_unit	r1	local
                         492 
                         493 --_Unit	r14	param
                         494 
                         495 	.section ".bss","awb"
                         496 .L146:
                         497 	.type	.L146,@object
                         498 	.size	.L146,0
                         499 	.data
                         500 	.text
                         501 
                         502 --243: }
                         503 
                         504 --245: /***************************************************************************
                         505 --246:   Function: R_SFMA_Sys_SwapUnitGet
                         506 --248:   see: <r_sfma_sys.h>
                         507 --249: */
                         508 --250: uint32_t R_SFMA_Sys_SwapUnitGet(const uint32_t Unit)
                         509 	.align	2
                         510 	.align	2
                         511 	.align	2
                         512 	.global	_R_SFMA_Sys_SwapUnitGet
                         513 _R_SFMA_Sys_SwapUnitGet:
00000060 0668            514 	mov	r6,r13
00000062 210600000000*   515 	mov	.L202,r1
                         516 --	    .bf
                         517 .LDW61:
                         518 --251: {
                         519 --252:     uint32_t  swap_unit = LOC_SYS_SFMA0;
00000068 0072            520 	mov	0,r14
                         521 --253:     
                         522 --254:     if (Unit < LOC_SYS_SFMA_UNIT)
0000006a 636a            523 	cmp	3,r13
0000006c e905*           524 	bnl	.L175
                         525 --255:     {
                         526 --256:         swap_unit = loc_sfma_SwapUnit[Unit];
                         527 --line256
                         528 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.11::
                         529 .LDWlin11:
0000006e 0df0            530 	mov	r13,ep
00000070 c2f2            531 	shl	2,ep
00000072 4c0a            532 	add	12,r1
00000074 c1f1            533 	add	r1,ep
00000076 0075            534 	sld.w	0[ep],r14
                         535 .L175:

                                                                      Page 10
                                                              C:\Users\Frank\AppData\Local\Temp\gh_00003b41.si
                         536 --257:     }
                         537 --258:     return swap_unit;
00000078 0e50            538 	mov	r14,r10
                         539 --	    .ef
                         540 .LDW71:
0000007a 7f00            541 	jmp	[lp]
                         542 	.type	_R_SFMA_Sys_SwapUnitGet,@function
                         543 	.size	_R_SFMA_Sys_SwapUnitGet,.-_R_SFMA_Sys_SwapUnitGet
                         544 	.align	2
                         545 .LDW81:
                         546 --_swap_unit	r14	local
                         547 
                         548 --_Unit	r13	param
                         549 
                         550 	.data
                         551 .L202:
                         552 	.type	.L202,@object
                         553 	.size	.L202,0
                         554 	.global	_loc_sfma_base..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.
                         555 _loc_sfma_base..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.:
00000004 0000fff2        556 _loc_sfma_base:	.byte	0,0,255,242
00000008 0010fff2        557 	.byte	0,16,255,242
0000000c 0010fff2        558 	.byte	0,16,255,242
                         559 	.type	_loc_sfma_base..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.,@object
                         560 	.size	_loc_sfma_base..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.,12
                         561 	.type	_loc_sfma_base,@object
                         562 	.size	_loc_sfma_base,12
                         563 	.global	_loc_sfma_SwapUnit..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.
                         564 _loc_sfma_SwapUnit..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.:
00000010 01000000        565 _loc_sfma_SwapUnit:	.byte	1,0,0,0
00000014 00000000        566 	.space	4
00000018 00000000        567 	.space	4
                         568 	.type	_loc_sfma_SwapUnit..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.,@object
                         569 	.size	_loc_sfma_SwapUnit..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.,12
                         570 	.type	_loc_sfma_SwapUnit,@object
                         571 	.size	_loc_sfma_SwapUnit,12
                         572 	.section ".bss","awb"
                         573 	.align	8
                         574 	.global	_r_sfma_Dev..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.
                         575 _r_sfma_Dev..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.:
00000000 000000000000    576 _r_sfma_Dev:	.space	304
00000006 000000000000 
0000000c 000000000000 
00000012 000000000000 
00000018 000000000000 
0000001e 000000000000 
00000024 000000000000 
0000002a 000000000000 
00000030 000000000000 
00000036 000000000000 
0000003c 000000000000 
00000042 000000000000 
00000048 000000000000 
0000004e 000000000000 
00000054 000000000000 
0000005a 000000000000 
00000060 000000000000 
00000066 000000000000 
0000006c 000000000000 
00000072 000000000000 
00000078 000000000000 

                                                                      Page 11
                                                              C:\Users\Frank\AppData\Local\Temp\gh_00003b41.si
0000007e 000000000000 
00000084 000000000000 
0000008a 000000000000 
00000090 000000000000 
00000096 000000000000 
0000009c 000000000000 
000000a2 000000000000 
000000a8 000000000000 
000000ae 000000000000 
000000b4 000000000000 
000000ba 000000000000 
000000c0 000000000000 
000000c6 000000000000 
000000cc 000000000000 
000000d2 000000000000 
000000d8 000000000000 
000000de 000000000000 
000000e4 000000000000 
000000ea 000000000000 
000000f0 000000000000 
000000f6 000000000000 
000000fc 00000000 
                         577 	.type	_r_sfma_Dev..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.,@object
                         578 	.size	_r_sfma_Dev..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.,304
                         579 	.type	_r_sfma_Dev,@object
                         580 	.size	_r_sfma_Dev,304
                         581 	.data
                         582 	.text
                         583 
                         584 --259: }
                         585 
                         586 --261: /***************************************************************************
                         587 --262:   Function: R_SFMA_Sys_GetDevInfo
                         588 --264:   see: <r_sfma_sys.h>
                         589 --265: */
                         590 --266: r_sfma_Dev_t* R_SFMA_Sys_GetDevInfo(const uint32_t Unit)
                         591 	.align	2
                         592 	.align	2
                         593 	.global	_R_SFMA_Sys_GetDevInfo
                         594 _R_SFMA_Sys_GetDevInfo:
0000007c 210600000000*   595 	mov	_r_sfma_Dev,r1
00000082 0660            596 	mov	r6,r12
00000084 0168            597 	mov	r1,r13
                         598 --	    .bf
                         599 .LDW91:
                         600 --267: {
                         601 --268:     r_sfma_Dev_t* p_dev; 
                         602 --269:     
                         603 --270:     if (Unit == LOC_SYS_SFMA0)
00000086 e061            604 	cmp	zero,r12
00000088 ba05*           605 	bne	.L225
                         606 --271:     {
                         607 --272:         p_dev = &r_sfma_Dev[LOC_SYS_SFMA0];
                         608 --line272
                         609 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.12::
                         610 .LDWlin12:
0000008a 0d70            611 	mov	r13,r14
0000008c b505*           612 	br	.L227
                         613 .L225:
                         614 --273:     }
                         615 --274:     else /* (Unit == LOC_SYS_SFMA1) || (Unit == LOC_SYS_SFMA2) */

                                                                      Page 12
                                                              C:\Users\Frank\AppData\Local\Temp\gh_00003b41.si
                         616 --275:     {
                         617 --276:         p_dev = &r_sfma_Dev[LOC_SYS_SFMA1];
                         618 --line276
                         619 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.13::
                         620 .LDWlin13:
0000008e 0d769800        621 	addi	152,r13,r14
                         622 .L227:
                         623 --277:     }
                         624 --278:     return p_dev;
00000092 0e50            625 	mov	r14,r10
                         626 --	    .ef
                         627 .LDW02:
00000094 7f00            628 	jmp	[lp]
                         629 	.type	_R_SFMA_Sys_GetDevInfo,@function
                         630 	.size	_R_SFMA_Sys_GetDevInfo,.-_R_SFMA_Sys_GetDevInfo
                         631 	.align	2
                         632 .LDW12:
                         633 --_p_dev	r14	local
                         634 
                         635 --_Unit	r12	param
                         636 
                         637 	.data
                         638 	.text
                         639 
                         640 --279: }
                         641 
                         642 --281: /***************************************************************************
                         643 --282:   Function: R_SFMA_Sys_Init
                         644 --284:   see: <r_sfma_sys.h>
                         645 --285: */
                         646 --286: r_sfma_Error_t R_SFMA_Sys_Init(const uint32_t  Unit)
                         647 	.align	2
                         648 	.align	2
                         649 	.global	_R_SFMA_Sys_Init
                         650 _R_SFMA_Sys_Init:
00000096 0670            651 	mov	r6,r14
00000098 210600000000*   652 	mov	_loc_sfma_SwapUnit,r1
                         653 --	    .bf
                         654 .LDW22:
                         655 --287: {
                         656 --288:     r_sfma_Error_t sys_err = R_SFMA_ERR_OK;
0000009e 006a            657 	mov	0,r13
                         658 --289:     
                         659 --290:     /* Set Swap unit */
                         660 --291:     if (Unit != LOC_SYS_SFMA0)
000000a0 e071            661 	cmp	zero,r14
000000a2 b205*           662 	be	.L288
                         663 --292:     {
                         664 --293:         loc_sfma_SwapUnit[LOC_SYS_SFMA0] = Unit;
                         665 --line293
                         666 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.14::
                         667 .LDWlin14:
000000a4 61770100        668 	st.w	r14,0[r1]
                         669 .L288:
                         670 --294:     }
                         671 --295:     
                         672 --296:     return sys_err;
000000a8 0d50            673 	mov	r13,r10
                         674 --	    .ef
                         675 .LDW32:
000000aa 7f00            676 	jmp	[lp]

                                                                      Page 13
                                                              C:\Users\Frank\AppData\Local\Temp\gh_00003b41.si
                         677 	.type	_R_SFMA_Sys_Init,@function
                         678 	.size	_R_SFMA_Sys_Init,.-_R_SFMA_Sys_Init
                         679 	.align	2
                         680 .LDW42:
                         681 --_sys_err	r13	local
                         682 
                         683 --_Unit	r14	param
                         684 
                         685 	.data
                         686 	.text
                         687 
                         688 --297: }
                         689 
                         690 --300: /***************************************************************************
                         691 --301:   Function: R_SFMA_Sys_DeInit
                         692 --303:   see: <r_sfma_sys.h>
                         693 --304: */
                         694 --306: r_sfma_Error_t R_SFMA_Sys_DeInit(const uint32_t  Unit)
                         695 	.align	2
                         696 	.align	2
                         697 	.global	_R_SFMA_Sys_DeInit
                         698 _R_SFMA_Sys_DeInit:
000000ac 0670            699 	mov	r6,r14
                         700 --	    .bf
                         701 .LDW52:
                         702 --307: {
                         703 --308:     r_sfma_Error_t sys_err = R_SFMA_ERR_OK;
000000ae 000a            704 	mov	0,r1
                         705 --310:     return sys_err;
000000b0 0150            706 	mov	r1,r10
                         707 --	    .ef
                         708 .LDW62:
000000b2 7f00            709 	jmp	[lp]
                         710 	.type	_R_SFMA_Sys_DeInit,@function
                         711 	.size	_R_SFMA_Sys_DeInit,.-_R_SFMA_Sys_DeInit
                         712 	.align	2
                         713 .LDW72:
                         714 --_sys_err	r1	local
                         715 
                         716 --_Unit	r14	param
                         717 
                         718 	.section ".bss","awb"
                         719 .L370:
                         720 	.type	.L370,@object
                         721 	.size	.L370,0
                         722 	.data
                         723 	.text
                         724 
                         725 --311: }
                         726 
                         727 --313: /***************************************************************************
                         728 --314:   Function: R_SFMA_Sys_BaseAddrGet
                         729 --316:   see: <r_sfma_sys.h>
                         730 --317: */
                         731 --318: uint32_t R_SFMA_Sys_BaseAddrGet(const uint32_t Unit)
                         732 	.align	2
                         733 	.align	2
                         734 	.global	_R_SFMA_Sys_BaseAddrGet
                         735 _R_SFMA_Sys_BaseAddrGet:
000000b4 8007e100        736 	prepare	{r28,r29,r31},0
000000b8 06e8            737 	mov	r6,r29

                                                                      Page 14
                                                              C:\Users\Frank\AppData\Local\Temp\gh_00003b41.si
                         738 --	    .bf
                         739 .LDW82:
                         740 --319: {
                         741 --320:     uint32_t addr;
                         742 --321:     uint32_t num_of_unit;
                         743 --323:     num_of_unit = R_SFMA_Sys_NumberOfUnitGet();
                         744 	jarl	_R_SFMA_Sys_NumberOfUnitGet,lp
                         744 <EXPANSION BEGIN>
                         744 jarl22 _R_SFMA_Sys_NumberOfUnitGet , lp 
000000ba bfff46ff*       744 <EXPANSION END>
000000be 0ae0            745 	mov	r10,r28
                         746 --324:     if (Unit >= num_of_unit)
                         747 --line324
                         748 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.15::
                         749 .LDWlin15:
000000c0 fce9            750 	cmp	r28,r29
000000c2 b105*           751 	bl	.L387
                         752 --325:     {
                         753 --326:         addr = 0;
                         754 --line326
                         755 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.16::
                         756 .LDWlin16:
000000c4 000a            757 	mov	0,r1
000000c6 850d*           758 	br	.L389
                         759 .L387:
                         760 --327:     }
                         761 --328:     else
                         762 --329:     {
                         763 --330:         addr = loc_sfma_base[Unit];
                         764 --line330
                         765 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.17::
                         766 .LDWlin17:
000000c8 1df0            767 	mov	r29,ep
000000ca c2f2            768 	shl	2,ep
000000cc 2d0600000000*   769 	mov	_loc_sfma_base,r13
000000d2 cdf1            770 	add	r13,ep
000000d4 000d            771 	sld.w	0[ep],r1
                         772 .L389:
                         773 --331:     }
                         774 --332:     return addr;
000000d6 0150            775 	mov	r1,r10
                         776 --	    .ef
                         777 .LDW92:
000000d8 4006ff00        778 	dispose	0,{r28,r29,r31},[lp]
                         779 	.type	_R_SFMA_Sys_BaseAddrGet,@function
                         780 	.size	_R_SFMA_Sys_BaseAddrGet,.-_R_SFMA_Sys_BaseAddrGet
                         781 	.align	2
                         782 .LDW03:
                         783 --_addr	r1	local
                         784 --_num_of_unit	r28	local
                         785 
                         786 --_Unit	r29	param
                         787 
                         788 	.section ".bss","awb"
                         789 .L430:
                         790 	.type	.L430,@object
                         791 	.size	.L430,0
                         792 	.data
                         793 	.text
                         794 
                         795 --333: }

                                                                      Page 15
                                                              C:\Users\Frank\AppData\Local\Temp\gh_00003b41.si
                         796 
                         797 --335: /***************************************************************************
                         798 --336:   Function: R_SFMA_Sys_ClockGet
                         799 --338:   see: <r_sfma_sys.h>
                         800 --339: */
                         801 --340: uint32_t R_SFMA_Sys_ClockGet(const uint32_t Unit)
                         802 	.align	2
                         803 	.align	2
                         804 	.global	_R_SFMA_Sys_ClockGet
                         805 _R_SFMA_Sys_ClockGet:
000000dc 8007e110        806 	prepare	{r27,r28,r29,r31},0
000000e0 06e0            807 	mov	r6,r28
                         808 --	    .bf
                         809 .LDW13:
                         810 --341: {
                         811 --342:     uint32_t clk;
                         812 --343:     uint32_t num_of_unit;
                         813 --345:     num_of_unit = R_SFMA_Sys_NumberOfUnitGet();
                         814 	jarl	_R_SFMA_Sys_NumberOfUnitGet,lp
                         814 <EXPANSION BEGIN>
                         814 jarl22 _R_SFMA_Sys_NumberOfUnitGet , lp 
000000e2 bfff1eff*       814 <EXPANSION END>
000000e6 0ad8            815 	mov	r10,r27
                         816 --346:     if (Unit >= num_of_unit)
                         817 --line346
                         818 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.18::
                         819 .LDWlin18:
000000e8 fbe1            820 	cmp	r27,r28
000000ea b105*           821 	bl	.L456
                         822 --347:     {
                         823 --348:         clk = 0;
                         824 --line348
                         825 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.19::
                         826 .LDWlin19:
000000ec 00ea            827 	mov	0,r29
000000ee d50d*           828 	br	.L458
                         829 .L456:
                         830 --349:     }
                         831 --350:     else
                         832 --351:     {
                         833 --352:         clk = R_DEV_ClkFrequencyHz(R_DEV_CKS_SFMA);
                         834 --line352
                         835 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.20::
                         836 .LDWlin20:
000000f0 0632            837 	mov	6,r6
                         838 	jarl	_R_DEV_ClkFrequencyHz,lp
                         838 <EXPANSION BEGIN>
                         838 jarl22 _R_DEV_ClkFrequencyHz , lp 
000000f2 80ff0000*       838 <EXPANSION END>
000000f6 0ae8            839 	mov	r10,r29
                         840 --353:         
                         841 --354:         /* SFMA1 clock is divided by 2. */
                         842 --355:         if (Unit == 1)
                         843 --line355
                         844 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.21::
                         845 .LDWlin21:
000000f8 61e2            846 	cmp	1,r28
000000fa fa05*           847 	bne	.L458
                         848 --356:         {
                         849 --357:             if (R_DEV_GetVersion() != R_DEV_REVISION_EMU)
                         850 --line357

                                                                      Page 16
                                                              C:\Users\Frank\AppData\Local\Temp\gh_00003b41.si
                         851 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.22::
                         852 .LDWlin22:
                         853 	jarl	_R_DEV_GetVersion,lp
                         853 <EXPANSION BEGIN>
                         853 jarl22 _R_DEV_GetVersion , lp 
000000fc 80ff0000*       853 <EXPANSION END>
00000100 0a0601f0        854 	addi	-4095,r10,zero
00000104 a205*           855 	be	.L458
                         856 --358:             {
                         857 --359:                 clk = clk / 2;
                         858 --line359
                         859 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.23::
                         860 .LDWlin23:
00000106 81ea            861 	shr	1,r29
                         862 .L458:
                         863 --360:             }
                         864 --361:         }
                         865 --362:     }
                         866 --364:     return clk;
00000108 1d50            867 	mov	r29,r10
                         868 --	    .ef
                         869 .LDW23:
0000010a 4006ff10        870 	dispose	0,{r27,r28,r29,r31},[lp]
                         871 	.type	_R_SFMA_Sys_ClockGet,@function
                         872 	.size	_R_SFMA_Sys_ClockGet,.-_R_SFMA_Sys_ClockGet
                         873 	.align	2
                         874 .LDW33:
                         875 --_clk	r29	local
                         876 --_num_of_unit	r27	local
                         877 
                         878 --_Unit	r28	param
                         879 
                         880 	.section ".bss","awb"
                         881 .L506:
                         882 	.type	.L506,@object
                         883 	.size	.L506,0
                         884 	.data
                         885 	.text
                         886 
                         887 --365: }
                         888 
                         889 --368: /***************************************************************************
                         890 --369:   Function: R_SFMA_Sys_CalibSetting
                         891 --371:   see: <r_sfma_sys.h>
                         892 --372: */
                         893 --373: r_sfma_Error_t R_SFMA_Sys_CalibSetting(const uint32_t Unit,
                         894 	.align	2
                         895 	.align	2
                         896 	.global	_R_SFMA_Sys_CalibSetting
                         897 _R_SFMA_Sys_CalibSetting:
0000010e 8007e170        898 	prepare	{r25,r26,r27,r28,r29,r31},0
00000112 06c8            899 	mov	r6,r25
00000114 07d0            900 	mov	r7,r26
00000116 40de00a5        901 	movhi	hi(-1526726656),zero,r27
                         902 --	    .bf
                         903 .LDW43:
                         904 --374:                                        const r_sfma_Config_t * const Config)
                         905 --375: {
                         906 --376:     uint32_t base;
                         907 --377:     r_sfma_Error_t sys_err = R_SFMA_ERR_OK;
0000011a 00e2            908 	mov	0,r28

                                                                      Page 17
                                                              C:\Users\Frank\AppData\Local\Temp\gh_00003b41.si
                         909 --379:     if (Config != R_NULL)
0000011c e0d1            910 	cmp	zero,r26
0000011e e22d*           911 	be	.L541
                         912 --380:     {
                         913 --381:         base = R_SFMA_Sys_BaseAddrGet(Unit);
                         914 --line381
                         915 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.24::
                         916 .LDWlin24:
00000120 1930            917 	mov	r25,r6
                         918 	jarl	_R_SFMA_Sys_BaseAddrGet,lp
                         918 <EXPANSION BEGIN>
                         918 jarl22 _R_SFMA_Sys_BaseAddrGet , lp 
00000122 bfff92ff*       918 <EXPANSION END>
00000126 0ae8            919 	mov	r10,r29
                         920 --383:         if (Config->SerialFlashMemoryMaxClock >= LOC_SYS_SFMA_CLOCK_ADJUSTED_LIMIT)
                         921 --line383
                         922 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.25::
                         923 .LDWlin25:
00000128 3a771500        924 	ld.w	20[r26],r14
0000012c 210600879303    925 	mov	60000000,r1
00000132 e171            926 	cmp	r1,r14
00000134 c11d*           927 	bl	.L543
                         928 --384:         {
                         929 --385:             /* check for valid calibration values */
                         930 --386:             if(0 == (LOC_SYS_SFMA_CKDLY_MASK & Config->Calibration))
                         931 --line386
                         932 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.26::
                         933 .LDWlin26:
00000136 3a0f3100        934 	ld.w	48[r26],r1
0000013a 2e06f8fff8ff    935 	mov	-458760,r14
00000140 4e09            936 	and	r14,r1
00000142 aa0d*           937 	bne	.L545
                         938 --387:             {
                         939 --388:                 R_SFMA_WRITE_REG(32, (base+LOC_SYS_SFMA_CKDLY),  0xa5000000u + Config->Calibration); /* Clock delay */
                         940 --line388
                         941 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.27::
                         942 .LDWlin27:
00000144 3a0f3100        943 	ld.w	48[r26],r1
00000148 410e00a5        944 	movhi	42240,r1,r1
0000014c 7d0f5100        945 	st.w	r1,80[r29]
                         946 --389:                 R_SFMA_WRITE_REG(32, (base+LOC_SYS_SFMA_SPODLY), 0xa5000000u); /* No Data delay */
00000150 7ddf6900        947 	st.w	r27,104[r29]
00000154 c515*           948 	br	.L549
                         949 .L545:
                         950 --390:             }
                         951 --391:             else
                         952 --392:             {
                         953 --393:                 /* error use a default */
                         954 --394:                 R_SFMA_WRITE_REG(32, (base+LOC_SYS_SFMA_CKDLY),  0xa5000000u + LOC_SFMA_DEFAULT_CAL); /* Clock delay */
                         955 --line394
                         956 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.28::
                         957 .LDWlin28:
00000156 2e0601000300    958 	mov	196609,r14
0000015c 1b08            959 	mov	r27,r1
0000015e ce09            960 	add	r14,r1
00000160 7d0f5100        961 	st.w	r1,80[r29]
                         962 --395:                 R_SFMA_WRITE_REG(32, (base+LOC_SYS_SFMA_SPODLY), 0xa5000000u); /* No Data delay */
00000164 7ddf6900        963 	st.w	r27,104[r29]
                         964 --397:                 /* error calibration value */
                         965 --398:                 sys_err = R_SFMA_ERR_PARAM_INCORRECT;
00000168 02e2            966 	mov	2,r28

                                                                      Page 18
                                                              C:\Users\Frank\AppData\Local\Temp\gh_00003b41.si
0000016a 950d*           967 	br	.L549
                         968 .L543:
                         969 --399:             }
                         970 --400:         }
                         971 --401:         else
                         972 --402:         {
                         973 --403:             /* low frequency setting */
                         974 --405:             /* clock delay */
                         975 --406:             R_SFMA_WRITE_REG(32, (base+LOC_SYS_SFMA_CKDLY),  0xa5000000u);
                         976 --line406
                         977 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.29::
                         978 .LDWlin29:
0000016c 7ddf5100        979 	st.w	r27,80[r29]
                         980 --408:             /* fixed 2ns delay  */
                         981 --409:             R_SFMA_WRITE_REG(32, (base+LOC_SYS_SFMA_SPODLY), 0xa5001111u);
00000170 1b0e1111        982 	addi	4369,r27,r1
00000174 7d0f6900        983 	st.w	r1,104[r29]
00000178 a505*           984 	br	.L549
                         985 .L541:
                         986 --410:         }
                         987 --411:     }
                         988 --412:     else
                         989 --413:     {
                         990 --414:         sys_err = R_SFMA_ERR_PARAM_INCORRECT;
                         991 --line414
                         992 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.30::
                         993 .LDWlin30:
0000017a 02e2            994 	mov	2,r28
                         995 .L549:
                         996 --415:     }
                         997 --417:     return sys_err;
0000017c 1c50            998 	mov	r28,r10
                         999 --	    .ef
                        1000 .LDW53:
0000017e 4006ff70       1001 	dispose	0,{r25,r26,r27,r28,r29,r31},[lp]
                        1002 	.type	_R_SFMA_Sys_CalibSetting,@function
                        1003 	.size	_R_SFMA_Sys_CalibSetting,.-_R_SFMA_Sys_CalibSetting
                        1004 	.align	2
                        1005 .LDW63:
                        1006 --_base	r29	local
                        1007 --_sys_err	r28	local
                        1008 
                        1009 --_Unit	r25	param
                        1010 --_Config	r26	param
                        1011 
                        1012 	.section ".bss","awb"
                        1013 .L626:
                        1014 	.type	.L626,@object
                        1015 	.size	.L626,0
                        1016 	.data
                        1017 	.text
                        1018 
                        1019 --418: }
                        1020 
                        1021 --421: /***************************************************************************
                        1022 --422:   Function: R_SFMA_Sys_Close
                        1023 --424:   see: <r_sfma_sys.h>
                        1024 --425: */
                        1025 --426: r_sfma_Error_t R_SFMA_Sys_Close(const uint32_t Unit)
                        1026 	.align	2
                        1027 	.align	2

                                                                      Page 19
                                                              C:\Users\Frank\AppData\Local\Temp\gh_00003b41.si
                        1028 	.global	_R_SFMA_Sys_Close
                        1029 _R_SFMA_Sys_Close:
00000182 8007e110       1030 	prepare	{r27,r28,r29,r31},0
00000186 06d8           1031 	mov	r6,r27
                        1032 --	    .bf
                        1033 .LDW73:
                        1034 --427: {
                        1035 --428:     uint32_t base;
                        1036 --429:     r_sfma_Error_t sys_err = R_SFMA_ERR_OK;
00000188 00e2           1037 	mov	0,r28
                        1038 --430:     uint32_t regval;
                        1039 --432:     /* terminate any transfers from external address space */
                        1040 --433:     base = R_SFMA_Sys_BaseAddrGet(Unit);
0000018a 1b30           1041 	mov	r27,r6
                        1042 	jarl	_R_SFMA_Sys_BaseAddrGet,lp
                        1042 <EXPANSION BEGIN>
                        1042 jarl22 _R_SFMA_Sys_BaseAddrGet , lp 
0000018c bfff28ff*      1042 <EXPANSION END>
00000190 0ae8           1043 	mov	r10,r29
                        1044 --435:     regval = R_SFMA_READ_REG(32, base + LOC_SYS_SFMA_DRCR);
                        1045 --line435
                        1046 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.31::
                        1047 .LDWlin31:
00000192 3d0f0d00       1048 	ld.w	12[r29],r1
                        1049 --436:     R_SFMA_WRITE_REG(32, (base + LOC_SYS_SFMA_DRCR),   (regval | 0x01000000uL)); /* set negate */
00000196 40760001       1050 	movhi	256,zero,r14
0000019a 0171           1051 	or	r1,r14
0000019c 7d770d00       1052 	st.w	r14,12[r29]
                        1053 --438:     return sys_err;
000001a0 1c50           1054 	mov	r28,r10
                        1055 --	    .ef
                        1056 .LDW83:
000001a2 4006ff10       1057 	dispose	0,{r27,r28,r29,r31},[lp]
                        1058 	.type	_R_SFMA_Sys_Close,@function
                        1059 	.size	_R_SFMA_Sys_Close,.-_R_SFMA_Sys_Close
                        1060 	.align	2
                        1061 .LDW93:
                        1062 --_base	r29	local
                        1063 --_sys_err	r28	local
                        1064 --_regval	r1	local
                        1065 
                        1066 --_Unit	r27	param
                        1067 
                        1068 	.section ".bss","awb"
                        1069 .L718:
                        1070 	.type	.L718,@object
                        1071 	.size	.L718,0
                        1072 	.data
                        1073 	.text
                        1074 
                        1075 --439: }
                        1076 
                        1077 --442: /***************************************************************************
                        1078 --443:   Function: R_SFMA_Sys_DDREnable
                        1079 --445:   see: <r_sfma_sys.h>
                        1080 --446: */
                        1081 --447: uint8_t R_SFMA_Sys_DDREnable(void)
                        1082 	.align	2
                        1083 	.align	2
                        1084 	.global	_R_SFMA_Sys_DDREnable
                        1085 _R_SFMA_Sys_DDREnable:

                                                                      Page 20
                                                              C:\Users\Frank\AppData\Local\Temp\gh_00003b41.si
000001a6 80076100       1086 	prepare	{r29,r31},0
                        1087 --	    .bf
                        1088 .LDW04:
                        1089 --448: {
                        1090 --449:     uint32_t device;
                        1091 --450:     uint8_t  ret;
                        1092 --452:     device = R_DEV_GetDev();
                        1093 	jarl	_R_DEV_GetDev,lp
                        1093 <EXPANSION BEGIN>
                        1093 jarl22 _R_DEV_GetDev , lp 
000001aa 80ff0000*      1093 <EXPANSION END>
000001ae 0ae8           1094 	mov	r10,r29
                        1095 --453:     if (device == R_DEV_R7F701401)
                        1096 --line453
                        1097 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.32::
                        1098 .LDWlin32:
000001b0 1d0687fa       1099 	addi	-1401,r29,zero
000001b4 ba05*          1100 	bne	.L744
                        1101 --454:     {
                        1102 --455:         ret = R_FALSE;
                        1103 --line455
                        1104 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.33::
                        1105 .LDWlin33:
000001b6 000a           1106 	mov	0,r1
000001b8 a505*          1107 	br	.L746
                        1108 .L744:
                        1109 --456:     }
                        1110 --457:     else
                        1111 --458:     {
                        1112 --459:         ret = R_TRUE;
                        1113 --line459
                        1114 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.34::
                        1115 .LDWlin34:
000001ba 010a           1116 	mov	1,r1
                        1117 .L746:
                        1118 --460:     }
                        1119 --461:     return ret;
000001bc 0150           1120 	mov	r1,r10
                        1121 --	    .ef
                        1122 .LDW14:
000001be 40067f00       1123 	dispose	0,{r29,r31},[lp]
                        1124 	.type	_R_SFMA_Sys_DDREnable,@function
                        1125 	.size	_R_SFMA_Sys_DDREnable,.-_R_SFMA_Sys_DDREnable
                        1126 	.align	2
                        1127 .LDW24:
                        1128 --_device	r29	local
                        1129 --_ret	r1	local
                        1130 
                        1131 	.section ".bss","awb"
                        1132 .L782:
                        1133 	.type	.L782,@object
                        1134 	.size	.L782,0
                        1135 	.data
                        1136 	.text
                        1137 
                        1138 --462: }
                        1139 
                        1140 --464: /***************************************************************************
                        1141 --465:   Function: R_SFMA_Sys_BusWidth8BitEnable
                        1142 --467:   see: <r_sfma_sys.h>
                        1143 --468: */

                                                                      Page 21
                                                              C:\Users\Frank\AppData\Local\Temp\gh_00003b41.si
                        1144 --469: uint8_t R_SFMA_Sys_BusWidth8BitEnable(const uint32_t Unit)
                        1145 	.align	2
                        1146 	.align	2
                        1147 	.global	_R_SFMA_Sys_BusWidth8BitEnable
                        1148 _R_SFMA_Sys_BusWidth8BitEnable:
000001c2 8007e100       1149 	prepare	{r28,r29,r31},0
000001c6 06e0           1150 	mov	r6,r28
                        1151 --	    .bf
                        1152 .LDW34:
                        1153 --470: {
                        1154 --471:     uint32_t device;
                        1155 --472:     uint8_t  ret;
                        1156 --474:     device = R_DEV_GetDev();
                        1157 	jarl	_R_DEV_GetDev,lp
                        1157 <EXPANSION BEGIN>
                        1157 jarl22 _R_DEV_GetDev , lp 
000001c8 80ff0000*      1157 <EXPANSION END>
000001cc 0ae8           1158 	mov	r10,r29
                        1159 --475:     if ((device == R_DEV_R7F701401) ||
                        1160 --line475
                        1161 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.35::
                        1162 .LDWlin35:
000001ce 1d0687fa       1163 	addi	-1401,r29,zero
000001d2 c205*          1164 	be	.L809
000001d4 1d0686fa       1165 	addi	-1402,r29,zero
000001d8 ba05*          1166 	bne	.L808
                        1167 .L809:
                        1168 --476:         (device == R_DEV_R7F701402))
                        1169 --477:     {
                        1170 --478:         ret = R_FALSE;
                        1171 --line478
                        1172 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.36::
                        1173 .LDWlin36:
000001da 000a           1174 	mov	0,r1
000001dc e505*          1175 	br	.L811
                        1176 .L808:
                        1177 --479:     }
                        1178 --480:     else
                        1179 --481:     {
                        1180 --482:         if (Unit == LOC_SYS_SFMA2)
                        1181 --line482
                        1182 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.37::
                        1183 .LDWlin37:
000001de 62e2           1184 	cmp	2,r28
000001e0 ba05*          1185 	bne	.L812
                        1186 --483:         {
                        1187 --484:             ret = R_FALSE;
                        1188 --line484
                        1189 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.38::
                        1190 .LDWlin38:
000001e2 000a           1191 	mov	0,r1
000001e4 a505*          1192 	br	.L811
                        1193 .L812:
                        1194 --485:         }
                        1195 --486:         else
                        1196 --487:         {
                        1197 --488:             ret = R_TRUE;
                        1198 --line488
                        1199 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.39::
                        1200 .LDWlin39:
000001e6 010a           1201 	mov	1,r1

                                                                      Page 22
                                                              C:\Users\Frank\AppData\Local\Temp\gh_00003b41.si
                        1202 .L811:
                        1203 --489:         }
                        1204 --490:     }
                        1205 --491:     return ret;
000001e8 0150           1206 	mov	r1,r10
                        1207 --	    .ef
                        1208 .LDW44:
000001ea 4006ff00       1209 	dispose	0,{r28,r29,r31},[lp]
                        1210 	.type	_R_SFMA_Sys_BusWidth8BitEnable,@function
                        1211 	.size	_R_SFMA_Sys_BusWidth8BitEnable,.-_R_SFMA_Sys_BusWidth8BitEnable
                        1212 	.align	2
                        1213 .LDW54:
                        1214 --_device	r29	local
                        1215 --_ret	r1	local
                        1216 
                        1217 --_Unit	r28	param
                        1218 
                        1219 	.section ".bss","awb"
                        1220 .L858:
                        1221 	.type	.L858,@object
                        1222 	.size	.L858,0
                        1223 	.data
                        1224 	.text
                        1225 
                        1226 --492: }
                        1227 
                        1228 --494: /***************************************************************************
                        1229 --495:   Function: R_SFMA_Sys_SyncPeripheral
                        1230 --497:   see: <r_sfma_sys.h>
                        1231 --498: */
                        1232 --499: void R_SFMA_Sys_SyncPeripheral(void)
                        1233 	.align	2
                        1234 	.align	2
                        1235 	.global	_R_SFMA_Sys_SyncPeripheral
                        1236 _R_SFMA_Sys_SyncPeripheral:
000001ee 80072100       1237 	prepare	{r31},0
                        1238 --	    .bf
                        1239 .LDW64:
                        1240 --500: {
                        1241 --501:     R_DEV_SyncP();
                        1242 	jarl	_R_DEV_SyncP,lp
                        1242 <EXPANSION BEGIN>
                        1242 jarl22 _R_DEV_SyncP , lp 
000001f2 80ff0000*      1242 <EXPANSION END>
                        1243 --502: }
                        1244 --	    .ef
                        1245 .LDW74:
                        1246 --line502
                        1247 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.40::
                        1248 .LDWlin40:
000001f6 40063f00       1249 	dispose	0,{r31},[lp]
                        1250 	.type	_R_SFMA_Sys_SyncPeripheral,@function
                        1251 	.size	_R_SFMA_Sys_SyncPeripheral,.-_R_SFMA_Sys_SyncPeripheral
                        1252 	.align	2
                        1253 .LDW84:
                        1254 
                        1255 	.section ".bss","awb"
                        1256 .L914:
                        1257 	.type	.L914,@object
                        1258 	.size	.L914,0
                        1259 	.data

                                                                      Page 23
                                                              C:\Users\Frank\AppData\Local\Temp\gh_00003b41.si
                        1260 	.text
                        1261 
                        1262 
                        1263 --504: /***************************************************************************
                        1264 --505:   Function: R_SFMA_Sys_Lock
                        1265 --507:   see: <r_sfma_sys.h>
                        1266 --508: */
                        1267 --509: r_sfma_Error_t R_SFMA_Sys_Lock(const uint32_t Unit)
                        1268 	.align	2
                        1269 	.align	2
                        1270 	.global	_R_SFMA_Sys_Lock
                        1271 _R_SFMA_Sys_Lock:
000001fa 0670           1272 	mov	r6,r14
                        1273 --	    .bf
                        1274 .LDW94:
                        1275 --510: {
                        1276 --511:     r_sfma_Error_t sys_err = R_SFMA_ERR_OK;
000001fc 000a           1277 	mov	0,r1
                        1278 --513:     return sys_err;
000001fe 0150           1279 	mov	r1,r10
                        1280 --	    .ef
                        1281 .LDW05:
00000200 7f00           1282 	jmp	[lp]
                        1283 	.type	_R_SFMA_Sys_Lock,@function
                        1284 	.size	_R_SFMA_Sys_Lock,.-_R_SFMA_Sys_Lock
                        1285 	.align	2
                        1286 .LDW15:
                        1287 --_sys_err	r1	local
                        1288 
                        1289 --_Unit	r14	param
                        1290 
                        1291 	.section ".bss","awb"
                        1292 .L962:
                        1293 	.type	.L962,@object
                        1294 	.size	.L962,0
                        1295 	.data
                        1296 	.text
                        1297 
                        1298 --514: }
                        1299 
                        1300 --516: /***************************************************************************
                        1301 --517:   Function: R_SFMA_Sys_Unlock
                        1302 --519:   see: <r_sfma_sys.h>
                        1303 --520: */
                        1304 --521: r_sfma_Error_t R_SFMA_Sys_Unlock(const uint32_t Unit)
                        1305 	.align	2
                        1306 	.align	2
                        1307 	.global	_R_SFMA_Sys_Unlock
                        1308 _R_SFMA_Sys_Unlock:
00000202 0670           1309 	mov	r6,r14
                        1310 --	    .bf
                        1311 .LDW25:
                        1312 --522: {
                        1313 --523:     r_sfma_Error_t sys_err = R_SFMA_ERR_OK;
00000204 000a           1314 	mov	0,r1
                        1315 --525:     return sys_err;
00000206 0150           1316 	mov	r1,r10
                        1317 --	    .ef
                        1318 .LDW35:
00000208 7f00           1319 	jmp	[lp]
                        1320 	.type	_R_SFMA_Sys_Unlock,@function

                                                                      Page 24
                                                              C:\Users\Frank\AppData\Local\Temp\gh_00003b41.si
                        1321 	.size	_R_SFMA_Sys_Unlock,.-_R_SFMA_Sys_Unlock
                        1322 	.align	2
                        1323 .LDW45:
                        1324 --_sys_err	r1	local
                        1325 
                        1326 --_Unit	r14	param
                        1327 
                        1328 	.section ".bss","awb"
                        1329 .L1010:
                        1330 	.type	.L1010,@object
                        1331 	.size	.L1010,0
                        1332 	.data
                        1333 	.text
                        1334 
                        1335 --526: }
                        1336 
                        1337 --528: /***************************************************************************
                        1338 --529:   Function: R_SFMA_Sys_AllLock
                        1339 --531:   see: <r_sfma_sys.h>
                        1340 --532: */
                        1341 --533: r_sfma_Error_t R_SFMA_Sys_AllLock(void)
                        1342 	.align	2
                        1343 	.align	2
                        1344 	.global	_R_SFMA_Sys_AllLock
                        1345 _R_SFMA_Sys_AllLock:
                        1346 --	    .bf
                        1347 .LDW55:
                        1348 --534: {
                        1349 --535:     r_sfma_Error_t sys_err = R_SFMA_ERR_OK;
0000020a 000a           1350 	mov	0,r1
                        1351 --537:     return sys_err;
0000020c 0150           1352 	mov	r1,r10
                        1353 --	    .ef
                        1354 .LDW65:
0000020e 7f00           1355 	jmp	[lp]
                        1356 	.type	_R_SFMA_Sys_AllLock,@function
                        1357 	.size	_R_SFMA_Sys_AllLock,.-_R_SFMA_Sys_AllLock
                        1358 	.align	2
                        1359 .LDW75:
                        1360 --_sys_err	r1	local
                        1361 
                        1362 	.section ".bss","awb"
                        1363 .L1058:
                        1364 	.type	.L1058,@object
                        1365 	.size	.L1058,0
                        1366 	.data
                        1367 	.text
                        1368 
                        1369 --538: }
                        1370 
                        1371 --540: /***************************************************************************
                        1372 --541:   Function: R_SFMA_Sys_AllUnlock
                        1373 --543:   see: <r_sfma_sys.h>
                        1374 --544: */
                        1375 --545: r_sfma_Error_t R_SFMA_Sys_AllUnlock(void)
                        1376 	.align	2
                        1377 	.align	2
                        1378 	.global	_R_SFMA_Sys_AllUnlock
                        1379 _R_SFMA_Sys_AllUnlock:
                        1380 --	    .bf
                        1381 .LDW85:

                                                                      Page 25
                                                              C:\Users\Frank\AppData\Local\Temp\gh_00003b41.si
                        1382 --546: {
                        1383 --547:     r_sfma_Error_t sys_err = R_SFMA_ERR_OK;
00000210 000a           1384 	mov	0,r1
                        1385 --549:     return sys_err;
00000212 0150           1386 	mov	r1,r10
                        1387 --	    .ef
                        1388 .LDW95:
00000214 7f00           1389 	jmp	[lp]
                        1390 	.type	_R_SFMA_Sys_AllUnlock,@function
                        1391 	.size	_R_SFMA_Sys_AllUnlock,.-_R_SFMA_Sys_AllUnlock
                        1392 	.align	2
                        1393 .LDW06:
                        1394 --_sys_err	r1	local
                        1395 
                        1396 	.section ".bss","awb"
                        1397 .L1106:
                        1398 	.type	.L1106,@object
                        1399 	.size	.L1106,0
                        1400 	.data
                        1401 	.text
                        1402 
                        1403 --550: }
                        1404 
                        1405 --552: /***************************************************************************
                        1406 --553:   Function: R_SFMA_Sys_Relax
                        1407 --555:   see: <r_sfma_sys.h>
                        1408 --556: */
                        1409 --557: r_sfma_Error_t R_SFMA_Sys_Relax(const uint32_t Unit)
                        1410 	.align	2
                        1411 	.align	2
                        1412 	.global	_R_SFMA_Sys_Relax
                        1413 _R_SFMA_Sys_Relax:
00000216 0670           1414 	mov	r6,r14
                        1415 --	    .bf
                        1416 .LDW16:
                        1417 --558: {
                        1418 --559:     r_sfma_Error_t sys_err = R_SFMA_ERR_OK;
00000218 000a           1419 	mov	0,r1
                        1420 --561:     return sys_err;
0000021a 0150           1421 	mov	r1,r10
                        1422 --	    .ef
                        1423 .LDW26:
0000021c 7f00           1424 	jmp	[lp]
                        1425 	.type	_R_SFMA_Sys_Relax,@function
                        1426 	.size	_R_SFMA_Sys_Relax,.-_R_SFMA_Sys_Relax
                        1427 	.align	2
                        1428 .LDW36:
                        1429 --_sys_err	r1	local
                        1430 
                        1431 --_Unit	r14	param
                        1432 
                        1433 	.section ".bss","awb"
                        1434 .L1154:
                        1435 	.type	.L1154,@object
                        1436 	.size	.L1154,0
                        1437 	.data
                        1438 	.text
                        1439 
                        1440 --562: }
                        1441 
                        1442 --565: /***************************************************************************

                                                                      Page 26
                                                              C:\Users\Frank\AppData\Local\Temp\gh_00003b41.si
                        1443 --566:   Function: R_SFMA_Sys_GetCal
                        1444 --568:   see: <r_sfma_sys.h>
                        1445 --569: */
                        1446 --570: uint32_t R_SFMA_Sys_GetCal(const uint32_t Unit)
                        1447 	.align	2
                        1448 	.align	2
                        1449 	.global	_R_SFMA_Sys_GetCal
                        1450 _R_SFMA_Sys_GetCal:
0000021e 8007e110       1451 	prepare	{r27,r28,r29,r31},0
00000222 06e8           1452 	mov	r6,r29
                        1453 --	    .bf
                        1454 .LDW46:
                        1455 --571: {
                        1456 --572:     uint32_t base;
                        1457 --573:     uint32_t regval;
                        1458 --574:     uint32_t num_of_unit;
                        1459 --576:     num_of_unit = R_SFMA_Sys_NumberOfUnitGet();
                        1460 	jarl	_R_SFMA_Sys_NumberOfUnitGet,lp
                        1460 <EXPANSION BEGIN>
                        1460 jarl22 _R_SFMA_Sys_NumberOfUnitGet , lp 
00000224 bfffdcfd*      1460 <EXPANSION END>
00000228 0ad8           1461 	mov	r10,r27
                        1462 --577:     if (Unit >= num_of_unit)
                        1463 --line577
                        1464 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.41::
                        1465 .LDWlin41:
0000022a fbe9           1466 	cmp	r27,r29
0000022c b105*          1467 	bl	.L1171
                        1468 --578:     {
                        1469 --579:         /* error */
                        1470 --580:         regval = 0xFFFFFFFFuL;
                        1471 --line580
                        1472 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.42::
                        1473 .LDWlin42:
0000022e 1f0a           1474 	mov	-1,r1
00000230 f505*          1475 	br	.L1173
                        1476 .L1171:
                        1477 --581:     }
                        1478 --582:     else
                        1479 --583:     {
                        1480 --584:         /* get the base address */
                        1481 --585:         base = R_SFMA_Sys_BaseAddrGet(Unit);
                        1482 --line585
                        1483 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.43::
                        1484 .LDWlin43:
00000232 1d30           1485 	mov	r29,r6
                        1486 	jarl	_R_SFMA_Sys_BaseAddrGet,lp
                        1486 <EXPANSION BEGIN>
                        1486 jarl22 _R_SFMA_Sys_BaseAddrGet , lp 
00000234 bfff80fe*      1486 <EXPANSION END>
00000238 0ae0           1487 	mov	r10,r28
                        1488 --586:         regval = R_SFMA_READ_REG(32, base + LOC_SYS_SFMA_CKDLY);
                        1489 --line586
                        1490 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.44::
                        1491 .LDWlin44:
0000023a 3c0f5100       1492 	ld.w	80[r28],r1
                        1493 .L1173:
                        1494 --587:     }
                        1495 --589:     return regval;
0000023e 0150           1496 	mov	r1,r10
                        1497 --	    .ef

                                                                      Page 27
                                                              C:\Users\Frank\AppData\Local\Temp\gh_00003b41.si
                        1498 .LDW56:
00000240 4006ff10       1499 	dispose	0,{r27,r28,r29,r31},[lp]
                        1500 	.type	_R_SFMA_Sys_GetCal,@function
                        1501 	.size	_R_SFMA_Sys_GetCal,.-_R_SFMA_Sys_GetCal
                        1502 	.align	2
                        1503 .LDW66:
                        1504 --_base	r28	local
                        1505 --_regval	r1	local
                        1506 --_num_of_unit	r27	local
                        1507 
                        1508 --_Unit	r29	param
                        1509 
                        1510 	.section ".bss","awb"
                        1511 .L1218:
                        1512 	.type	.L1218,@object
                        1513 	.size	.L1218,0
                        1514 	.data
                        1515 	.text
                        1516 
                        1517 --590: }
                        1518 
                        1519 --592: /***************************************************************************
                        1520 --593:   Function: R_SFMA_Sys_UnitWindowSelect
                        1521 --595:   see: <r_sfma_sys.h>
                        1522 --596: */
                        1523 --597: r_sfma_Error_t R_SFMA_Sys_UnitWindowSelect(const uint32_t Unit,
                        1524 	.align	2
                        1525 	.align	2
                        1526 	.global	_R_SFMA_Sys_UnitWindowSelect
                        1527 _R_SFMA_Sys_UnitWindowSelect:
00000244 0670           1528 	mov	r6,r14
00000246 0768           1529 	mov	r7,r13
                        1530 --	    .bf
                        1531 .LDW76:
                        1532 --598:                                            const r_sfma_WindowMode_t Window)
                        1533 --599: {
                        1534 --600:     /* This function is not supported. */
                        1535 --601:     r_sfma_Error_t sys_err = R_SFMA_ERR_NOT_SUPPORTED;
00000248 0b0a           1536 	mov	11,r1
                        1537 --603:     return sys_err;
0000024a 0150           1538 	mov	r1,r10
                        1539 --	    .ef
                        1540 .LDW86:
0000024c 7f00           1541 	jmp	[lp]
                        1542 	.type	_R_SFMA_Sys_UnitWindowSelect,@function
                        1543 	.size	_R_SFMA_Sys_UnitWindowSelect,.-_R_SFMA_Sys_UnitWindowSelect
                        1544 	.align	2
                        1545 .LDW96:
                        1546 --_sys_err	r1	local
                        1547 
                        1548 --_Unit	r14	param
                        1549 --_Window	r13	param
                        1550 
                        1551 	.section ".bss","awb"
                        1552 .L1266:
                        1553 	.type	.L1266,@object
                        1554 	.size	.L1266,0
                        1555 	.data
                        1556 	.text
                        1557 
                        1558 --604: }

                                                                      Page 28
                                                              C:\Users\Frank\AppData\Local\Temp\gh_00003b41.si
                        1559 
                        1560 --606: /***************************************************************************
                        1561 --607:   Function: R_SFMA_Sys_UnitNumberGet
                        1562 --609:   see: <r_sfma_sys.h>
                        1563 --610: */
                        1564 --611: r_sfma_Error_t R_SFMA_Sys_UnitNumberGet(const r_sfma_WindowMode_t Window,
                        1565 	.align	2
                        1566 	.align	2
                        1567 	.global	_R_SFMA_Sys_UnitNumberGet
                        1568 _R_SFMA_Sys_UnitNumberGet:
0000024e 0670           1569 	mov	r6,r14
00000250 0768           1570 	mov	r7,r13
                        1571 --	    .bf
                        1572 .LDW07:
                        1573 --612:                                         uint32_t * const Unit)
                        1574 --613: {
                        1575 --614:     /* This function is not supported. */
                        1576 --615:     r_sfma_Error_t sys_err = R_SFMA_ERR_NOT_SUPPORTED;
00000252 0b0a           1577 	mov	11,r1
                        1578 --617:     return sys_err;
00000254 0150           1579 	mov	r1,r10
                        1580 --	    .ef
                        1581 .LDW17:
00000256 7f00           1582 	jmp	[lp]
                        1583 	.type	_R_SFMA_Sys_UnitNumberGet,@function
                        1584 	.size	_R_SFMA_Sys_UnitNumberGet,.-_R_SFMA_Sys_UnitNumberGet
                        1585 	.align	2
                        1586 .LDW27:
                        1587 --_sys_err	r1	local
                        1588 
                        1589 --_Window	r14	param
                        1590 --_Unit	r13	param
                        1591 
                        1592 	.section ".bss","awb"
                        1593 .L1314:
                        1594 	.type	.L1314,@object
                        1595 	.size	.L1314,0
                        1596 	.data
                        1597 	.text
                        1598 
                        1599 --618: }
                        1600 
                        1601 --620: /***************************************************************************
                        1602 --621:   Function: R_SFMA_Sys_MinClockDivGet
                        1603 --623:   see: <r_sfma_sys.h>
                        1604 --624: */
                        1605 --625: uint32_t R_SFMA_Sys_MinClockDivGet(const uint32_t Unit, const uint32_t Clock, const uint8_t TransferMode)
                        1606 	.align	2
                        1607 	.align	2
                        1608 	.global	_R_SFMA_Sys_MinClockDivGet
                        1609 _R_SFMA_Sys_MinClockDivGet:
00000258 8007e130       1610 	prepare	{r26,r27,r28,r29,r31},0
0000025c 06e0           1611 	mov	r6,r28
0000025e 07d8           1612 	mov	r7,r27
00000260 c8d6ff00       1613 	andi	255,r8,r26
                        1614 --	    .bf
                        1615 .LDW37:
                        1616 --626: {
                        1617 --627:     r_dev_Device_t device = R_DEV_GetDev();
                        1618 	jarl	_R_DEV_GetDev,lp
                        1618 <EXPANSION BEGIN>

                                                                      Page 29
                                                              C:\Users\Frank\AppData\Local\Temp\gh_00003b41.si
                        1618 jarl22 _R_DEV_GetDev , lp 
00000264 80ff0000*      1618 <EXPANSION END>
00000268 0ae8           1619 	mov	r10,r29
                        1620 --628:     uint32_t clock_div = 0;
                        1621 --line628
                        1622 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.45::
                        1623 .LDWlin45:
0000026a 0072           1624 	mov	0,r14
                        1625 --629:     uint32_t max_clock = 0;
0000026c 000a           1626 	mov	0,r1
                        1627 --630:     
                        1628 --631:     if (Unit == LOC_SYS_SFMA0)
0000026e e0e1           1629 	cmp	zero,r28
00000270 aa15*          1630 	bne	.L1331
                        1631 --632:     {
                        1632 --633:         if(device == R_DEV_R7F701401) /* RH850/D1L1 */
                        1633 --line633
                        1634 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.46::
                        1635 .LDWlin46:
00000272 1d0687fa       1636 	addi	-1401,r29,zero
00000276 da05*          1637 	bne	.L1333
                        1638 --634:         {
                        1639 --635:             max_clock = LOC_SYS_SFMA_MAX_CLK_40MHz;
                        1640 --line635
                        1641 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.47::
                        1642 .LDWlin47:
00000278 2106005a6202   1643 	mov	40000000,r1
0000027e c515*          1644 	br	.L1339
                        1645 .L1333:
                        1646 --636:         }
                        1647 --637:         else /* RH850/D1L2 ~ */
                        1648 --638:         {
                        1649 --639:             if (TransferMode == 0) /* SDR */
                        1650 --line639
                        1651 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.48::
                        1652 .LDWlin48:
00000280 e0d1           1653 	cmp	zero,r26
00000282 da05*          1654 	bne	.L1336
                        1655 --640:             {
                        1656 --641:                 max_clock = LOC_SYS_SFMA_MAX_CLK_120MHz;
                        1657 --line641
                        1658 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.49::
                        1659 .LDWlin49:
00000284 2106000e2707   1660 	mov	120000000,r1
0000028a e50d*          1661 	br	.L1339
                        1662 .L1336:
                        1663 --642:             }
                        1664 --643:             else /* DDR */
                        1665 --644:             {
                        1666 --645:                 max_clock = LOC_SYS_SFMA_MAX_CLK_80MHz;
                        1667 --line645
                        1668 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.50::
                        1669 .LDWlin50:
0000028c 210600b4c404   1670 	mov	80000000,r1
00000292 a50d*          1671 	br	.L1339
                        1672 .L1331:
                        1673 --646:             }
                        1674 --647:         }
                        1675 --648:     }
                        1676 --649:     else if (Unit == LOC_SYS_SFMA1)
                        1677 --line649

                                                                      Page 30
                                                              C:\Users\Frank\AppData\Local\Temp\gh_00003b41.si
                        1678 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.51::
                        1679 .LDWlin51:
00000294 61e2           1680 	cmp	1,r28
00000296 da05*          1681 	bne	.L1340
                        1682 --650:     {
                        1683 --651:         max_clock = LOC_SYS_SFMA_MAX_CLK_40MHz;
                        1684 --line651
                        1685 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.52::
                        1686 .LDWlin52:
00000298 2106005a6202   1687 	mov	40000000,r1
0000029e c505*          1688 	br	.L1339
                        1689 .L1340:
                        1690 --652:     }
                        1691 --653:     else /* Unit == LOC_SYS_SFMA2 */
                        1692 --654:     {
                        1693 --655:         max_clock = LOC_SYS_SFMA_MAX_CLK_80MHz;
                        1694 --line655
                        1695 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma.53::
                        1696 .LDWlin53:
000002a0 210600b4c404   1697 	mov	80000000,r1
                        1698 .L1339:
                        1699 --656:     }
                        1700 --657:     
                        1701 --658:     /* Calculate with Round-Up (to avoid returning too small value.) */
                        1702 --659:     clock_div = (Clock + (max_clock - 1)) / max_clock;
000002a6 016effff       1703 	addi	-1,r1,r13
000002aa db69           1704 	add	r27,r13
000002ac 0d70           1705 	mov	r13,r14
000002ae e177fe02       1706 	divqu	r1,r14,zero
                        1707 --661:         /* (Clock, max_clock) => clock_div */
                        1708 --662:         /* ------------------------------- */
                        1709 --663:         /* (160MHz, 120MHz)   =>    2      */
                        1710 --664:         /* (160MHz,  80MHz)   =>    2      */
                        1711 --665:         /* (160MHz,  40MHz)   =>    4      */
                        1712 --666:         /* (120MHz, 120MHz)   =>    1      */
                        1713 --667:         /* (120MHz,  80MHz)   =>    2      */
                        1714 --668:         /* (120MHz,  40MHz)   =>    3      */
                        1715 --669:         
                        1716 --670:     return clock_div;
000002b2 0e50           1717 	mov	r14,r10
                        1718 --	    .ef
                        1719 .LDW47:
000002b4 4006ff30       1720 	dispose	0,{r26,r27,r28,r29,r31},[lp]
                        1721 	.type	_R_SFMA_Sys_MinClockDivGet,@function
                        1722 	.size	_R_SFMA_Sys_MinClockDivGet,.-_R_SFMA_Sys_MinClockDivGet
                        1723 	.align	2
                        1724 .LDW57:
                        1725 --_device	r29	local
                        1726 --_clock_div	r14	local
                        1727 --_max_clock	r1	local
                        1728 
                        1729 --_Unit	r28	param
                        1730 --_Clock	r27	param
                        1731 --_TransferMode	r26	param
                        1732 
                        1733 	.section ".bss","awb"
                        1734 .L1410:
                        1735 	.type	.L1410,@object
                        1736 	.size	.L1410,0
                        1737 	.data
                        1738 	.text

                                                                      Page 31
                                                              C:\Users\Frank\AppData\Local\Temp\gh_00003b41.si
                        1739 
                        1740 --671: }
                        1741 	.align	2
                        1742 --_r_sfma_Dev	_r_sfma_Dev	static
                        1743 --_loc_sfma_base	_loc_sfma_base	static
                        1744 --_loc_sfma_SwapUnit	_loc_sfma_SwapUnit	static
                        1745 
                        1746 	.data
                        1747 	.ghsnote version,15
                        1748 	.ghsnote tools,3
                        1749 	.ghsnote options,144
                        1750 	.text
                        1751 	.align	2
                        1752 ..eof.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_sfma...43.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs..5BC5D027..0::
                        1753 .rh850_flags REGMODE22,DATA_ALIGN8,GP_FIX,EP_NONFIX,TP_FIX,REG2_RESERVE,G3M
