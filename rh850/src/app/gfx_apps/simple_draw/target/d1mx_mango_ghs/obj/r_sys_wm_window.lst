                                                                      Page 1
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
Command Line: C:\GHS\V800.V2014.1.7\comp_201417\ease850.exe -w -elf -b0 -I../../../../../app/common/dhd -I../../../../../app/gfx_apps/simple_draw/src -I../../../../../app/gfx_apps/simple_draw/lib -I../../../../../bsp/board//config -I../../../../../bsp/board//src/gfx -I../../../../../bsp/board//src/hmi -I../../../../../bsp/board//src/stdio -I../../../../../bsp/board/d1mx_mango/config -I../../../../../bsp/board/d1mx_mango/src -I../../../../../bsp/board/d1mx_mango/src/gfx -I../../../../../bsp/board/d1mx_mango/src/hmi -I../../../../../bsp/board/d1mx_mango/src/stdio -I../../../../../bsp/gfx/lib -I../../../../../bsp/gfx/src -I../../../../../bsp/hmi/lib -I../../../../../bsp/hmi/src -I../../../../../bsp/lib -I../../../../../bsp/stdio/lib -I../../../../../bsp/stdio/src -I../../../../../cdi/lib -I../../../../../cdi/src -I../../../../../compiler/rh850_ghs/inc -I../../../../../device/d1mx/lib -I../../../../../device/d1mx/macro_cfg -I../../../../../device/d1mx/macro_cfg/csisw -I../../../../../device/d1mx/macro_cfg/davehd -I../../../../../device/d1mx/macro_cfg/ddb -I../../../../../device/d1mx/macro_cfg/drw2d -I../../../../../device/d1mx/macro_cfg/gfxbus -I../../../../../device/d1mx/macro_cfg/gpio -I../../../../../device/d1mx/macro_cfg/hypb -I../../../../../device/d1mx/macro_cfg/hypdb -I../../../../../device/d1mx/macro_cfg/jcua -I../../../../../device/d1mx/macro_cfg/nfmabare -I../../../../../device/d1mx/macro_cfg/octa -I../../../../../device/d1mx/macro_cfg/octacdb -I../../../../../device/d1mx/macro_cfg/ostm -I../../../../../device/d1mx/macro_cfg/pbg -I../../../../../device/d1mx/macro_cfg/riic -I../../../../../device/d1mx/macro_cfg/sfcdb -I../../../../../device/d1mx/macro_cfg/sfma -I../../../../../device/d1mx/macro_cfg/spea -I../../../../../device/d1mx/macro_cfg/tauj -I../../../../../device/d1mx/macro_cfg/tick -I../../../../../device/d1mx/macro_cfg/vdce -I../../../../../device/d1mx/macro_cfg/vowe -I../../../../../device/d1mx/macro_cfg/wm -I../../../../../device/d1mx/macro_cfg/xbus -I../../../../../device/d1mx/src/dev -I../../../../../device/d1mx/src/dhd -I../../../../../device/d1mx/src/hypb -I../../../../../device/d1mx/src/jcua -I../../../../../device/d1mx/src/nfmabare -I../../../../../device/d1mx/src/octa -I../../../../../device/d1mx/src/rh850_ghs -I../../../../../device/d1mx/src/vowe -I../../../../../device/d1x_common/macro_cfg -I../../../../../device/d1x_common/macro_cfg/csisw -I../../../../../device/d1x_common/macro_cfg/davehd -I../../../../../device/d1x_common/macro_cfg/ddb -I../../../../../device/d1x_common/macro_cfg/drw2d -I../../../../../device/d1x_common/macro_cfg/gfxbus -I../../../../../device/d1x_common/macro_cfg/gpio -I../../../../../device/d1x_common/macro_cfg/hypb -I../../../../../device/d1x_common/macro_cfg/hypdb -I../../../../../device/d1x_common/macro_cfg/jcua -I../../../../../device/d1x_common/macro_cfg/nfmabare -I../../../../../device/d1x_common/macro_cfg/octa -I../../../../../device/d1x_common/macro_cfg/octacdb -I../../../../../device/d1x_common/macro_cfg/ostm -I../../../../../device/d1x_common/macro_cfg/pbg -I../../../../../device/d1x_common/macro_cfg/riic -I../../../../../device/d1x_common/macro_cfg/sfcdb -I../../../../../device/d1x_common/macro_cfg/sfma -I../../../../../device/d1x_common/macro_cfg/spea -I../../../../../device/d1x_common/macro_cfg/tauj -I../../../../../device/d1x_common/macro_cfg/tick -I../../../../../device/d1x_common/macro_cfg/vdce -I../../../../../device/d1x_common/macro_cfg/vowe -I../../../../../device/d1x_common/macro_cfg/wm -I../../../../../device/d1x_common/macro_cfg/xbus -I../../../../../device/d1x_common/src/csisw -I../../../../../device/d1x_common/src/ddb -I../../../../../device/d1x_common/src/dev -I../../../../../device/d1x_common/src/gfxbus -I../../../../../device/d1x_common/src/gpio -I../../../../../device/d1x_common/src/ostm -I../../../../../device/d1x_common/src/pbg -I../../../../../device/d1x_common/src/riic -I../../../../../device/d1x_common/src/sfma -I../../../../../device/d1x_common/src/spea -I../../../../../device/d1x_common/src/tauj -I../../../../../device/d1x_common/src/tick -I../../../../../device/d1x_common/src/vdce -I../../../../../device/d1x_common/src/wm -I../../../../../device/d1x_common/src/xbus -I../../../../../device/lib -I../../../../../macro/bus/pbg/lib -I../../../../../macro/bus/pbg/src -I../../../../../macro/csi/csisw/lib -I../../../../../macro/csi/csisw/src -I../../../../../macro/drw2d/lib -I../../../../../macro/drw2d/platform/davehd -I../../../../../macro/drw2d/platform/os/no_os -I../../../../../macro/drw2d/src -I../../../../../macro/flashc/hypb/lib -I../../../../../macro/flashc/hypb/src -I../../../../../macro/flashc/hypdb/lib -I../../../../../macro/flashc/hypdb/src -I../../../../../macro/flashc/nfmabare/lib -I../../../../../macro/flashc/nfmabare/src -I../../../../../macro/flashc/octa/lib -I../../../../../macro/flashc/octa/src -I../../../../../macro/flashc/octacdb/lib -I../../../../../macro/flashc/octacdb/src -I../../../../../macro/flashc/sfcdb/lib -I../../../../../macro/flashc/sfcdb/src -I../../../../../macro/flashc/sfma/lib -I../../../../../macro/flashc/sfma/src -I../../../../../macro/gfxbus/lib -I../../../../../macro/gfxbus/src -I../../../../../macro/gfxbus/xbus/lib -I../../../../../macro/gfxbus/xbus/src -I../../../../../macro/gpio/lib -I../../../../../macro/gpio/src -I../../../../../macro/gpu/davehd/common/inc -I../../../../../macro/gpu/davehd/common/inc/platform -I../../../../../macro/gpu/davehd/common/inc/platform/d1mx -I../../../../../macro/gpu/davehd/docs -I../../../../../macro/gpu/davehd/kernel/inc -I../../../../../macro/gpu/davehd/kernel/platform/d1mx -I../../../../../macro/gpu/davehd/kernel/platform/d1mx/bridge -I../../../../../macro/gpu/davehd/kernel/platform/d1mx/non_threaded -I../../../../../macro/gpu/davehd/kernel/platform/ree -I../../../../../macro/gpu/davehd/kernel/src -I../../../../../macro/gpu/davehd/user/inc -I../../../../../macro/gpu/davehd/user/platform/d1mx/no_os -I../../../../../macro/gpu/davehd/user/src -I../../../../../macro/gpu/jcua/lib -I../../../../../macro/gpu/jcua/src -I../../../../../macro/i2c/riic/lib -I../../../../../macro/i2c/riic/src -I../../../../../macro/tick/lib -I../../../../../macro/tick/src -I../../../../../macro/timer/ostm/lib -I../../../../../macro/timer/ostm/src -I../../../../../macro/timer/tauj/lib -I../../../../../macro/timer/tauj/src -I../../../../../macro/vdce/lib -I../../../../../macro/vdce/src -I../../../../../macro/vo/ddb/lib -I../../../../../macro/vo/ddb/src -I../../../../../macro/vo/spea/lib -I../../../../../macro/vo/spea/src -I../../../../../macro/vo/vowe/lib -I../../../../../macro/vo/vowe/src -I../../../../../macro/wm/lib -I../../../../../macro/wm/src -I../../../../../macro/pwm/lib -I../../../../../macro/reset/lib -I../../../../../macro/rscan/lib -I../../../../../macro/uart/rlin3/lib -I../../../../../macro/uart/rlin3/src -I../../../../../device/d1x_common/macro_cfg/rlin3 -I../../../../../macro/stbc/lib -I../../../../../macro/adc/lib -I../../../../../device/d1x_common/macro_cfg/adc7010 -IC:\GHS\V800.V2014.1.7\comp_201417\lib\rh850_22 -cg_underscore -cpu=rh850g3m -no_v850_simd -rh850_fpsimd=none -nomacro -patch_dbo=C:\git\rh850\src\app\gfx_apps\simple_draw\target\d1mx_mango_ghs\obj\r_sys_wm_window.dbo -source=r_sys_wm_window.c -o .\obj\gh_0000l8k1.o -list=.\obj\r_sys_wm_window.lst C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si 
Original File: C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
Source File: r_sys_wm_window.c
Directory: C:\git\rh850\src\app\gfx_apps\simple_draw\target\d1mx_mango_ghs
Host OS: Windows
EASE: Copyright (C) 1983-2014 Green Hills Software.  All Rights Reversed.
Release: Compiler v2014.1.7
Build Directory: [Directory] BTOWINBOX:c:/build_2014_1_bto/2014-09-04.2200-2014_1_bto/win32-comp-ecom
Revision: [VCInfo] http://toolsvc/branches/release-branch-2014-1-bto/src@515859 (built by build)
Revision Date: Fri Sep 05 14:05:06 2014

Release Date: Fri Sep 05 14:43:29 2014

                           1 --Driver Command: ccv850 -c -MD -I../../../../../app/common/dhd
                           2 --		-I../../../../../app/gfx_apps/simple_draw/src
                           3 --		-I../../../../../app/gfx_apps/simple_draw/lib
                           4 --		-I../../../../../bsp/board//config
                           5 --		-I../../../../../bsp/board//src/gfx
                           6 --		-I../../../../../bsp/board//src/hmi
                           7 --		-I../../../../../bsp/board//src/stdio
                           8 --		-I../../../../../bsp/board/d1mx_mango/config
                           9 --		-I../../../../../bsp/board/d1mx_mango/src
                          10 --		-I../../../../../bsp/board/d1mx_mango/src/gfx
                          11 --		-I../../../../../bsp/board/d1mx_mango/src/hmi
                          12 --		-I../../../../../bsp/board/d1mx_mango/src/stdio
                          13 --		-I../../../../../bsp/gfx/lib -I../../../../../bsp/gfx/src
                          14 --		-I../../../../../bsp/hmi/lib -I../../../../../bsp/hmi/src
                          15 --		-I../../../../../bsp/lib -I../../../../../bsp/stdio/lib
                          16 --		-I../../../../../bsp/stdio/src -I../../../../../cdi/lib
                          17 --		-I../../../../../cdi/src -I../../../../../compiler/rh850_ghs/inc
                          18 --		-I../../../../../device/d1mx/lib
                          19 --		-I../../../../../device/d1mx/macro_cfg
                          20 --		-I../../../../../device/d1mx/macro_cfg/csisw
                          21 --		-I../../../../../device/d1mx/macro_cfg/davehd
                          22 --		-I../../../../../device/d1mx/macro_cfg/ddb
                          23 --		-I../../../../../device/d1mx/macro_cfg/drw2d
                          24 --		-I../../../../../device/d1mx/macro_cfg/gfxbus
                          25 --		-I../../../../../device/d1mx/macro_cfg/gpio
                          26 --		-I../../../../../device/d1mx/macro_cfg/hypb
                          27 --		-I../../../../../device/d1mx/macro_cfg/hypdb
                          28 --		-I../../../../../device/d1mx/macro_cfg/jcua
                          29 --		-I../../../../../device/d1mx/macro_cfg/nfmabare
                          30 --		-I../../../../../device/d1mx/macro_cfg/octa
                          31 --		-I../../../../../device/d1mx/macro_cfg/octacdb
                          32 --		-I../../../../../device/d1mx/macro_cfg/ostm
                          33 --		-I../../../../../device/d1mx/macro_cfg/pbg
                          34 --		-I../../../../../device/d1mx/macro_cfg/riic
                          35 --		-I../../../../../device/d1mx/macro_cfg/sfcdb
                          36 --		-I../../../../../device/d1mx/macro_cfg/sfma
                          37 --		-I../../../../../device/d1mx/macro_cfg/spea
                          38 --		-I../../../../../device/d1mx/macro_cfg/tauj
                          39 --		-I../../../../../device/d1mx/macro_cfg/tick
                          40 --		-I../../../../../device/d1mx/macro_cfg/vdce
                          41 --		-I../../../../../device/d1mx/macro_cfg/vowe
                          42 --		-I../../../../../device/d1mx/macro_cfg/wm
                          43 --		-I../../../../../device/d1mx/macro_cfg/xbus
                          44 --		-I../../../../../device/d1mx/src/dev
                          45 --		-I../../../../../device/d1mx/src/dhd
                          46 --		-I../../../../../device/d1mx/src/hypb
                          47 --		-I../../../../../device/d1mx/src/jcua
                          48 --		-I../../../../../device/d1mx/src/nfmabare
                          49 --		-I../../../../../device/d1mx/src/octa
                          50 --		-I../../../../../device/d1mx/src/rh850_ghs

                                                                      Page 2
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                          51 --		-I../../../../../device/d1mx/src/vowe
                          52 --		-I../../../../../device/d1x_common/macro_cfg
                          53 --		-I../../../../../device/d1x_common/macro_cfg/csisw
                          54 --		-I../../../../../device/d1x_common/macro_cfg/davehd
                          55 --		-I../../../../../device/d1x_common/macro_cfg/ddb
                          56 --		-I../../../../../device/d1x_common/macro_cfg/drw2d
                          57 --		-I../../../../../device/d1x_common/macro_cfg/gfxbus
                          58 --		-I../../../../../device/d1x_common/macro_cfg/gpio
                          59 --		-I../../../../../device/d1x_common/macro_cfg/hypb
                          60 --		-I../../../../../device/d1x_common/macro_cfg/hypdb
                          61 --		-I../../../../../device/d1x_common/macro_cfg/jcua
                          62 --		-I../../../../../device/d1x_common/macro_cfg/nfmabare
                          63 --		-I../../../../../device/d1x_common/macro_cfg/octa
                          64 --		-I../../../../../device/d1x_common/macro_cfg/octacdb
                          65 --		-I../../../../../device/d1x_common/macro_cfg/ostm
                          66 --		-I../../../../../device/d1x_common/macro_cfg/pbg
                          67 --		-I../../../../../device/d1x_common/macro_cfg/riic
                          68 --		-I../../../../../device/d1x_common/macro_cfg/sfcdb
                          69 --		-I../../../../../device/d1x_common/macro_cfg/sfma
                          70 --		-I../../../../../device/d1x_common/macro_cfg/spea
                          71 --		-I../../../../../device/d1x_common/macro_cfg/tauj
                          72 --		-I../../../../../device/d1x_common/macro_cfg/tick
                          73 --		-I../../../../../device/d1x_common/macro_cfg/vdce
                          74 --		-I../../../../../device/d1x_common/macro_cfg/vowe
                          75 --		-I../../../../../device/d1x_common/macro_cfg/wm
                          76 --		-I../../../../../device/d1x_common/macro_cfg/xbus
                          77 --		-I../../../../../device/d1x_common/src/csisw
                          78 --		-I../../../../../device/d1x_common/src/ddb
                          79 --		-I../../../../../device/d1x_common/src/dev
                          80 --		-I../../../../../device/d1x_common/src/gfxbus
                          81 --		-I../../../../../device/d1x_common/src/gpio
                          82 --		-I../../../../../device/d1x_common/src/ostm
                          83 --		-I../../../../../device/d1x_common/src/pbg
                          84 --		-I../../../../../device/d1x_common/src/riic
                          85 --		-I../../../../../device/d1x_common/src/sfma
                          86 --		-I../../../../../device/d1x_common/src/spea
                          87 --		-I../../../../../device/d1x_common/src/tauj
                          88 --		-I../../../../../device/d1x_common/src/tick
                          89 --		-I../../../../../device/d1x_common/src/vdce
                          90 --		-I../../../../../device/d1x_common/src/wm
                          91 --		-I../../../../../device/d1x_common/src/xbus
                          92 --		-I../../../../../device/lib -I../../../../../macro/bus/pbg/lib
                          93 --		-I../../../../../macro/bus/pbg/src
                          94 --		-I../../../../../macro/csi/csisw/lib
                          95 --		-I../../../../../macro/csi/csisw/src
                          96 --		-I../../../../../macro/drw2d/lib
                          97 --		-I../../../../../macro/drw2d/platform/davehd
                          98 --		-I../../../../../macro/drw2d/platform/os/no_os
                          99 --		-I../../../../../macro/drw2d/src
                         100 --		-I../../../../../macro/flashc/hypb/lib
                         101 --		-I../../../../../macro/flashc/hypb/src
                         102 --		-I../../../../../macro/flashc/hypdb/lib
                         103 --		-I../../../../../macro/flashc/hypdb/src
                         104 --		-I../../../../../macro/flashc/nfmabare/lib
                         105 --		-I../../../../../macro/flashc/nfmabare/src
                         106 --		-I../../../../../macro/flashc/octa/lib
                         107 --		-I../../../../../macro/flashc/octa/src
                         108 --		-I../../../../../macro/flashc/octacdb/lib
                         109 --		-I../../../../../macro/flashc/octacdb/src
                         110 --		-I../../../../../macro/flashc/sfcdb/lib
                         111 --		-I../../../../../macro/flashc/sfcdb/src

                                                                      Page 3
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                         112 --		-I../../../../../macro/flashc/sfma/lib
                         113 --		-I../../../../../macro/flashc/sfma/src
                         114 --		-I../../../../../macro/gfxbus/lib
                         115 --		-I../../../../../macro/gfxbus/src
                         116 --		-I../../../../../macro/gfxbus/xbus/lib
                         117 --		-I../../../../../macro/gfxbus/xbus/src
                         118 --		-I../../../../../macro/gpio/lib -I../../../../../macro/gpio/src
                         119 --		-I../../../../../macro/gpu/davehd/common/inc
                         120 --		-I../../../../../macro/gpu/davehd/common/inc/platform
                         121 --		-I../../../../../macro/gpu/davehd/common/inc/platform/d1mx
                         122 --		-I../../../../../macro/gpu/davehd/docs
                         123 --		-I../../../../../macro/gpu/davehd/kernel/inc
                         124 --		-I../../../../../macro/gpu/davehd/kernel/platform/d1mx
                         125 --		-I../../../../../macro/gpu/davehd/kernel/platform/d1mx/bridge
                         126 --		-I../../../../../macro/gpu/davehd/kernel/platform/d1mx/non_threaded
                         127 --		-I../../../../../macro/gpu/davehd/kernel/platform/ree
                         128 --		-I../../../../../macro/gpu/davehd/kernel/src
                         129 --		-I../../../../../macro/gpu/davehd/user/inc
                         130 --		-I../../../../../macro/gpu/davehd/user/platform/d1mx/no_os
                         131 --		-I../../../../../macro/gpu/davehd/user/src
                         132 --		-I../../../../../macro/gpu/jcua/lib
                         133 --		-I../../../../../macro/gpu/jcua/src
                         134 --		-I../../../../../macro/i2c/riic/lib
                         135 --		-I../../../../../macro/i2c/riic/src
                         136 --		-I../../../../../macro/tick/lib -I../../../../../macro/tick/src
                         137 --		-I../../../../../macro/timer/ostm/lib
                         138 --		-I../../../../../macro/timer/ostm/src
                         139 --		-I../../../../../macro/timer/tauj/lib
                         140 --		-I../../../../../macro/timer/tauj/src
                         141 --		-I../../../../../macro/vdce/lib -I../../../../../macro/vdce/src
                         142 --		-I../../../../../macro/vo/ddb/lib
                         143 --		-I../../../../../macro/vo/ddb/src
                         144 --		-I../../../../../macro/vo/spea/lib
                         145 --		-I../../../../../macro/vo/spea/src
                         146 --		-I../../../../../macro/vo/vowe/lib
                         147 --		-I../../../../../macro/vo/vowe/src -I../../../../../macro/wm/lib
                         148 --		-I../../../../../macro/wm/src -I../../../../../macro/pwm/lib
                         149 --		-I../../../../../macro/i2c/riic/lib
                         150 --		-I../../../../../macro/reset/lib -I../../../../../macro/rscan/lib
                         151 --		-I../../../../../macro/uart/rlin3/lib
                         152 --		-I../../../../../macro/uart/rlin3/src
                         153 --		-I../../../../../device/d1x_common/macro_cfg/rlin3
                         154 --		-I../../../../../macro/stbc/lib
                         155 --		-I../../../../../app/gfx_apps/simple_draw/lib
                         156 --		-I../../../../../macro/adc/lib
                         157 --		-I../../../../../device/d1x_common/macro_cfg/adc7010 -G
                         158 --		--no_commons --no_implicit_include --prototype_errors
                         159 --		-DRENESAS_D1X -DR_DRW2D_OS_NO_OS -DR_DRW2D_SYS_DHD
                         160 --		-DUSED_CPU=RH850G3M -DUSE_BSP_GFX -DUSE_BSP_HMI -DUSE_BSP_STDIO
                         161 --		-DUSE_CDI -DUSE_CSISW -DUSE_DAVEHD -DUSE_DDB -DUSE_DRW2D
                         162 --		-DUSE_GFXBUS -DUSE_GPIO -DUSE_HYPB -DUSE_HYPDB -DUSE_JCUA
                         163 --		-DUSE_NFMABARE -DUSE_OCTA -DUSE_OCTACDB -DUSE_OSTM -DUSE_PBG
                         164 --		-DUSE_RIIC -DUSE_SFCDB -DUSE_SFMA -DUSE_SPEA -DUSE_TAUJ
                         165 --		-DUSE_TICK -DUSE_VDCE -DUSE_WM -DUSE_XBUS -DMAG -MD -Zuse1bit
                         166 --		-allocate_ep -cpu=rh850g3m -large_sda -list -no_callt -notda
                         167 --		-passsource -preprocess_assembly_files -registermode=22
                         168 --		-reserve_r2 --diag_warning 1 -object_dir=./obj -DUSE_VDCE_OPENLDI
                         169 --		-gnu99 -filetype.c
                         170 --		..\..\..\..\..\device\d1x_common\src\wm\r_sys_wm_window.c -o
                         171 --		.\obj\r_sys_wm_window.o
                         172 --Source File:   ..\..\..\..\..\device\d1x_common\src\wm\r_sys_wm_window.c

                                                                      Page 4
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                         173 --Directory:     
                         174 --		C:\git\rh850\src\app\gfx_apps\simple_draw\target\d1mx_mango_ghs
                         175 --Compile Date:  Tue Oct 16 19:48:56 2018
                         176 --Host OS:       Win32
                         177 --Version:       C-RH850 2014.1.7 RELEASE VERSION
                         178 --Release:       Compiler v2014.1.7
                         179 --Revision Date: Fri Sep 05 14:10:46 2014
                         180 --Release Date:  Fri Sep 05 14:44:23 2014
                         181 -- ecom  -g -w
                         182 
                         183 --1: /*
                         184 --2: ****************************************************************************
                         185 --3: PROJECT : WM
                         186 --4: FILE    : $Id: r_sys_wm.c 8106 2016-03-24 15:02:00Z florian.zimmermann $
                         187 --5: ============================================================================ 
                         188 --6: DESCRIPTION
                         189 --7: WM system functions for D1x
                         190 --8: ============================================================================
                         191 --9:                             C O P Y R I G H T
                         192 --10: ============================================================================
                         193 --11:                        Copyright (c) 2013 - 2016
                         194 --12:                                   by 
                         195 --13:                    Renesas Electronics (Europe) GmbH. 
                         196 --14:                            Arcadiastrasse 10
                         197 --15:                           D-40472 Duesseldorf
                         198 --16:                                Germany
                         199 --17:                           All rights reserved.
                         200 --18: ============================================================================
                         201 --19: Purpose: only for testing, not for mass production
                         202 --21: DISCLAIMER
                         203 --23: LICENSEE has read, understood and accepted the terms and conditions defined in
                         204 --24: the license agreement, especially the usage rights. In any case, it is
                         205 --25: LICENSEE's responsibility to make sure that any user of the software complies
                         206 --26: with the terms and conditions of the signed license agreement.
                         207 --27: ****************************************************************************
                         208 --28: */
                         209 --30: /***********************************************************
                         210 --31:   Title: D1Mx and D1Lx WM SYS API implementation  
                         211 --32: */
                         212 --34: /***********************************************************
                         213 --35:   Section: Includes
                         214 --36: */
                         215 --38: #include "r_typedefs.h"
                         216 --39: #include "r_cdi_api.h"
                         217 --41: #include "r_ddb_api.h"      /* display database with display timings */
                         218 --42: #include "r_vdce_api.h"
                         219 --43: #include "r_spea_api.h"
                         220 --45: #include "r_config_wm.h"
                         221 --46: #include "r_wm_api.h"
                         222 --47: #include "r_wm_sys.h"
                         223 --48: #include "r_sys_wm.h"
                         224 --50: #ifdef USE_ROS
                         225 --51: #include "r_os_api.h"
                         226 --52: #endif
                         227 --54: #include "r_dev_pin_types.h"
                         228 --55: #include "r_dev_api.h"
                         229 --57: #if defined R_WM_MSQ_DEQUEUE_PROFILING || defined R_WM_MSQ_ENQUEUE_PROFILING
                         230 --58: #include "r_profile.h"
                         231 --59: #endif
                         232 --61: #ifdef R_WM_SYS_ERROR_TRACKING
                         233 --62:     #include "r_bsp_stdio_api.h"

                                                                      Page 5
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                         234 --63: #endif
                         235 --65: /***********************************************************
                         236 --66:   Section: Local Defines
                         237 --67: */
                         238 --71:    
                         239 --72: /***********************************************************
                         240 --73:   Macro: VDCECTL
                         241 --74:   
                         242 --75:   ITU 656 register.
                         243 --76: */
                         244 --77: #define VDCECTL         0xFFC0601Cu
                         245 --79: /***********************************************************
                         246 --80:   Macro: VDCECTL_VISL1
                         247 --81:   
                         248 --82:   ITU 656 register.
                         249 --83: */
                         250 --85: #define VDCECTL_VISL0   (1ul<<0)
                         251 --86: #define VDCECTL_VISL1   (1ul<<1)
                         252 --87: #define VDCECTL_PXSL    (1ul<<3)
                         253 --88: #define VDCECTL_UPDT0   (1ul<<4)
                         254 --89: #define VDCECTL_UPDT1   (1ul<<5)
                         255 --92: /***********************************************************
                         256 --93:   Section: Global Variables
                         257 --94: */
                         258 --96: /***********************************************************
                         259 --97:   Variable : r_wm_DevSys
                         260 --98:   
                         261 --99:   Sys layer device object.
                         262 --100: */
                         263 --102: extern r_wm_DevSys_t r_wm_DevSys[R_WM_DEV_NUM];
                         264 --104: extern r_wm_WinCapbs_t r_wm_DevCabps[ R_WM_MAX_LAYERS];
                         265 --106: /***********************************************************
                         266 --107:   Section: Local Function Declarations
                         267 --108: */
                         268 --110: /***********************************************************
                         269 --111:   Function: R_WM_Priv_WindowIsRleLayer
                         270 --112:   
                         271 --113:   External function reference to r_wm_priv.h / r_wm_main.c
                         272 --114: */
                         273 --115: uint32_t R_WM_Priv_WindowIsRleLayer(const r_wm_Window_t  *Window);
                         274 --119: static r_vdce_Format_t loc_GetVdceFormat(r_wm_WinColorFmt_t Format);
                         275 --120: #if 0
                         276 --121: static uint32_t loc_WinGetCount(uint32_t Unit);
                         277 --122: #endif
                         278 --123: static uint32_t loc_SetRle(uint32_t Unit, uint32_t Layer, r_wm_WinColorFmt_t Fmt, uint32_t Buf);
                         279 --124: static uint32_t loc_CheckHWLayerCapabilities(uint32_t Unit, uint32_t Layer, const r_wm_Window_t* Win);
                         280 --126: static uint32_t loc_WinSetViewportAndGeom  (   uint32_t            Unit,
                         281 --127:                                         const r_wm_Window_t *Win,
                         282 --128:                                         uint32_t            Layer,
                         283 --129:                                         int32_t             PosX,
                         284 --130:                                         int32_t             PosY,
                         285 --131:                                         int32_t             Pitch,
                         286 --132:                                         int32_t             Width,
                         287 --133:                                         int32_t             Height,
                         288 --134:                                         int32_t             Bpp
                         289 --135:                                     );
                         290 --137: static uint32_t loc_WinSetFb (  uint32_t            Unit,
                         291 --138:                                 const r_wm_Window_t *Win,
                         292 --139:                                 int32_t             PosX,
                         293 --140:                                 int32_t             PosY,
                         294 --141:                                 const void          *Fb

                                                                      Page 6
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                         295 --142:                         );
                         296 --143: static const void* loc_WinGetOnScreenFb(const r_wm_Window_t *Win);
                         297 --144: static const r_vdce_Error_t loc_VDCE_LayerEnable(uint32_t Unit, uint32_t Layer);
                         298 --145: static const r_vdce_Error_t loc_VDCE_LayerDisable(uint32_t Unit, uint32_t Layer);
                         299 --146: static uint32_t loc_WindowIsYUVLayer(const r_wm_Window_t *Window);
                         300 --147: static r_wm_WinCapbs_t loc_WM_Sys_WindowCapabilitiesGet ( uint32_t Unit, uint32_t Layer );
                         301 --149: /***********************************************************
                         302 --150:   Section: Local Variables
                         303 --151: */
                         304 --156: /***********************************************************
                         305 --157:   Section: Local Functions
                         306 --158: */
                         307 --161: /***********************************************************
                         308 --162:   Function: loc_GetVdceFormat
                         309 --163: */
                         310 --164: static r_vdce_Format_t loc_GetVdceFormat(r_wm_WinColorFmt_t Format)
                         311 	.text
                         312 ..bof.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window...43.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs..5BC5D028..0::
                         313 	.align	2
                         314 	.global	_loc_GetVdceFormat..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.
                         315 _loc_GetVdceFormat..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.:
                         316 _loc_GetVdceFormat:
00000000 0670            317 	mov	r6,r14
                         318 --	    .bf
                         319 .LDW01:
                         320 --165: {
                         321 --166:     r_vdce_Format_t  vdce_format;
                         322 --168:     switch (Format) {
00000002 0e08            323 	mov	r14,r1
00000004 0106e7ff        324 	addi	-25,r1,zero
00000008 f155*           325 	bl	.L22
0000000a c20a            326 	shl	2,r1
0000000c e10600000000*   327 	jmp	.L188[r1]
                         328 .L188:
00000012 80076400*       329 	jr	.L6
00000016 80076400*       330 	jr	.L7
0000001a 80076800*       331 	jr	.L9
0000001e 80076400*       332 	jr	.L9
00000022 80076400*       333 	jr	.L10
00000026 80076400*       334 	jr	.L11
0000002a 80075400*       335 	jr	.L8
0000002e 80078800*       336 	jr	.L22
00000032 80075c00*       337 	jr	.L12
00000036 80075c00*       338 	jr	.L13
0000003a 80075c00*       339 	jr	.L14
0000003e 80075c00*       340 	jr	.L15
00000042 80074800*       341 	jr	.L11
00000046 80077000*       342 	jr	.L22
0000004a 80073c00*       343 	jr	.L10
0000004e 80076800*       344 	jr	.L22
00000052 80076400*       345 	jr	.L22
00000056 80076000*       346 	jr	.L22
0000005a 80075c00*       347 	jr	.L22
0000005e 80074000*       348 	jr	.L16
00000062 80074000*       349 	jr	.L17
00000066 80074000*       350 	jr	.L18
0000006a 80074000*       351 	jr	.L19
0000006e 80074000*       352 	jr	.L20
00000072 80074000*       353 	jr	.L21
                         354 .L6:
                         355 --169:     case R_WM_COLORFMT_RGB565:

                                                                      Page 7
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                         356 --170:         vdce_format = R_VDCE_RGB565;
                         357 --line170
                         358 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.1::
                         359 .LDWlin1:
00000076 000a            360 	mov	0,r1
00000078 a525*           361 	br	.L4
                         362 .L7:
                         363 --171:         break;
                         364 --172:     case R_WM_COLORFMT_ARGB1555:
                         365 --173:         vdce_format = R_VDCE_ARGB1555;
                         366 --line173
                         367 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.2::
                         368 .LDWlin2:
0000007a 020a            369 	mov	2,r1
0000007c 8525*           370 	br	.L4
                         371 .L8:
                         372 --174:         break;
                         373 --175:     case R_WM_COLORFMT_RGBA5551:
                         374 --176:         vdce_format = R_VDCE_RGBA5551;
                         375 --line176
                         376 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.3::
                         377 .LDWlin3:
0000007e 0a0a            378 	mov	10,r1
00000080 e51d*           379 	br	.L4
                         380 .L9:
                         381 --177:         break;
                         382 --178:     case R_WM_COLORFMT_RGB0444:
                         383 --179:     case R_WM_COLORFMT_ARGB4444:
                         384 --180:         vdce_format = R_VDCE_ARGB4444;
                         385 --line180
                         386 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.4::
                         387 .LDWlin4:
00000082 030a            388 	mov	3,r1
00000084 c51d*           389 	br	.L4
                         390 .L10:
                         391 --181:         break;
                         392 --182:     case R_WM_COLORFMT_RGB0888:
                         393 --183:     case R_WM_COLORFMT_RLE24RGB0888:
                         394 --184:         vdce_format = R_VDCE_RGB0888;
                         395 --line184
                         396 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.5::
                         397 .LDWlin5:
00000086 010a            398 	mov	1,r1
00000088 a51d*           399 	br	.L4
                         400 .L11:
                         401 --185:         break;
                         402 --186:     case R_WM_COLORFMT_ARGB8888:
                         403 --187:     case R_WM_COLORFMT_RLE24ARGB8888:
                         404 --188:         vdce_format = R_VDCE_ARGB8888; 
                         405 --line188
                         406 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.6::
                         407 .LDWlin6:
0000008a 040a            408 	mov	4,r1
0000008c 851d*           409 	br	.L4
                         410 .L12:
                         411 --189:         break;
                         412 --190:     case R_WM_COLORFMT_RGBA8888:
                         413 --191:        vdce_format = R_VDCE_RGBA8888;
                         414 --line191
                         415 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.7::
                         416 .LDWlin7:

                                                                      Page 8
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
0000008e 0b0a            417 	mov	11,r1
00000090 e515*           418 	br	.L4
                         419 .L13:
                         420 --192:        break;
                         421 --193:     case R_WM_COLORFMT_CLUT8:
                         422 --194:         vdce_format = R_VDCE_CLUT8;
                         423 --line194
                         424 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.8::
                         425 .LDWlin8:
00000092 050a            426 	mov	5,r1
00000094 c515*           427 	br	.L4
                         428 .L14:
                         429 --195:         break;
                         430 --196:     case R_WM_COLORFMT_CLUT4:
                         431 --197:         vdce_format = R_VDCE_CLUT4;
                         432 --line197
                         433 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.9::
                         434 .LDWlin9:
00000096 060a            435 	mov	6,r1
00000098 a515*           436 	br	.L4
                         437 .L15:
                         438 --198:         break;
                         439 --199:     case R_WM_COLORFMT_CLUT1:
                         440 --200:         vdce_format = R_VDCE_CLUT1;
                         441 --line200
                         442 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.10::
                         443 .LDWlin10:
0000009a 070a            444 	mov	7,r1
0000009c 8515*           445 	br	.L4
                         446 .L16:
                         447 --201:         break;
                         448 --202:     case R_WM_COLORFMT_YCBCR_422:
                         449 --203:         vdce_format = R_VDCE_YCBCR_422;
                         450 --line203
                         451 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.11::
                         452 .LDWlin11:
0000009e 080a            453 	mov	8,r1
000000a0 e50d*           454 	br	.L4
                         455 .L17:
                         456 --204:         break;
                         457 --205:     case R_WM_COLORFMT_YCBCR_444:
                         458 --206:         vdce_format = R_VDCE_YCBCR_444;
                         459 --line206
                         460 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.12::
                         461 .LDWlin12:
000000a2 090a            462 	mov	9,r1
000000a4 c50d*           463 	br	.L4
                         464 .L18:
                         465 --207:         break;
                         466 --208:     case R_WM_COLORFMT_YUV_YUYV:
                         467 --209:         vdce_format = R_VDCE_YUV_YUYV;
                         468 --line209
                         469 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.13::
                         470 .LDWlin13:
000000a6 0c0a            471 	mov	12,r1
000000a8 a50d*           472 	br	.L4
                         473 .L19:
                         474 --210:         break;
                         475 --211:     case R_WM_COLORFMT_YUV_UYVY:
                         476 --212:         vdce_format = R_VDCE_YUV_UYVY;
                         477 --line212

                                                                      Page 9
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                         478 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.14::
                         479 .LDWlin14:
000000aa 0d0a            480 	mov	13,r1
000000ac 850d*           481 	br	.L4
                         482 .L20:
                         483 --213:         break;
                         484 --214:     case R_WM_COLORFMT_YUV_YVYU:
                         485 --215:         vdce_format = R_VDCE_YUV_YVYU;
                         486 --line215
                         487 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.15::
                         488 .LDWlin15:
000000ae 0e0a            489 	mov	14,r1
000000b0 e505*           490 	br	.L4
                         491 .L21:
                         492 --216:         break;
                         493 --217:     case R_WM_COLORFMT_YUV_VYUY:
                         494 --218:         vdce_format = R_VDCE_YUV_VYUY;
                         495 --line218
                         496 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.16::
                         497 .LDWlin16:
000000b2 0f0a            498 	mov	15,r1
000000b4 c505*           499 	br	.L4
                         500 .L22:
                         501 --219:         break;
                         502 --220:     default:
                         503 --221:         vdce_format = R_VDCE_FORMAT_LAST;
                         504 --line221
                         505 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.17::
                         506 .LDWlin17:
000000b6 200e1000        507 	movea	16,zero,r1
000000ba 0000            508 	nop
                         509 .L4:
                         510 --222:         break;
                         511 --223:     }
                         512 --224:     return vdce_format;
000000bc 0150            513 	mov	r1,r10
                         514 --	    .ef
                         515 .LDW11:
000000be 7f00            516 	jmp	[lp]
                         517 	.type	_loc_GetVdceFormat,@function
                         518 	.size	_loc_GetVdceFormat,.-_loc_GetVdceFormat
                         519 	.type	_loc_GetVdceFormat..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.,@function
                         520 	.size	_loc_GetVdceFormat..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.,.-_loc_GetVdceFormat..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.
                         521 	.align	2
                         522 .LDW21:
                         523 --_vdce_format	r1	local
                         524 
                         525 --_Format	r14	param
                         526 
                         527 	.section ".bss","awb"
                         528 .L186:
                         529 	.type	.L186,@object
                         530 	.size	.L186,0
                         531 	.data
                         532 	.ghsnote jtable,2097156,.L188,.L188,.L188,25
                         533 	.text
                         534 
                         535 --225: }
                         536 
                         537 --227: /***********************************************************
                         538 --228:   Function: loc_WindowIsYUVLayer

                                                                      Page 10
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                         539 --229: */
                         540 --230: static uint32_t loc_WindowIsYUVLayer(const r_wm_Window_t *Window)
                         541 	.align	2
                         542 	.align	2
                         543 	.global	_loc_WindowIsYUVLayer..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.
                         544 _loc_WindowIsYUVLayer..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.:
                         545 _loc_WindowIsYUVLayer:
000000c0 06f0            546 	mov	r6,ep
                         547 --	    .bf
                         548 .LDW31:
                         549 --231: {
                         550 --232:     uint32_t ret_val;
                         551 --233:     switch (Window->ColorFmt)
000000c2 040d            552 	sld.w	8[ep],r1
000000c4 010eedff        553 	addi	-19,r1,r1
000000c8 650a            554 	cmp	5,r1
000000ca bb05*           555 	bh	.L313
                         556 --234:     {
                         557 --235:         case R_WM_COLORFMT_YUV_YUYV:
                         558 --236:         case R_WM_COLORFMT_YUV_UYVY:
                         559 --237:         case R_WM_COLORFMT_YUV_YVYU:
                         560 --238:         case R_WM_COLORFMT_YUV_VYUY:
                         561 --239:         case R_WM_COLORFMT_YCBCR_422:
                         562 --240:         case R_WM_COLORFMT_YCBCR_444:
                         563 --241:             ret_val = 1;
                         564 --line241
                         565 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.18::
                         566 .LDWlin18:
000000cc 010a            567 	mov	1,r1
000000ce b505*           568 	br	.L310
                         569 .L313:
                         570 --242:             break;
                         571 --243:         default:
                         572 --244:             ret_val = 0;
                         573 --line244
                         574 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.19::
                         575 .LDWlin19:
000000d0 000a            576 	mov	0,r1
000000d2 0000            577 	nop
                         578 .L310:
                         579 --245:             break;
                         580 --246:     }
                         581 --247:     return ret_val;
000000d4 0150            582 	mov	r1,r10
                         583 --	    .ef
                         584 .LDW41:
000000d6 7f00            585 	jmp	[lp]
                         586 	.type	_loc_WindowIsYUVLayer,@function
                         587 	.size	_loc_WindowIsYUVLayer,.-_loc_WindowIsYUVLayer
                         588 	.type	_loc_WindowIsYUVLayer..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.,@function
                         589 	.size	_loc_WindowIsYUVLayer..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.,.-_loc_WindowIsYUVLayer..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.
                         590 	.align	2
                         591 .LDW51:
                         592 --_ret_val	r1	local
                         593 
                         594 --_Window	ep	param
                         595 
                         596 	.section ".bss","awb"
                         597 .L354:
                         598 	.type	.L354,@object
                         599 	.size	.L354,0

                                                                      Page 11
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                         600 	.data
                         601 	.text
                         602 
                         603 --248: }
                         604 
                         605 --250: #if 0
                         606 --251: /***********************************************************
                         607 --252:   Function: loc_WinGetCount
                         608 --253: */
                         609 --254: static uint32_t loc_WinGetCount(uint32_t Unit)
                         610 --255: {
                         611 --256:     uint32_t n = 0;
                         612 --257:     r_wm_Window_t* cur_win = r_wm_DevSys[Unit].RootWin;
                         613 --259:     /* Iteration of NULL-terminated Linked-List. Maximum Number of expected 
                         614 --260:        elements for this device family is R_WM_MAX_LAYERS. */
                         615 --261:     while ( (cur_win != R_NULL) && (n <= R_WM_MAX_LAYERS) )
                         616 --262:     {
                         617 --263:         cur_win = cur_win->Next;
                         618 --264:         ++n;
                         619 --265:     }
                         620 --266:     return n;
                         621 --267: }
                         622 --268: #endif
                         623 --270: /***********************************************************
                         624 --271:   Function: loc_WM_WinLayerPairGet
                         625 --272: */
                         626 --273: r_wm_sys_vdce_WinLayerPair_t* loc_WM_WinLayerPairGet(uint32_t Unit, const r_wm_Window_t* Win)
                         627 	.align	2
                         628 	.align	2
                         629 	.align	2
                         630 	.global	_loc_WM_WinLayerPairGet
                         631 _loc_WM_WinLayerPairGet:
000000d8 0670            632 	mov	r6,r14
000000da 0760            633 	mov	r7,r12
000000dc 2d0600000000*   634 	mov	_r_wm_DevSys,r13
                         635 --	    .bf
                         636 .LDW61:
                         637 --274: {
                         638 --275:     uint32_t i;
                         639 --276:     for (i = 0; i <  R_WM_MAX_LAYERS; ++i)
000000e2 000a            640 	mov	0,r1
000000e4 0000            641 	nop
                         642 .L388:
                         643 --277:     {
                         644 --278:         if (r_wm_DevSys[Unit].WinToLayerMap[i].Win == Win)
000000e6 0e58            645 	mov	r14,r11
000000e8 eb00            646 	sxh	r11
000000ea eb5e6000        647 	mulhi	96,r11,r11
000000ee 01f0            648 	mov	r1,ep
000000f0 c3f2            649 	shl	3,ep
000000f2 cd59            650 	add	r13,r11
000000f4 0b5e1400        651 	addi	20,r11,r11
000000f8 cbf1            652 	add	r11,ep
000000fa 005d            653 	sld.w	0[ep],r11
000000fc ec59            654 	cmp	r12,r11
000000fe ca0d*           655 	bne	.L389
                         656 --279:         {
                         657 --280:             return &r_wm_DevSys[Unit].WinToLayerMap[i];
                         658 --line280
                         659 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.20::
                         660 .LDWlin20:

                                                                      Page 12
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
00000100 0e58            661 	mov	r14,r11
00000102 eb00            662 	sxh	r11
00000104 eb5e6000        663 	mulhi	96,r11,r11
00000108 0150            664 	mov	r1,r10
0000010a c352            665 	shl	3,r10
0000010c cd59            666 	add	r13,r11
0000010e 0b5e1400        667 	addi	20,r11,r11
00000112 cb51            668 	add	r11,r10
00000114 d505*           669 	br	.L384
                         670 .L389:
                         671 --line276
                         672 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.21::
                         673 .LDWlin21:
00000116 410a            674 	add	1,r1
00000118 640a            675 	cmp	4,r1
0000011a e1e5*           676 	bl	.L388
                         677 --281:         }
                         678 --282:     }
                         679 --283:     return R_NULL;
                         680 --line283
                         681 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.22::
                         682 .LDWlin22:
0000011c 0052            683 	mov	0,r10
                         684 .L384:
                         685 --	    .ef
                         686 .LDW71:
0000011e 7f00            687 	jmp	[lp]
                         688 	.type	_loc_WM_WinLayerPairGet,@function
                         689 	.size	_loc_WM_WinLayerPairGet,.-_loc_WM_WinLayerPairGet
                         690 	.align	2
                         691 .LDW81:
                         692 --_i	r1	local
                         693 
                         694 --_Unit	r14	param
                         695 --_Win	r12	param
                         696 
                         697 	.section ".bss","awb"
                         698 .L438:
                         699 	.type	.L438,@object
                         700 	.size	.L438,0
                         701 	.data
                         702 	.text
                         703 
                         704 --284: }
                         705 
                         706 --286: /***********************************************************
                         707 --287:   Function: loc_WinLayerPairGetByLayer
                         708 --288:   
                         709 --289:   Return a WinLayerPair based on the given Layer.
                         710 --290:   Return NULL, if layer has no window.
                         711 --291: */
                         712 --292: r_wm_sys_vdce_WinLayerPair_t* loc_WinLayerPairGetByLayer(uint32_t Unit, const uint32_t Layer)
                         713 	.align	2
                         714 	.align	2
                         715 	.global	_loc_WinLayerPairGetByLayer
                         716 _loc_WinLayerPairGetByLayer:
00000120 0670            717 	mov	r6,r14
00000122 0760            718 	mov	r7,r12
00000124 2d0600000000*   719 	mov	_r_wm_DevSys,r13
                         720 --	    .bf
                         721 .LDW91:

                                                                      Page 13
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                         722 --293: {
                         723 --294:     uint32_t i;
                         724 --295:     for (i = 0; i <  R_WM_MAX_LAYERS; ++i)
0000012a 000a            725 	mov	0,r1
0000012c 0000            726 	nop
                         727 .L472:
                         728 --296:     {
                         729 --297:         if (r_wm_DevSys[Unit].WinToLayerMap[i].Layer == Layer)
0000012e 0e58            730 	mov	r14,r11
00000130 eb00            731 	sxh	r11
00000132 eb5e6000        732 	mulhi	96,r11,r11
00000136 01f0            733 	mov	r1,ep
00000138 c3f2            734 	shl	3,ep
0000013a cd59            735 	add	r13,r11
0000013c 0b5e1400        736 	addi	20,r11,r11
00000140 cbf1            737 	add	r11,ep
00000142 025d            738 	sld.w	4[ep],r11
00000144 ec59            739 	cmp	r12,r11
00000146 ca0d*           740 	bne	.L473
                         741 --298:         {
                         742 --299:             return &r_wm_DevSys[Unit].WinToLayerMap[i];
                         743 --line299
                         744 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.23::
                         745 .LDWlin23:
00000148 0e58            746 	mov	r14,r11
0000014a eb00            747 	sxh	r11
0000014c eb5e6000        748 	mulhi	96,r11,r11
00000150 0150            749 	mov	r1,r10
00000152 c352            750 	shl	3,r10
00000154 cd59            751 	add	r13,r11
00000156 0b5e1400        752 	addi	20,r11,r11
0000015a cb51            753 	add	r11,r10
0000015c d505*           754 	br	.L468
                         755 .L473:
                         756 --line295
                         757 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.24::
                         758 .LDWlin24:
0000015e 410a            759 	add	1,r1
00000160 640a            760 	cmp	4,r1
00000162 e1e5*           761 	bl	.L472
                         762 --300:         }
                         763 --301:     }
                         764 --302:     return R_NULL;
                         765 --line302
                         766 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.25::
                         767 .LDWlin25:
00000164 0052            768 	mov	0,r10
                         769 .L468:
                         770 --	    .ef
                         771 .LDW02:
00000166 7f00            772 	jmp	[lp]
                         773 	.type	_loc_WinLayerPairGetByLayer,@function
                         774 	.size	_loc_WinLayerPairGetByLayer,.-_loc_WinLayerPairGetByLayer
                         775 	.align	2
                         776 .LDW12:
                         777 --_i	r1	local
                         778 
                         779 --_Unit	r14	param
                         780 --_Layer	r12	param
                         781 
                         782 	.section ".bss","awb"

                                                                      Page 14
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                         783 .L518:
                         784 	.type	.L518,@object
                         785 	.size	.L518,0
                         786 	.data
                         787 	.text
                         788 
                         789 --303: }
                         790 
                         791 --305: /***********************************************************
                         792 --306:   Function: loc_SetRle
                         793 --307: */
                         794 --308: static uint32_t loc_SetRle(uint32_t Unit, uint32_t Layer, r_wm_WinColorFmt_t Fmt, uint32_t Buf)
                         795 	.align	2
                         796 	.align	2
                         797 	.global	_loc_SetRle..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.
                         798 _loc_SetRle..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.:
                         799 _loc_SetRle:
00000168 8e07e170        800 	prepare	{r25,r26,r27,r28,r29,r31},7
0000016c 633f0100        801 	st.w	r7,0[sp]
00000170 06e0            802 	mov	r6,r28
00000172 63470500        803 	st.w	r8,4[sp]
00000176 40d60030        804 	movhi	hi(805306368),zero,r26
0000017a 634f0900        805 	st.w	r9,8[sp]
0000017e 390600000000*   806 	mov	_r_wm_DevSys,r25
                         807 --	    .bf
                         808 .LDW22:
                         809 --309: {
                         810 --310:     r_spea_RleConfig_t rle_conf;
                         811 --311:     uint32_t err_exit = 0;
00000184 00da            812 	mov	0,r27
                         813 --312:     r_spea_Unit_t rle_unit;
                         814 --313:     switch (Fmt)
00000186 230f0500        815 	ld.w	4[sp],r1
0000018a 6e0a            816 	cmp	14,r1
0000018c e905*           817 	bnl	.L712
0000018e 6c0a            818 	cmp	12,r1
00000190 b20d*           819 	be	.L552
00000192 6d0a            820 	cmp	13,r1
00000194 ca15*           821 	bne	.L555
00000196 c50d*           822 	br	.L553
                         823 .L712:
00000198 6f0a            824 	cmp	15,r1
0000019a e105*           825 	bl	.L552
0000019c 920d*           826 	be	.L553
0000019e 0106edff        827 	addi	-19,r1,zero
000001a2 d10d*           828 	bl	.L555
000001a4 950d*           829 	br	.L554
                         830 .L552:
                         831 --314:     {
                         832 --315:         case R_WM_COLORFMT_RLE24ARGB8888:
                         833 --316:         case R_WM_COLORFMT_RLE24RGB0888:
                         834 --317:             rle_conf.ColorMode = R_SPEA_CM_24BPP;
                         835 --line317
                         836 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.26::
                         837 .LDWlin26:
000001a6 020a            838 	mov	2,r1
000001a8 630f1500        839 	st.w	r1,20[sp]
000001ac d50d*           840 	br	.L550
                         841 .L553:
                         842 --318:             break;
                         843 --319:         case R_WM_COLORFMT_RLE18ARGB8888:

                                                                      Page 15
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                         844 --320:         case R_WM_COLORFMT_RLE18RGB0888:
                         845 --321:             rle_conf.ColorMode = R_SPEA_CM_18BPP;
                         846 --line321
                         847 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.27::
                         848 .LDWlin27:
000001ae 010a            849 	mov	1,r1
000001b0 630f1500        850 	st.w	r1,20[sp]
000001b4 950d*           851 	br	.L550
                         852 .L554:
                         853 --322:             break;
                         854 --323:         case R_WM_COLORFMT_RLE8CLUT8:
                         855 --324:         case R_WM_COLORFMT_RLE8CLUT4:
                         856 --325:         case R_WM_COLORFMT_RLE8CLUT1:
                         857 --326:             rle_conf.ColorMode = R_SPEA_CM_8BPP;
                         858 --line326
                         859 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.28::
                         860 .LDWlin28:
000001b6 63071500        861 	st.w	zero,20[sp]
000001ba e505*           862 	br	.L550
                         863 .L555:
                         864 --327:             break;
                         865 --328:         default:
                         866 --329:             err_exit = 1;
                         867 --line329
                         868 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.29::
                         869 .LDWlin29:
000001bc 01da            870 	mov	1,r27
                         871 --330:             rle_conf.ColorMode = R_SPEA_CM_24BPP;
000001be 020a            872 	mov	2,r1
000001c0 630f1500        873 	st.w	r1,20[sp]
000001c4 0000            874 	nop
                         875 .L550:
                         876 --331:             break;
                         877 --332:     }
                         878 --333:     if (err_exit == 1)
000001c6 61da            879 	cmp	1,r27
000001c8 ba05*           880 	bne	.L556
                         881 --334:     {
                         882 --335:         R_WM_SYS_REPORT_ERROR(Unit, R_WM_ERR_COLORFMT, 0);
                         883 --336:         return 0;   /* R_WM_ERR_COLORFMT */
                         884 --line336
                         885 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.30::
                         886 .LDWlin30:
000001ca 0052            887 	mov	0,r10
000001cc f555*           888 	br	.L548
                         889 .L556:
                         890 --337:     }
                         891 --339:     /* Both RLE units have VideoOutID 0 set as default in HW.
                         892 --340:        R_SPEA_SetRle is not allowed to set the same VideoOutID
                         893 --341:        as the other unit already has. Furthermore, R_SPEA_UnitEnable
                         894 --342:        starts both units, so if the other unit operation is not desired,
                         895 --343:        its VideoOutID needs to be set to some invalid value.
                         896 --344:     */
                         897 --345:     
                         898 --346:     /* check if the other unit is already in use,
                         899 --347:        if not, it needs to be setup with an invalid VideoOutID,
                         900 --348:        if yes, than it already has a (valid) different VideoOutID
                         901 --349:     */
                         902 --350:     rle_unit = loc_WM_Sprite_GetRLEUnitFromLayerNo(Unit, Layer);
                         903 --line350
                         904 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.31::

                                                                      Page 16
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                         905 .LDWlin31:
000001ce 233f0100        906 	ld.w	0[sp],r7
000001d2 1c30            907 	mov	r28,r6
                         908 	jarl	_loc_WM_Sprite_GetRLEUnitFromLayerNo,lp
                         908 <EXPANSION BEGIN>
                         908 jarl22 _loc_WM_Sprite_GetRLEUnitFromLayerNo , lp 
000001d4 80ff0000*       908 <EXPANSION END>
000001d8 0ae8            909 	mov	r10,r29
                         910 --351:     if  ((r_wm_DevSys[Unit ^ 1u].GlobalStatusFlags & (R_WM_SYS_GLOBAL_STATUS_FLAG_RLE0<<rle_unit)) == 0uL)
                         911 --line351
                         912 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.32::
                         913 .LDWlin32:
000001da bc0e0100        914 	xori	1,r28,r1
000001de e100            915 	sxh	r1
000001e0 e1f66000        916 	mulhi	96,r1,ep
000001e4 010a            917 	mov	1,r1
000001e6 fd0fc208        918 	shl	r29,r1,r1
000001ea d9f1            919 	add	r25,ep
000001ec 2c75            920 	sld.w	88[ep],r14
000001ee 4e09            921 	and	r14,r1
000001f0 9a1d*           922 	bne	.L559
                         923 --352:     {
                         924 --353:         /* some foo defaults */
                         925 --354:         rle_conf.ColorMode = R_SPEA_CM_24BPP;
                         926 --line354
                         927 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.33::
                         928 .LDWlin33:
000001f2 020a            929 	mov	2,r1
000001f4 630f1500        930 	st.w	r1,20[sp]
                         931 --355:         rle_conf.VirtStart = 0x30000000u;
000001f8 63d70d00        932 	st.w	r26,12[sp]
                         933 --356:         rle_conf.MemStart = 0xffffffffu;
000001fc 1f0a            934 	mov	-1,r1
000001fe 630f1100        935 	st.w	r1,16[sp]
                         936 --357:         rle_conf.VideoOutID = 0xff; /* an invalid Id */
00000202 200eff00        937 	movea	255,zero,r1
00000206 430f1800        938 	st.b	r1,24[sp]
                         939 --358:         if (R_SPEA_ERR_OK != R_SPEA_SetRle(rle_unit, Unit ^ 1u, &rle_conf))
0000020a bc3e0100        940 	xori	1,r28,r7
0000020e 1d30            941 	mov	r29,r6
00000210 8700            942 	zxb	r7
00000212 23460c00        943 	movea	12,sp,r8
                         944 	jarl	_R_SPEA_SetRle,lp
                         944 <EXPANSION BEGIN>
                         944 jarl22 _R_SPEA_SetRle , lp 
00000216 80ff0000*       944 <EXPANSION END>
0000021a e051            945 	cmp	zero,r10
0000021c b205*           946 	be	.L559
                         947 --359:         {
                         948 --360:             return 0;
                         949 --line360
                         950 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.34::
                         951 .LDWlin34:
0000021e 0052            952 	mov	0,r10
00000220 d52d*           953 	br	.L548
                         954 .L559:
                         955 --361:         }
                         956 --362:     }
                         957 --363:    
                         958 --364:     
                         959 --365:     rle_conf.VirtStart = 0x30000000u;

                                                                      Page 17
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                         960 --line365
                         961 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.35::
                         962 .LDWlin35:
00000222 63d70d00        963 	st.w	r26,12[sp]
                         964 --366:     rle_conf.MemStart = Buf;
00000226 235f0900        965 	ld.w	8[sp],r11
0000022a 635f1100        966 	st.w	r11,16[sp]
                         967 --367:     rle_conf.VideoOutID = Unit;
0000022e 43e71800        968 	st.b	r28,24[sp]
                         969 --368:     if (R_SPEA_ERR_OK != R_SPEA_SetRle(rle_unit, Unit, &rle_conf))
00000232 1c38            970 	mov	r28,r7
00000234 1d30            971 	mov	r29,r6
00000236 8700            972 	zxb	r7
00000238 23460c00        973 	movea	12,sp,r8
                         974 	jarl	_R_SPEA_SetRle,lp
                         974 <EXPANSION BEGIN>
                         974 jarl22 _R_SPEA_SetRle , lp 
0000023c 80ff0000*       974 <EXPANSION END>
00000240 e051            975 	cmp	zero,r10
00000242 b205*           976 	be	.L564
                         977 --369:     {
                         978 --370:         return 0;
                         979 --line370
                         980 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.36::
                         981 .LDWlin36:
00000244 0052            982 	mov	0,r10
00000246 a51d*           983 	br	.L548
                         984 .L564:
                         985 --371:     }
                         986 --372:     
                         987 --373:     /*  R_SPEA_UnitEnable actually turns both units on, but by supplying the
                         988 --374:         invalid VideoOutID for the one we don't need, it is effectively 'turned off'
                         989 --375:     */
                         990 --376:     if (R_SPEA_ERR_OK != R_SPEA_UnitEnable(rle_unit, rle_unit, 1))
                         991 --line376
                         992 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.37::
                         993 .LDWlin37:
00000248 1d30            994 	mov	r29,r6
0000024a 1d38            995 	mov	r29,r7
0000024c 0142            996 	mov	1,r8
                         997 	jarl	_R_SPEA_UnitEnable,lp
                         997 <EXPANSION BEGIN>
                         997 jarl22 _R_SPEA_UnitEnable , lp 
0000024e 80ff0000*       997 <EXPANSION END>
00000252 e051            998 	cmp	zero,r10
00000254 b205*           999 	be	.L567
                        1000 --377:     {
                        1001 --378:         return 0;
                        1002 --line378
                        1003 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.38::
                        1004 .LDWlin38:
00000256 0052           1005 	mov	0,r10
00000258 9515*          1006 	br	.L548
                        1007 .L567:
                        1008 --379:     }
                        1009 --381:     /* Set respective R_WM_SYS_FRAME_STATUS_SPEA_RLEn_UPDATE_BIT */
                        1010 --382:     loc_WM_Sprite_SetUpdateFlag(Unit, rle_unit);
                        1011 --line382
                        1012 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.39::
                        1013 .LDWlin39:
0000025a 1c30           1014 	mov	r28,r6

                                                                      Page 18
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
0000025c 1d38           1015 	mov	r29,r7
                        1016 	jarl	_loc_WM_Sprite_SetUpdateFlag,lp
                        1016 <EXPANSION BEGIN>
                        1016 jarl22 _loc_WM_Sprite_SetUpdateFlag , lp 
0000025e 80ff0000*      1016 <EXPANSION END>
                        1017 --384:     /* set the flag that the unit is in use */
                        1018 --385:     r_wm_DevSys[Unit].GlobalStatusFlags |= (R_WM_SYS_GLOBAL_STATUS_FLAG_RLE0<<rle_unit);
                        1019 --line385
                        1020 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.40::
                        1021 .LDWlin40:
00000262 1cf0           1022 	mov	r28,ep
00000264 fe00           1023 	sxh	ep
00000266 fef66000       1024 	mulhi	96,ep,ep
0000026a 010a           1025 	mov	1,r1
0000026c fd0fc270       1026 	shl	r29,r1,r14
00000270 d9f1           1027 	add	r25,ep
00000272 2c0d           1028 	sld.w	88[ep],r1
00000274 0e09           1029 	or	r14,r1
00000276 2d0d           1030 	sst.w	r1,88[ep]
                        1031 --386:     
                        1032 --387:     return 1;
00000278 0152           1033 	mov	1,r10
                        1034 .L548:
                        1035 --	    .ef
                        1036 .LDW32:
0000027a 4e06ff70       1037 	dispose	7,{r25,r26,r27,r28,r29,r31},[lp]
                        1038 	.type	_loc_SetRle,@function
                        1039 	.size	_loc_SetRle,.-_loc_SetRle
                        1040 	.type	_loc_SetRle..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.,@function
                        1041 	.size	_loc_SetRle..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.,.-_loc_SetRle..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.
                        1042 	.align	2
                        1043 .LDW42:
                        1044 --_rle_conf	12[sp]	local
                        1045 --_err_exit	r27	local
                        1046 --_rle_unit	r29	local
                        1047 
                        1048 --_Unit	r28	param
                        1049 --_Layer	0[sp]	param
                        1050 --_Fmt	4[sp]	param
                        1051 --_Buf	8[sp]	param
                        1052 
                        1053 	.section ".bss","awb"
                        1054 .L710:
                        1055 	.type	.L710,@object
                        1056 	.size	.L710,0
                        1057 	.data
                        1058 	.text
                        1059 
                        1060 --388: }
                        1061 
                        1062 --390: /***********************************************************
                        1063 --391:   Function: loc_CheckHWLayerCapabilities
                        1064 --392: */
                        1065 --393: static uint32_t loc_CheckHWLayerCapabilities(uint32_t Unit, uint32_t Layer, const r_wm_Window_t* Win)
                        1066 	.align	2
                        1067 	.align	2
                        1068 	.global	_loc_CheckHWLayerCapabilities..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.
                        1069 _loc_CheckHWLayerCapabilities..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.:
                        1070 _loc_CheckHWLayerCapabilities:
0000027e 8007e110       1071 	prepare	{r27,r28,r29,r31},0
00000282 06d8           1072 	mov	r6,r27

                                                                      Page 19
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
00000284 07e0           1073 	mov	r7,r28
00000286 08e8           1074 	mov	r8,r29
                        1075 --	    .bf
                        1076 .LDW52:
                        1077 --394: {
                        1078 --395:     r_wm_Capture_t * capt;
                        1079 --396:     uint32_t         n_capt;
                        1080 --397:     
                        1081 --398:     /* Parameter checks */
                        1082 --399:     if ( ( Unit >= R_WM_DEV_NUM ) || ( Layer >=  R_WM_MAX_LAYERS ) || ( 0 == Win ) )
00000288 62da           1083 	cmp	2,r27
0000028a d905*          1084 	bnl	.L838
0000028c 64e2           1085 	cmp	4,r28
0000028e b905*          1086 	bnl	.L838
00000290 e0e9           1087 	cmp	zero,r29
00000292 ba05*          1088 	bne	.L837
                        1089 .L838:
                        1090 --400:     {
                        1091 --401:         return 0;
                        1092 --line401
                        1093 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.41::
                        1094 .LDWlin41:
00000294 0052           1095 	mov	0,r10
00000296 d575*          1096 	br	.L835
                        1097 .L837:
                        1098 --402:     }
                        1099 --403:     
                        1100 --404:     /* Only configured layers (D1MA) / Only layer 0 (Other Devices) may be an RLE layer */
                        1101 --405:     if ( 0 != R_WM_Priv_WindowIsRleLayer(Win) )
                        1102 --line405
                        1103 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.42::
                        1104 .LDWlin42:
00000298 1d30           1105 	mov	r29,r6
                        1106 	jarl	_R_WM_Priv_WindowIsRleLayer,lp
                        1106 <EXPANSION BEGIN>
                        1106 jarl22 _R_WM_Priv_WindowIsRleLayer , lp 
0000029a 80ff0000*      1106 <EXPANSION END>
0000029e e051           1107 	cmp	zero,r10
000002a0 920d*          1108 	be	.L842
                        1109 --406:     {
                        1110 --407:         if ( R_WM_WINCAPBS_RLE != loc_WM_Sys_WindowCapabilitiesGet(Unit, Layer) )
                        1111 --line407
                        1112 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.43::
                        1113 .LDWlin43:
000002a2 1b30           1114 	mov	r27,r6
000002a4 1c38           1115 	mov	r28,r7
                        1116 	jarl	_loc_WM_Sys_WindowCapabilitiesGet,lp
                        1116 <EXPANSION BEGIN>
                        1116 jarl22 _loc_WM_Sys_WindowCapabilitiesGet , lp 
000002a6 80ff020a*      1116 <EXPANSION END>
000002aa e051           1117 	cmp	zero,r10
000002ac b205*          1118 	be	.L842
                        1119 --408:         {
                        1120 --409:             return 0;
                        1121 --line409
                        1122 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.44::
                        1123 .LDWlin44:
000002ae 0052           1124 	mov	0,r10
000002b0 856d*          1125 	br	.L835
                        1126 .L842:
                        1127 --410:         }

                                                                      Page 20
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        1128 --411:     }
                        1129 --412:     
                        1130 --413:     /* Only layer 0 and 1 may be YUV layers */
                        1131 --414:     if ( ( 0 != loc_WindowIsYUVLayer(Win) ) && ( Layer > 1 ) )
                        1132 --line414
                        1133 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.45::
                        1134 .LDWlin45:
000002b2 1d30           1135 	mov	r29,r6
                        1136 	jarl	_loc_WindowIsYUVLayer,lp
                        1136 <EXPANSION BEGIN>
                        1136 jarl22 _loc_WindowIsYUVLayer , lp 
000002b4 bfff0cfe*      1136 <EXPANSION END>
000002b8 e051           1137 	cmp	zero,r10
000002ba d205*          1138 	be	.L847
000002bc 61e2           1139 	cmp	1,r28
000002be b305*          1140 	bnh	.L847
                        1141 --415:     {
                        1142 --416:         return 0;
                        1143 --line416
                        1144 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.46::
                        1145 .LDWlin46:
000002c0 0052           1146 	mov	0,r10
000002c2 f55d*          1147 	br	.L835
                        1148 .L847:
                        1149 --417:     }
                        1150 --418:     
                        1151 --419:     /* Only configured layers (D1MA) / Only layer 0 (Other Devices) may be a Sprite layer */
                        1152 --420:     if ( Win->Mode == R_WM_WINMODE_SPRITES )
                        1153 --line420
                        1154 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.47::
                        1155 .LDWlin47:
000002c4 3d0f0500       1156 	ld.w	4[r29],r1
000002c8 610a           1157 	cmp	1,r1
000002ca 9a0d*          1158 	bne	.L851
                        1159 --421:     {
                        1160 --422:         if ( R_WM_WINCAPBS_SPRITES != loc_WM_Sys_WindowCapabilitiesGet(Unit, Layer) )
                        1161 --line422
                        1162 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.48::
                        1163 .LDWlin48:
000002cc 1b30           1164 	mov	r27,r6
000002ce 1c38           1165 	mov	r28,r7
                        1166 	jarl	_loc_WM_Sys_WindowCapabilitiesGet,lp
                        1166 <EXPANSION BEGIN>
                        1166 jarl22 _loc_WM_Sys_WindowCapabilitiesGet , lp 
000002d0 80ffd809*      1166 <EXPANSION END>
000002d4 6152           1167 	cmp	1,r10
000002d6 b205*          1168 	be	.L851
                        1169 --423:         {
                        1170 --424:             return 0;
                        1171 --line424
                        1172 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.49::
                        1173 .LDWlin49:
000002d8 0052           1174 	mov	0,r10
000002da b555*          1175 	br	.L835
                        1176 .L851:
                        1177 --425:         }
                        1178 --426:     }
                        1179 --427:     
                        1180 --428:     /* Special Case Layer 0 */
                        1181 --429:     if ( Layer == 0 )
                        1182 --line429

                                                                      Page 21
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        1183 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.50::
                        1184 .LDWlin50:
000002dc e0e1           1185 	cmp	zero,r28
000002de ca2d*          1186 	bne	.L856
                        1187 --430:     {
                        1188 --431:         /* Layer 0 can't do alpha blending by constant alpha */
                        1189 --432:         if ( Win->Alpha != 0xFFu )
                        1190 --line432
                        1191 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.51::
                        1192 .LDWlin51:
000002e0 9d0f3900       1193 	ld.bu	56[r29],r1
000002e4 010601ff       1194 	addi	-255,r1,zero
000002e8 b205*          1195 	be	.L858
                        1196 --433:         {
                        1197 --434:             return 0;
                        1198 --line434
                        1199 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.52::
                        1200 .LDWlin52:
000002ea 0052           1201 	mov	0,r10
000002ec a54d*          1202 	br	.L835
                        1203 .L858:
                        1204 --435:         }
                        1205 --436:     
                        1206 --437:         /* Layer 0 can't do alpha blending by pixel alpha */
                        1207 --438:         /* Due to legacy reasons, this will not be evaluated here. 
                        1208 --439:            Textures using alpha channel that are placed on layer 0 will ignore alpha. */
                        1209 --440:         /* If alpha of RGBA should always be evaulated, workaround on API level is 
                        1210 --441:            to define dummy layer and place it on lowest z-Index but don't enable it. */
                        1211 --442:     
                        1212 --443:         /* Layer 0 can't do alpha blending by CLUT alpha */
                        1213 --444:         if (    ( Win->ColorFmt == R_WM_COLORFMT_CLUT8 )
                        1214 --line444
                        1215 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.53::
                        1216 .LDWlin53:
000002ee 3d0f0900       1217 	ld.w	8[r29],r1
000002f2 690a           1218 	cmp	9,r1
000002f4 920d*          1219 	be	.L862
000002f6 3d0f0900       1220 	ld.w	8[r29],r1
000002fa 6a0a           1221 	cmp	10,r1
000002fc d205*          1222 	be	.L862
000002fe 3d0f0900       1223 	ld.w	8[r29],r1
00000302 6b0a           1224 	cmp	11,r1
00000304 ba15*          1225 	bne	.L861
                        1226 .L862:
                        1227 --445:              || ( Win->ColorFmt == R_WM_COLORFMT_CLUT4 )
                        1228 --446:              || ( Win->ColorFmt == R_WM_COLORFMT_CLUT1 ) )
                        1229 --447:         {
                        1230 --	    .bs
                        1231 .LDW62:
                        1232 --448:             uint32_t i;
                        1233 --449:             for ( i=0; i<Win->ClutNumEntries; i++ )
                        1234 --line449
                        1235 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.54::
                        1236 .LDWlin54:
00000306 000a           1237 	mov	0,r1
00000308 d50d*          1238 	br	.L868
                        1239 .L867:
                        1240 --450:             {
                        1241 --451:                 if ( Win->Clut[i].A != 0xFF )
                        1242 --line451
                        1243 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.55::

                                                                      Page 22
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        1244 .LDWlin55:
0000030a 3d6f4100       1245 	ld.w	64[r29],r13
0000030e 01f0           1246 	mov	r1,ep
00000310 c2f2           1247 	shl	2,ep
00000312 cdf1           1248 	add	r13,ep
00000314 6370           1249 	sld.bu	3[ep],r14
00000316 0e0601ff       1250 	addi	-255,r14,zero
0000031a b205*          1251 	be	.L866
                        1252 --452:                 {
                        1253 --453:                     /* Found (semi-)transparent pixel, this is not compatible with layer 0 */
                        1254 --454:                     return 0;
                        1255 --line454
                        1256 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.56::
                        1257 .LDWlin56:
0000031c 0052           1258 	mov	0,r10
0000031e 9535*          1259 	br	.L835
                        1260 .L866:
                        1261 --line449
                        1262 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.57::
                        1263 .LDWlin57:
00000320 410a           1264 	add	1,r1
                        1265 .L868:
00000322 3d773d00       1266 	ld.w	60[r29],r14
00000326 ee09           1267 	cmp	r14,r1
00000328 91f5*          1268 	bl	.L867
                        1269 --	    .es
                        1270 .LDW72:
                        1271 .L861:
                        1272 --455:                 }
                        1273 --456:             }
                        1274 --457:         }
                        1275 --458:         
                        1276 --459:         /* Layer 0 can't do color keying */
                        1277 --460:         if ( Win->ColorKey.Enabled == 1 ) 
                        1278 --line460
                        1279 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.58::
                        1280 .LDWlin58:
0000032a 9d774500       1281 	ld.bu	68[r29],r14
0000032e 6172           1282 	cmp	1,r14
00000330 ba05*          1283 	bne	.L856
                        1284 --461:         {
                        1285 --462:             return 0;
                        1286 --line462
                        1287 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.59::
                        1288 .LDWlin59:
00000332 0052           1289 	mov	0,r10
00000334 e525*          1290 	br	.L835
                        1291 .L856:
                        1292 --463:         }
                        1293 --465:     }
                        1294 --467:     /* If current window is used for capturing, check layer assignment */
                        1295 --468:     capt = r_wm_DevSys[Unit].RootCapt;
                        1296 --line468
                        1297 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.60::
                        1298 .LDWlin60:
00000336 1b70           1299 	mov	r27,r14
00000338 ee00           1300 	sxh	r14
0000033a ee766000       1301 	mulhi	96,r14,r14
0000033e 2d0600000000*  1302 	mov	_r_wm_DevSys,r13
00000344 cd71           1303 	add	r13,r14
00000346 2ef74900       1304 	ld.w	72[r14],ep

                                                                      Page 23
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        1305 --469:     n_capt = 0;
0000034a 0072           1306 	mov	0,r14
                        1307 --470:     /* Iteration of NULL-terminated Linked-List. Maximum Number of expected 
                        1308 --471:        elements for this device family is R_WM_MAX_CAPTURE_LAYERS. */
                        1309 --472:     while ( (capt != 0) && (n_capt <= R_WM_MAX_CAPTURE_LAYERS) )
0000034c d515*          1310 	br	.L875
                        1311 .L877:
                        1312 --473:     {
                        1313 --474:         if (capt->Window == Win)
                        1314 --line474
                        1315 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.61::
                        1316 .LDWlin61:
0000034e 006d           1317 	sld.w	0[ep],r13
00000350 fd69           1318 	cmp	r29,r13
00000352 fa0d*          1319 	bne	.L878
                        1320 --475:         {
                        1321 --476:             /* VIn->VOn (e.g. VI0->VO0) can only be placed on L0 */
                        1322 --477:             if ( (capt->CapUnit == Unit) && (Layer != 0) )
                        1323 --line477
                        1324 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.62::
                        1325 .LDWlin62:
00000354 166d           1326 	sld.w	44[ep],r13
00000356 fb69           1327 	cmp	r27,r13
00000358 da05*          1328 	bne	.L880
0000035a e0e1           1329 	cmp	zero,r28
0000035c b205*          1330 	be	.L880
                        1331 --478:             {
                        1332 --479:                 return 0;
                        1333 --line479
                        1334 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.63::
                        1335 .LDWlin63:
0000035e 0052           1336 	mov	0,r10
00000360 8515*          1337 	br	.L835
                        1338 .L880:
                        1339 --480:             }
                        1340 --481:             /* VIk->VOn (e.g. VI1->VO0) can only be placed on L1 */
                        1341 --482:             if ( (capt->CapUnit != Unit) && (Layer != 1) )
                        1342 --line482
                        1343 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.64::
                        1344 .LDWlin64:
00000362 166d           1345 	sld.w	44[ep],r13
00000364 fb69           1346 	cmp	r27,r13
00000366 d205*          1347 	be	.L878
00000368 61e2           1348 	cmp	1,r28
0000036a b205*          1349 	be	.L878
                        1350 --483:             {
                        1351 --484:                 return 0;
                        1352 --line484
                        1353 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.65::
                        1354 .LDWlin65:
0000036c 0052           1355 	mov	0,r10
0000036e 950d*          1356 	br	.L835
                        1357 .L878:
                        1358 --485:             }
                        1359 --486:         }
                        1360 --487:         n_capt++;
                        1361 --line487
                        1362 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.66::
                        1363 .LDWlin66:
00000370 4172           1364 	add	1,r14
                        1365 --488:         capt = capt->Next;

                                                                      Page 24
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
00000372 186d           1366 	sld.w	48[ep],r13
00000374 0df0           1367 	mov	r13,ep
                        1368 .L875:
00000376 e0f1           1369 	cmp	zero,ep
00000378 b205*          1370 	be	.L876
0000037a 6272           1371 	cmp	2,r14
0000037c 93ed*          1372 	bnh	.L877
                        1373 .L876:
                        1374 --489:     }
                        1375 --490:     
                        1376 --491:     return 1;
                        1377 --line491
                        1378 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.67::
                        1379 .LDWlin67:
0000037e 0152           1380 	mov	1,r10
                        1381 .L835:
                        1382 --	    .ef
                        1383 .LDW82:
00000380 4006ff10       1384 	dispose	0,{r27,r28,r29,r31},[lp]
                        1385 	.type	_loc_CheckHWLayerCapabilities,@function
                        1386 	.size	_loc_CheckHWLayerCapabilities,.-_loc_CheckHWLayerCapabilities
                        1387 	.type	_loc_CheckHWLayerCapabilities..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.,@function
                        1388 	.size	_loc_CheckHWLayerCapabilities..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.,.-_loc_CheckHWLayerCapabilities..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.
                        1389 	.align	2
                        1390 .LDW92:
                        1391 --_capt	ep	local
                        1392 --_n_capt	r14	local
                        1393 --_i	r1	local
                        1394 
                        1395 --_Unit	r27	param
                        1396 --_Layer	r28	param
                        1397 --_Win	r29	param
                        1398 
                        1399 	.section ".bss","awb"
                        1400 .L1082:
                        1401 	.type	.L1082,@object
                        1402 	.size	.L1082,0
                        1403 	.data
                        1404 	.text
                        1405 
                        1406 --492: }
                        1407 
                        1408 --494: /***********************************************************
                        1409 --495:   Function: loc_WM_Window_UpdateAllCLUTs
                        1410 --496: */
                        1411 --497: uint32_t loc_WM_Window_UpdateAllCLUTs(uint32_t Unit)
                        1412 	.align	2
                        1413 	.align	2
                        1414 	.global	_loc_WM_Window_UpdateAllCLUTs
                        1415 _loc_WM_Window_UpdateAllCLUTs:
00000384 8207e130       1416 	prepare	{r26,r27,r28,r29,r31},1
00000388 06e0           1417 	mov	r6,r28
0000038a 3a0600000000*  1418 	mov	_r_wm_DevSys,r26
                        1419 --	    .bf
                        1420 .LDW03:
                        1421 --498: {
                        1422 --499:     uint32_t layer;
                        1423 --501:     /* Check if a CLUT update is pending for any layer */
                        1424 --502:     if ((r_wm_DevSys[Unit].FrameStatusFlags & R_WM_SYS_FRAME_STATUS_LAYER_CLUT_UPDATE_MASK) != 0)
00000390 1cf0           1425 	mov	r28,ep
00000392 fe00           1426 	sxh	ep

                                                                      Page 25
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
00000394 fef66000       1427 	mulhi	96,ep,ep
00000398 daf1           1428 	add	r26,ep
0000039a 2a0d           1429 	sld.w	84[ep],r1
0000039c c10600f0       1430 	andi	61440,r1,zero
000003a0 e255*          1431 	be	.L1225
                        1432 --503:     {
                        1433 --504:         for (layer = 0; layer <  R_WM_MAX_LAYERS; layer++)
                        1434 --line504
                        1435 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.68::
                        1436 .LDWlin68:
000003a2 00ea           1437 	mov	0,r29
000003a4 0000           1438 	nop
                        1439 .L1229:
                        1440 --505:         {
                        1441 --506:             /* Read respective R_WM_SYS_FRAME_STATUS_LAYER_0_CLUT_UPDATE_BIT */
                        1442 --507:             if ((r_wm_DevSys[Unit].FrameStatusFlags & (1uL << (R_WM_SYS_FRAME_STATUS_LAYER_0_CLUT_UPDATE_BIT+layer))) != 0)
000003a6 1cf0           1443 	mov	r28,ep
000003a8 fe00           1444 	sxh	ep
000003aa fef66000       1445 	mulhi	96,ep,ep
000003ae 1d0e0c00       1446 	addi	12,r29,r1
000003b2 0172           1447 	mov	1,r14
000003b4 e177c208       1448 	shl	r1,r14,r1
000003b8 daf1           1449 	add	r26,ep
000003ba 2a75           1450 	sld.w	84[ep],r14
000003bc 4e09           1451 	and	r14,r1
000003be c245*          1452 	be	.L1230
                        1453 --508:             {
                        1454 --	    .bs
                        1455 .LDW13:
                        1456 --509:                 r_wm_sys_vdce_WinLayerPair_t* win_layer_pair = loc_WinLayerPairGetByLayer(Unit, layer);
                        1457 --line509
                        1458 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.69::
                        1459 .LDWlin69:
000003c0 1c30           1460 	mov	r28,r6
000003c2 1d38           1461 	mov	r29,r7
                        1462 	jarl	_loc_WinLayerPairGetByLayer,lp
                        1462 <EXPANSION BEGIN>
                        1462 jarl22 _loc_WinLayerPairGetByLayer , lp 
000003c4 bfff5cfd*      1462 <EXPANSION END>
000003c8 0ad8           1463 	mov	r10,r27
                        1464 --510:                 
                        1465 --511:                 if (0 < win_layer_pair->Win->ClutNumEntries)
                        1466 --line511
                        1467 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.70::
                        1468 .LDWlin70:
000003ca 3bf70100       1469 	ld.w	0[r27],ep
000003ce 1e0d           1470 	sld.w	60[ep],r1
000003d0 e009           1471 	cmp	zero,r1
000003d2 a33d*          1472 	bnh	.L1230
                        1473 --512:                 {
                        1474 --513:                     /* -Disable Layer
                        1475 --514:                        -Update CLUT
                        1476 --515:                        -Enable Layer
                        1477 --516:                      */
                        1478 --517:                     if (1 == r_wm_DevSys[Unit].HwLayerEnabled[layer])
                        1479 --line517
                        1480 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.71::
                        1481 .LDWlin71:
000003d4 1c08           1482 	mov	r28,r1
000003d6 e100           1483 	sxh	r1
000003d8 e10e6000       1484 	mulhi	96,r1,r1

                                                                      Page 26
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
000003dc 1df0           1485 	mov	r29,ep
000003de c2f2           1486 	shl	2,ep
000003e0 da09           1487 	add	r26,r1
000003e2 010e3400       1488 	addi	52,r1,r1
000003e6 c1f1           1489 	add	r1,ep
000003e8 000d           1490 	sld.w	0[ep],r1
000003ea 610a           1491 	cmp	1,r1
000003ec 9a0d*          1492 	bne	.L1234
                        1493 --518:                     {
                        1494 --519:                         if (R_VDCE_ERR_OK != R_VDCE_LayerDisable(Unit, layer) )
                        1495 --line519
                        1496 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.72::
                        1497 .LDWlin72:
000003ee 1c30           1498 	mov	r28,r6
000003f0 1d38           1499 	mov	r29,r7
                        1500 	jarl	_R_VDCE_LayerDisable,lp
                        1500 <EXPANSION BEGIN>
                        1500 jarl22 _R_VDCE_LayerDisable , lp 
000003f2 80ff0000*      1500 <EXPANSION END>
000003f6 e051           1501 	cmp	zero,r10
000003f8 b205*          1502 	be	.L1234
                        1503 --520:                         {
                        1504 --521:                             return 0;
                        1505 --line521
                        1506 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.73::
                        1507 .LDWlin73:
000003fa 0052           1508 	mov	0,r10
000003fc 952d*          1509 	br	.L1223
                        1510 .L1234:
                        1511 --522:                         }
                        1512 --523:                     }
                        1513 --524:                     if (R_VDCE_ERR_OK != R_VDCE_LayerClutSet(Unit, layer, 0, win_layer_pair->Win->ClutNumEntries, (r_vdce_ClutARGB32_t*)(win_layer_pair->Win->Clut)))
                        1514 --line524
                        1515 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.74::
                        1516 .LDWlin74:
000003fe 3bf70100       1517 	ld.w	0[r27],ep
00000402 1c30           1518 	mov	r28,r6
00000404 1d38           1519 	mov	r29,r7
00000406 0042           1520 	mov	0,r8
00000408 200d           1521 	sld.w	64[ep],r1
0000040a 1e4d           1522 	sld.w	60[ep],r9
0000040c 630f0100       1523 	st.w	r1,0[sp]
                        1524 	jarl	_R_VDCE_LayerClutSet,lp
                        1524 <EXPANSION BEGIN>
                        1524 jarl22 _R_VDCE_LayerClutSet , lp 
00000410 80ff0000*      1524 <EXPANSION END>
00000414 e051           1525 	cmp	zero,r10
00000416 b205*          1526 	be	.L1239
                        1527 --525:                     {
                        1528 --526:                         return 0;
                        1529 --line526
                        1530 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.75::
                        1531 .LDWlin75:
00000418 0052           1532 	mov	0,r10
0000041a a51d*          1533 	br	.L1223
                        1534 .L1239:
                        1535 --527:                     }
                        1536 --528:                     if (1 == r_wm_DevSys[Unit].HwLayerEnabled[layer])
                        1537 --line528
                        1538 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.76::
                        1539 .LDWlin76:

                                                                      Page 27
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
0000041c 1c08           1540 	mov	r28,r1
0000041e e100           1541 	sxh	r1
00000420 e10e6000       1542 	mulhi	96,r1,r1
00000424 1df0           1543 	mov	r29,ep
00000426 c2f2           1544 	shl	2,ep
00000428 da09           1545 	add	r26,r1
0000042a 010e3400       1546 	addi	52,r1,r1
0000042e c1f1           1547 	add	r1,ep
00000430 000d           1548 	sld.w	0[ep],r1
00000432 610a           1549 	cmp	1,r1
00000434 9a0d*          1550 	bne	.L1230
                        1551 --529:                     {
                        1552 --530:                         if (R_VDCE_ERR_OK != R_VDCE_LayerEnable(Unit, layer) )
                        1553 --line530
                        1554 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.77::
                        1555 .LDWlin77:
00000436 1c30           1556 	mov	r28,r6
00000438 1d38           1557 	mov	r29,r7
                        1558 	jarl	_R_VDCE_LayerEnable,lp
                        1558 <EXPANSION BEGIN>
                        1558 jarl22 _R_VDCE_LayerEnable , lp 
0000043a 80ff0000*      1558 <EXPANSION END>
0000043e e051           1559 	cmp	zero,r10
00000440 b205*          1560 	be	.L1230
                        1561 --531:                         {
                        1562 --532:                             return 0;
                        1563 --line532
                        1564 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.78::
                        1565 .LDWlin78:
00000442 0052           1566 	mov	0,r10
00000444 d505*          1567 	br	.L1223
                        1568 --	    .es
                        1569 .LDW23:
                        1570 .L1230:
                        1571 --line504
                        1572 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.79::
                        1573 .LDWlin79:
00000446 41ea           1574 	add	1,r29
00000448 64ea           1575 	cmp	4,r29
0000044a e1ad*          1576 	bl	.L1229
                        1577 .L1225:
                        1578 --533:                         }
                        1579 --534:                     }
                        1580 --535:                 }
                        1581 --536:             }
                        1582 --537:         }
                        1583 --538:     }
                        1584 --539:     return 1;
                        1585 --line539
                        1586 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.80::
                        1587 .LDWlin80:
0000044c 0152           1588 	mov	1,r10
                        1589 .L1223:
                        1590 --	    .ef
                        1591 .LDW33:
0000044e 4206ff30       1592 	dispose	1,{r26,r27,r28,r29,r31},[lp]
                        1593 	.type	_loc_WM_Window_UpdateAllCLUTs,@function
                        1594 	.size	_loc_WM_Window_UpdateAllCLUTs,.-_loc_WM_Window_UpdateAllCLUTs
                        1595 	.align	2
                        1596 .LDW43:
                        1597 --_layer	r29	local

                                                                      Page 28
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        1598 --_win_layer_pair	r27	local
                        1599 
                        1600 --_Unit	r28	param
                        1601 
                        1602 	.section ".bss","awb"
                        1603 .L1352:
                        1604 	.type	.L1352,@object
                        1605 	.size	.L1352,0
                        1606 	.data
                        1607 	.text
                        1608 
                        1609 --540: }
                        1610 
                        1611 --544: /***********************************************************
                        1612 --545:   Function: loc_WM_WinReconfAll
                        1613 --546: */
                        1614 --547: uint32_t loc_WM_WinReconfAll(uint32_t Unit)
                        1615 	.align	2
                        1616 	.align	2
                        1617 	.global	_loc_WM_WinReconfAll
                        1618 _loc_WM_WinReconfAll:
00000452 9607e170       1619 	prepare	{r25,r26,r27,r28,r29,r31},11
00000456 06d8           1620 	mov	r6,r27
00000458 3a0600000000*  1621 	mov	_r_wm_DevSys,r26
                        1622 --	    .bf
                        1623 .LDW53:
                        1624 --548: {
                        1625 --549:     uint32_t slot;
                        1626 --550:     uint32_t layer;
                        1627 --551:     const r_wm_Window_t* cur_win;
                        1628 --552:     r_wm_Window_t* RootWin = r_wm_DevSys[Unit].RootWin;
0000045e 1bf0           1629 	mov	r27,ep
00000460 fe00           1630 	sxh	ep
00000462 fef66000       1631 	mulhi	96,ep,ep
00000466 daf1           1632 	add	r26,ep
00000468 225d           1633 	sld.w	68[ep],r11
0000046a 635f2500       1634 	st.w	r11,36[sp]
                        1635 --553:     r_vdce_CkARGB32_t ck_in;
                        1636 --554:     r_vdce_CkARGB32_t ck_out;
                        1637 --555:     r_vdce_Error_t vdce_err;
                        1638 --556:     const void* fb;
                        1639 --557:     
                        1640 --558:     r_wm_DevSys[Unit].FrameStatusFlags = 0;
0000046e 1bf0           1641 	mov	r27,ep
00000470 fe00           1642 	sxh	ep
00000472 fef66000       1643 	mulhi	96,ep,ep
00000476 daf1           1644 	add	r26,ep
00000478 2b05           1645 	sst.w	zero,84[ep]
                        1646 --559:     
                        1647 --560:     layer = 0;
0000047a 00e2           1648 	mov	0,r28
                        1649 --561:     slot = 0;
0000047c 00ca           1650 	mov	0,r25
                        1651 --562:     cur_win = RootWin;
0000047e 23ef2500       1652 	ld.w	36[sp],r29
                        1653 --564:     /* Iteration of NULL-terminated Linked-List. Maximum Number of expected 
                        1654 --565:        elements for this device family is R_WM_MAX_LAYERS. */
                        1655 --566:     while ( (cur_win != R_NULL) && (layer < R_WM_MAX_LAYERS) )
00000482 80070604*      1656 	br	.L1419
                        1657 .L1421:
                        1658 --567:     {

                                                                      Page 29
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        1659 --568:         /* Find first layer to match requested HW features */
                        1660 --569:         while (0 == loc_CheckHWLayerCapabilities(Unit, layer, cur_win) )
                        1661 --line569
                        1662 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.81::
                        1663 .LDWlin81:
00000486 b50d*          1664 	br	.L1422
                        1665 .L1424:
                        1666 --570:         {
                        1667 --571:             loc_VDCE_LayerDisable(Unit, layer);
                        1668 --line571
                        1669 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.82::
                        1670 .LDWlin82:
00000488 1b30           1671 	mov	r27,r6
0000048a 1c38           1672 	mov	r28,r7
                        1673 	jarl	_loc_VDCE_LayerDisable,lp
                        1673 <EXPANSION BEGIN>
                        1673 jarl22 _loc_VDCE_LayerDisable , lp 
0000048c 80ff4207*      1673 <EXPANSION END>
                        1674 --572:             layer++;
                        1675 --line572
                        1676 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.83::
                        1677 .LDWlin83:
00000490 41e2           1678 	add	1,r28
                        1679 --573:             
                        1680 --574:             /* If requested HW features cannot be mapped, abort! 
                        1681 --575:                Feature oriented layer mapping is user scope. */
                        1682 --576:             if(layer >=  R_WM_MAX_LAYERS)
00000492 64e2           1683 	cmp	4,r28
00000494 c105*          1684 	bl	.L1422
                        1685 --577:             {
                        1686 --578:                 R_WM_SYS_REPORT_ERROR(Unit, R_WM_ERR_NO_PHYS_WINDOW, 0);
                        1687 --579:                 return 0;
                        1688 --line579
                        1689 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.84::
                        1690 .LDWlin84:
00000496 0052           1691 	mov	0,r10
00000498 80074204*      1692 	br	.L1417
                        1693 .L1422:
                        1694 --line569
                        1695 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.85::
                        1696 .LDWlin85:
0000049c 1b30           1697 	mov	r27,r6
0000049e 1c38           1698 	mov	r28,r7
000004a0 1d40           1699 	mov	r29,r8
                        1700 	jarl	_loc_CheckHWLayerCapabilities,lp
                        1700 <EXPANSION BEGIN>
                        1700 jarl22 _loc_CheckHWLayerCapabilities , lp 
000004a2 bfffdcfd*      1700 <EXPANSION END>
000004a6 e051           1701 	cmp	zero,r10
000004a8 82f5*          1702 	be	.L1424
                        1703 --580:             }
                        1704 --581:         }
                        1705 --582:         
                        1706 --583:         r_wm_DevSys[Unit].WinToLayerMap[slot].Win = cur_win; 
                        1707 --line583
                        1708 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.86::
                        1709 .LDWlin86:
000004aa 1b08           1710 	mov	r27,r1
000004ac e100           1711 	sxh	r1
000004ae e10e6000       1712 	mulhi	96,r1,r1
000004b2 19f0           1713 	mov	r25,ep

                                                                      Page 30
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
000004b4 c3f2           1714 	shl	3,ep
000004b6 da09           1715 	add	r26,r1
000004b8 010e1400       1716 	addi	20,r1,r1
000004bc c1f1           1717 	add	r1,ep
000004be 01ed           1718 	sst.w	r29,0[ep]
                        1719 --584:         r_wm_DevSys[Unit].WinToLayerMap[slot].Layer = layer;
000004c0 1b08           1720 	mov	r27,r1
000004c2 e100           1721 	sxh	r1
000004c4 e10e6000       1722 	mulhi	96,r1,r1
000004c8 19f0           1723 	mov	r25,ep
000004ca c3f2           1724 	shl	3,ep
000004cc da09           1725 	add	r26,r1
000004ce 010e1400       1726 	addi	20,r1,r1
000004d2 c1f1           1727 	add	r1,ep
000004d4 03e5           1728 	sst.w	r28,4[ep]
                        1729 --585:         loc_VDCE_LayerDisable(Unit, layer);
000004d6 1b30           1730 	mov	r27,r6
000004d8 1c38           1731 	mov	r28,r7
                        1732 	jarl	_loc_VDCE_LayerDisable,lp
                        1732 <EXPANSION BEGIN>
                        1732 jarl22 _loc_VDCE_LayerDisable , lp 
000004da 80fff406*      1732 <EXPANSION END>
                        1733 --586:         
                        1734 --587:         /* chroma key */
                        1735 --588:         if (cur_win->ColorKey.Enabled != 0)
                        1736 --line588
                        1737 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.87::
                        1738 .LDWlin87:
000004de 9d0f4500       1739 	ld.bu	68[r29],r1
000004e2 e009           1740 	cmp	zero,r1
000004e4 923d*          1741 	be	.L1428
                        1742 --589:         {
                        1743 --590:             ck_in.R = cur_win->ColorKey.In.RgbKey.Red;
                        1744 --line590
                        1745 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.88::
                        1746 .LDWlin88:
000004e6 bd0f4500       1747 	ld.bu	69[r29],r1
000004ea 430f1600       1748 	st.b	r1,22[sp]
                        1749 --591:             ck_in.G = cur_win->ColorKey.In.RgbKey.Green;
000004ee 9d0f4700       1750 	ld.bu	70[r29],r1
000004f2 430f1500       1751 	st.b	r1,21[sp]
                        1752 --592:             ck_in.B = cur_win->ColorKey.In.RgbKey.Blue;
000004f6 bd0f4700       1753 	ld.bu	71[r29],r1
000004fa 430f1400       1754 	st.b	r1,20[sp]
                        1755 --593:             ck_in.A = 0x00;
000004fe 43071700       1756 	st.b	zero,23[sp]
                        1757 --594:             
                        1758 --595:             ck_out.R = cur_win->ColorKey.Out.Red;
00000502 9d0f4900       1759 	ld.bu	72[r29],r1
00000506 430f1a00       1760 	st.b	r1,26[sp]
                        1761 --596:             ck_out.G = cur_win->ColorKey.Out.Green;
0000050a bd0f4900       1762 	ld.bu	73[r29],r1
0000050e 430f1900       1763 	st.b	r1,25[sp]
                        1764 --597:             ck_out.B = cur_win->ColorKey.Out.Blue;
00000512 9d0f4b00       1765 	ld.bu	74[r29],r1
00000516 430f1800       1766 	st.b	r1,24[sp]
                        1767 --598:             ck_out.A = cur_win->ColorKey.Out.Alpha;
0000051a bd0f4b00       1768 	ld.bu	75[r29],r1
0000051e 430f1b00       1769 	st.b	r1,27[sp]
                        1770 --599:             
                        1771 --600:             /* Layer Alpha and Chroma Keying are exclusive. 

                                                                      Page 31
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        1772 --601:                Chroma Keying overrides Layer Alpha. */
                        1773 --602:             if((0 < layer) && (layer < 4))
00000522 e0e1           1774 	cmp	zero,r28
00000524 c30d*          1775 	bnh	.L1430
00000526 64e2           1776 	cmp	4,r28
00000528 a90d*          1777 	bnl	.L1430
                        1778 --603:             {
                        1779 --604:                 if (R_VDCE_ERR_OK != R_VDCE_LayerAlphaConstDisable(Unit,layer))
                        1780 --line604
                        1781 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.89::
                        1782 .LDWlin89:
0000052a 1b30           1783 	mov	r27,r6
0000052c 1c38           1784 	mov	r28,r7
                        1785 	jarl	_R_VDCE_LayerAlphaConstDisable,lp
                        1785 <EXPANSION BEGIN>
                        1785 jarl22 _R_VDCE_LayerAlphaConstDisable , lp 
0000052e 80ff0000*      1785 <EXPANSION END>
00000532 e051           1786 	cmp	zero,r10
00000534 c205*          1787 	be	.L1430
                        1788 --605:                 {
                        1789 --606:                     return 0;
                        1790 --line606
                        1791 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.90::
                        1792 .LDWlin90:
00000536 0052           1793 	mov	0,r10
00000538 8007a203*      1794 	br	.L1417
                        1795 .L1430:
                        1796 --607:                 }
                        1797 --608:             }
                        1798 --609:             if (R_VDCE_ERR_OK != R_VDCE_LayerChromaKeyEnable(Unit, layer, &ck_in, &ck_out))
                        1799 --line609
                        1800 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.91::
                        1801 .LDWlin91:
0000053c 1b30           1802 	mov	r27,r6
0000053e 1c38           1803 	mov	r28,r7
00000540 23461400       1804 	movea	20,sp,r8
00000544 234e1800       1805 	movea	24,sp,r9
                        1806 	jarl	_R_VDCE_LayerChromaKeyEnable,lp
                        1806 <EXPANSION BEGIN>
                        1806 jarl22 _R_VDCE_LayerChromaKeyEnable , lp 
00000548 80ff0000*      1806 <EXPANSION END>
0000054c e051           1807 	cmp	zero,r10
0000054e c205*          1808 	be	.L1428
                        1809 --610:             {
                        1810 --611:                 return 0;
                        1811 --line611
                        1812 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.92::
                        1813 .LDWlin92:
00000550 0052           1814 	mov	0,r10
00000552 80078803*      1815 	br	.L1417
                        1816 .L1428:
                        1817 --612:             }
                        1818 --613:         }
                        1819 --614:         
                        1820 --615:         if (R_VDCE_ERR_OK != R_VDCE_LayerFormatSet(Unit, layer, loc_GetVdceFormat(cur_win->ColorFmt)))
                        1821 --line615
                        1822 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.93::
                        1823 .LDWlin93:
00000556 3d370900       1824 	ld.w	8[r29],r6
                        1825 	jarl	_loc_GetVdceFormat,lp
                        1825 <EXPANSION BEGIN>

                                                                      Page 32
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        1825 jarl22 _loc_GetVdceFormat , lp 
0000055a bfffa6fa*      1825 <EXPANSION END>
0000055e 1b30           1826 	mov	r27,r6
00000560 1c38           1827 	mov	r28,r7
00000562 0a40           1828 	mov	r10,r8
                        1829 	jarl	_R_VDCE_LayerFormatSet,lp
                        1829 <EXPANSION BEGIN>
                        1829 jarl22 _R_VDCE_LayerFormatSet , lp 
00000564 80ff0000*      1829 <EXPANSION END>
00000568 e051           1830 	cmp	zero,r10
0000056a c205*          1831 	be	.L1439
                        1832 --616:         {
                        1833 --617:             return 0;
                        1834 --line617
                        1835 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.94::
                        1836 .LDWlin94:
0000056c 0052           1837 	mov	0,r10
0000056e 80076c03*      1838 	br	.L1417
                        1839 .L1439:
                        1840 --618:         }
                        1841 --619:         if (0 < cur_win->ClutNumEntries)
                        1842 --line619
                        1843 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.95::
                        1844 .LDWlin95:
00000572 3d0f3d00       1845 	ld.w	60[r29],r1
00000576 e009           1846 	cmp	zero,r1
00000578 e30d*          1847 	bnh	.L1442
                        1848 --620:         {
                        1849 --621:             r_wm_DevSys[Unit].FrameStatusFlags |= (1uL << (R_WM_SYS_FRAME_STATUS_LAYER_0_CLUT_UPDATE_BIT+layer));
                        1850 --line621
                        1851 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.96::
                        1852 .LDWlin96:
0000057a 1bf0           1853 	mov	r27,ep
0000057c fe00           1854 	sxh	ep
0000057e fef66000       1855 	mulhi	96,ep,ep
00000582 1c0e0c00       1856 	addi	12,r28,r1
00000586 0172           1857 	mov	1,r14
00000588 e177c270       1858 	shl	r1,r14,r14
0000058c daf1           1859 	add	r26,ep
0000058e 2a0d           1860 	sld.w	84[ep],r1
00000590 0e09           1861 	or	r14,r1
00000592 2b0d           1862 	sst.w	r1,84[ep]
                        1863 .L1442:
                        1864 --622:         }
                        1865 --623: 		
                        1866 --624: 		/* update the scaling */
                        1867 --625:         if  (   (layer == R_VDCE_LAYER_SCALER0)
00000594 e0e1           1868 	cmp	zero,r28
00000596 c205*          1869 	be	.L1445
00000598 61e2           1870 	cmp	1,r28
0000059a ea078f01*      1871 	bne	.L1444
                        1872 .L1445:
                        1873 --626:             ||
                        1874 --627:             (layer == R_VDCE_LAYER_SCALER1)
                        1875 --628:         )
                        1876 --629:         {
                        1877 --630:             /* capture scaling */
                        1878 --631:             if (r_wm_DevSys[Unit].RootCapt->Window == cur_win)
                        1879 --line631
                        1880 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.97::
                        1881 .LDWlin97:

                                                                      Page 33
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
0000059e 1bf0           1882 	mov	r27,ep
000005a0 fe00           1883 	sxh	ep
000005a2 fef66000       1884 	mulhi	96,ep,ep
000005a6 daf1           1885 	add	r26,ep
000005a8 24f5           1886 	sld.w	72[ep],ep
000005aa 000d           1887 	sld.w	0[ep],r1
000005ac fd09           1888 	cmp	r29,r1
000005ae ea45*          1889 	bne	.L1447
                        1890 --632:             {
                        1891 --633:                 if (r_wm_DevSys[Unit].RootCapt->ScaledWidth != 0)
                        1892 --line633
                        1893 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.98::
                        1894 .LDWlin98:
000005b0 1bf0           1895 	mov	r27,ep
000005b2 fe00           1896 	sxh	ep
000005b4 fef66000       1897 	mulhi	96,ep,ep
000005b8 daf1           1898 	add	r26,ep
000005ba 24f5           1899 	sld.w	72[ep],ep
000005bc 100d           1900 	sld.w	32[ep],r1
000005be e009           1901 	cmp	zero,r1
000005c0 a21d*          1902 	be	.L1449
                        1903 --634:                 {
                        1904 --635:                     if (0 == R_VDCE_LayerImgScaleX(
                        1905 --line635
                        1906 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.99::
                        1907 .LDWlin99:
000005c2 1bf0           1908 	mov	r27,ep
000005c4 fe00           1909 	sxh	ep
000005c6 fef66000       1910 	mulhi	96,ep,ep
000005ca daf1           1911 	add	r26,ep
000005cc 24f5           1912 	sld.w	72[ep],ep
000005ce 160d           1913 	sld.w	44[ep],r1
000005d0 1bf0           1914 	mov	r27,ep
000005d2 fe00           1915 	sxh	ep
000005d4 fef66000       1916 	mulhi	96,ep,ep
000005d8 daf1           1917 	add	r26,ep
000005da 24f5           1918 	sld.w	72[ep],ep
000005dc 1045           1919 	sld.w	32[ep],r8
000005de 014a           1920 	mov	1,r9
000005e0 3b09           1921 	xor	r27,r1
000005e2 1b30           1922 	mov	r27,r6
000005e4 0138           1923 	mov	r1,r7
                        1924 	jarl	_R_VDCE_LayerImgScaleX,lp
                        1924 <EXPANSION BEGIN>
                        1924 jarl22 _R_VDCE_LayerImgScaleX , lp 
000005e6 80ff0000*      1924 <EXPANSION END>
000005ea e051           1925 	cmp	zero,r10
000005ec ca05*          1926 	bne	.L1449
                        1927 --636:                                     Unit /*r_wm_DevSys[Unit].RootCapt->CapUnit */, 
                        1928 --637:                                     Unit ^ r_wm_DevSys[Unit].RootCapt->CapUnit, 
                        1929 --638:                                     r_wm_DevSys[Unit].RootCapt->ScaledWidth, 
                        1930 --639:                                     R_VDCE_SCALING_SMALLER))
                        1931 --640:                     {
                        1932 --641:                         return 0;
                        1933 --line641
                        1934 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.100::
                        1935 .LDWlin100:
000005ee 0052           1936 	mov	0,r10
000005f0 8007ea02*      1937 	br	.L1417
                        1938 .L1449:
                        1939 --642:                     }

                                                                      Page 34
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        1940 --643:                 }
                        1941 --644:                 if (r_wm_DevSys[Unit].RootCapt->ScaledHeight != 0)
                        1942 --line644
                        1943 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.101::
                        1944 .LDWlin101:
000005f4 1bf0           1945 	mov	r27,ep
000005f6 fe00           1946 	sxh	ep
000005f8 fef66000       1947 	mulhi	96,ep,ep
000005fc daf1           1948 	add	r26,ep
000005fe 24f5           1949 	sld.w	72[ep],ep
00000600 120d           1950 	sld.w	36[ep],r1
00000602 e009           1951 	cmp	zero,r1
00000604 e2072501*      1952 	be	.L1444
                        1953 --645:                 {
                        1954 --646:                     if (0 == R_VDCE_LayerImgScaleY(
                        1955 --line646
                        1956 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.102::
                        1957 .LDWlin102:
00000608 1bf0           1958 	mov	r27,ep
0000060a fe00           1959 	sxh	ep
0000060c fef66000       1960 	mulhi	96,ep,ep
00000610 daf1           1961 	add	r26,ep
00000612 24f5           1962 	sld.w	72[ep],ep
00000614 160d           1963 	sld.w	44[ep],r1
00000616 1bf0           1964 	mov	r27,ep
00000618 fe00           1965 	sxh	ep
0000061a fef66000       1966 	mulhi	96,ep,ep
0000061e daf1           1967 	add	r26,ep
00000620 24f5           1968 	sld.w	72[ep],ep
00000622 1245           1969 	sld.w	36[ep],r8
00000624 014a           1970 	mov	1,r9
00000626 3b09           1971 	xor	r27,r1
00000628 1b30           1972 	mov	r27,r6
0000062a 0138           1973 	mov	r1,r7
                        1974 	jarl	_R_VDCE_LayerImgScaleY,lp
                        1974 <EXPANSION BEGIN>
                        1974 jarl22 _R_VDCE_LayerImgScaleY , lp 
0000062c 80ff0000*      1974 <EXPANSION END>
00000630 e051           1975 	cmp	zero,r10
00000632 ba7d*          1976 	bne	.L1444
                        1977 --647:                                     Unit /*r_wm_DevSys[Unit].RootCapt->CapUnit*/, 
                        1978 --648:                                     Unit ^ r_wm_DevSys[Unit].RootCapt->CapUnit, 
                        1979 --649:                                     r_wm_DevSys[Unit].RootCapt->ScaledHeight, 
                        1980 --650:                                     R_VDCE_SCALING_SMALLER))
                        1981 --651:                     {
                        1982 --652:                         return 0;
                        1983 --line652
                        1984 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.103::
                        1985 .LDWlin103:
00000634 0052           1986 	mov	0,r10
00000636 8007a402*      1987 	br	.L1417
                        1988 .L1447:
                        1989 --653:                     }
                        1990 --654:                 }
                        1991 --655:             }
                        1992 --656:             else /* window scaling */
                        1993 --657:             {
                        1994 --658:                 /* Scaling */
                        1995 --659:                 /* Layer 0 & 1 only when scaling is enabled */
                        1996 --660:                 if( (layer > 1) && ((cur_win->ScaledWidth != 0) || (cur_win->ScaledHeight != 0)) )
                        1997 --line660

                                                                      Page 35
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        1998 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.104::
                        1999 .LDWlin104:
0000063a 61e2           2000 	cmp	1,r28
0000063c c30d*          2001 	bnh	.L1460
0000063e 3d0f2500       2002 	ld.w	36[r29],r1
00000642 e009           2003 	cmp	zero,r1
00000644 da05*          2004 	bne	.L1461
00000646 3d0f2900       2005 	ld.w	40[r29],r1
0000064a e009           2006 	cmp	zero,r1
0000064c c205*          2007 	be	.L1460
                        2008 .L1461:
                        2009 --661:                 {
                        2010 --662:                     /* error, Layer 0 & 1 only*/
                        2011 --663:                     return 0;
                        2012 --line663
                        2013 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.105::
                        2014 .LDWlin105:
0000064e 0052           2015 	mov	0,r10
00000650 80078a02*      2016 	br	.L1417
                        2017 .L1460:
                        2018 --664:                 }
                        2019 --665:                 else
                        2020 --666:                 {
                        2021 --667:                     /* Width */
                        2022 --668:                     /* ScaledWidth of 0 means disabled */
                        2023 --669:                     if( cur_win->ScaledWidth != 0)
                        2024 --line669
                        2025 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.106::
                        2026 .LDWlin106:
00000654 3d0f2500       2027 	ld.w	36[r29],r1
00000658 e009           2028 	cmp	zero,r1
0000065a 922d*          2029 	be	.L1466
                        2030 --670:                     {
                        2031 --671:                         if( cur_win->ScaledWidth < cur_win->Width) /* scale up */
                        2032 --line671
                        2033 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.107::
                        2034 .LDWlin107:
0000065c 3d0f1d00       2035 	ld.w	28[r29],r1
00000660 3d772500       2036 	ld.w	36[r29],r14
00000664 e171           2037 	cmp	r1,r14
00000666 f90d*          2038 	bnl	.L1468
                        2039 --672:                         {
                        2040 --673:                             if (cur_win->ScaledWidth != R_VDCE_LayerImgScaleX(Unit, layer, cur_win->ScaledWidth, R_VDCE_SCALING_LARGER))
                        2041 --line673
                        2042 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.108::
                        2043 .LDWlin108:
00000668 3d472500       2044 	ld.w	36[r29],r8
0000066c 1b30           2045 	mov	r27,r6
0000066e 1c38           2046 	mov	r28,r7
00000670 004a           2047 	mov	0,r9
                        2048 	jarl	_R_VDCE_LayerImgScaleX,lp
                        2048 <EXPANSION BEGIN>
                        2048 jarl22 _R_VDCE_LayerImgScaleX , lp 
00000672 80ff0000*      2048 <EXPANSION END>
00000676 3d0f2500       2049 	ld.w	36[r29],r1
0000067a ea09           2050 	cmp	r10,r1
0000067c 9225*          2051 	be	.L1480
                        2052 --674:                             {
                        2053 --675:                                 return 0;
                        2054 --line675
                        2055 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.109::

                                                                      Page 36
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        2056 .LDWlin109:
0000067e 0052           2057 	mov	0,r10
00000680 80075a02*      2058 	br	.L1417
                        2059 .L1468:
                        2060 --676:                             }
                        2061 --677:                         }
                        2062 --678:                         else if( cur_win->ScaledWidth > cur_win->Width) /* scale down */
                        2063 --line678
                        2064 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.110::
                        2065 .LDWlin110:
00000684 3d0f1d00       2066 	ld.w	28[r29],r1
00000688 3d772500       2067 	ld.w	36[r29],r14
0000068c e171           2068 	cmp	r1,r14
0000068e 831d*          2069 	bnh	.L1480
                        2070 --679:                         {
                        2071 --680:                             if (cur_win->ScaledWidth != R_VDCE_LayerImgScaleX(Unit, layer, cur_win->ScaledWidth, R_VDCE_SCALING_SMALLER))
                        2072 --line680
                        2073 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.111::
                        2074 .LDWlin111:
00000690 3d472500       2075 	ld.w	36[r29],r8
00000694 1b30           2076 	mov	r27,r6
00000696 1c38           2077 	mov	r28,r7
00000698 014a           2078 	mov	1,r9
                        2079 	jarl	_R_VDCE_LayerImgScaleX,lp
                        2079 <EXPANSION BEGIN>
                        2079 jarl22 _R_VDCE_LayerImgScaleX , lp 
0000069a 80ff0000*      2079 <EXPANSION END>
0000069e 3d0f2500       2080 	ld.w	36[r29],r1
000006a2 ea09           2081 	cmp	r10,r1
000006a4 d20d*          2082 	be	.L1480
                        2083 --681:                             {
                        2084 --682:                                 return 0;
                        2085 --line682
                        2086 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.112::
                        2087 .LDWlin112:
000006a6 0052           2088 	mov	0,r10
000006a8 80073202*      2089 	br	.L1417
                        2090 .L1466:
                        2091 --683:                             }
                        2092 --684:                         }
                        2093 --685:                         else
                        2094 --686:                         {
                        2095 --687:                             /* nothing */
                        2096 --688:                         }
                        2097 --689:                     }
                        2098 --690:                     else /* no scaling */
                        2099 --691:                     {
                        2100 --692:                         if(layer > 1)
                        2101 --line692
                        2102 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.113::
                        2103 .LDWlin113:
000006ac 61e2           2104 	cmp	1,r28
000006ae 8b0d*          2105 	bh	.L1480
                        2106 --693:                         {
                        2107 --694:                             /* nothing */
                        2108 --695:                         }
                        2109 --696:                         else
                        2110 --697:                         {
                        2111 --698:                             R_VDCE_LayerImgScaleX(Unit, layer, cur_win->Width, R_VDCE_SCALING_DISABLE);
                        2112 --line698
                        2113 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.114::

                                                                      Page 37
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        2114 .LDWlin114:
000006b0 3d471d00       2115 	ld.w	28[r29],r8
000006b4 1b30           2116 	mov	r27,r6
000006b6 1c38           2117 	mov	r28,r7
000006b8 024a           2118 	mov	2,r9
                        2119 	jarl	_R_VDCE_LayerImgScaleX,lp
                        2119 <EXPANSION BEGIN>
                        2119 jarl22 _R_VDCE_LayerImgScaleX , lp 
000006ba 80ff0000*      2119 <EXPANSION END>
                        2120 .L1480:
                        2121 --699:                         }
                        2122 --700:                     }
                        2123 --701:             
                        2124 --702:                     /* Scaling */
                        2125 --703:                     /* Height */
                        2126 --704:                     /* ScaledHeight of 0 means disabled */
                        2127 --705:                     if( cur_win->ScaledHeight != 0)
                        2128 --line705
                        2129 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.115::
                        2130 .LDWlin115:
000006be 3d0f2900       2131 	ld.w	40[r29],r1
000006c2 e009           2132 	cmp	zero,r1
000006c4 922d*          2133 	be	.L1484
                        2134 --706:                     {
                        2135 --707:                         if( cur_win->ScaledHeight < cur_win->Height) /* scale up */
                        2136 --line707
                        2137 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.116::
                        2138 .LDWlin116:
000006c6 3d0f2100       2139 	ld.w	32[r29],r1
000006ca 3d772900       2140 	ld.w	40[r29],r14
000006ce e171           2141 	cmp	r1,r14
000006d0 f90d*          2142 	bnl	.L1486
                        2143 --708:                         {
                        2144 --709:                             if (cur_win->ScaledHeight != R_VDCE_LayerImgScaleY(Unit, layer, cur_win->ScaledHeight, R_VDCE_SCALING_LARGER))
                        2145 --line709
                        2146 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.117::
                        2147 .LDWlin117:
000006d2 3d472900       2148 	ld.w	40[r29],r8
000006d6 1b30           2149 	mov	r27,r6
000006d8 1c38           2150 	mov	r28,r7
000006da 004a           2151 	mov	0,r9
                        2152 	jarl	_R_VDCE_LayerImgScaleY,lp
                        2152 <EXPANSION BEGIN>
                        2152 jarl22 _R_VDCE_LayerImgScaleY , lp 
000006dc 80ff0000*      2152 <EXPANSION END>
000006e0 3d0f2900       2153 	ld.w	40[r29],r1
000006e4 ea09           2154 	cmp	r10,r1
000006e6 9225*          2155 	be	.L1444
                        2156 --710:                             {
                        2157 --711:                                 return 0;
                        2158 --line711
                        2159 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.118::
                        2160 .LDWlin118:
000006e8 0052           2161 	mov	0,r10
000006ea 8007f001*      2162 	br	.L1417
                        2163 .L1486:
                        2164 --712:                             }
                        2165 --713:                         }
                        2166 --714:                         else if( cur_win->ScaledHeight > cur_win->Height) /* scale down */
                        2167 --line714
                        2168 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.119::

                                                                      Page 38
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        2169 .LDWlin119:
000006ee 3d0f2100       2170 	ld.w	32[r29],r1
000006f2 3d772900       2171 	ld.w	40[r29],r14
000006f6 e171           2172 	cmp	r1,r14
000006f8 831d*          2173 	bnh	.L1444
                        2174 --715:                         {
                        2175 --716:                             if (cur_win->ScaledHeight != R_VDCE_LayerImgScaleY(Unit, layer, cur_win->ScaledHeight, R_VDCE_SCALING_SMALLER))
                        2176 --line716
                        2177 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.120::
                        2178 .LDWlin120:
000006fa 3d472900       2179 	ld.w	40[r29],r8
000006fe 1b30           2180 	mov	r27,r6
00000700 1c38           2181 	mov	r28,r7
00000702 014a           2182 	mov	1,r9
                        2183 	jarl	_R_VDCE_LayerImgScaleY,lp
                        2183 <EXPANSION BEGIN>
                        2183 jarl22 _R_VDCE_LayerImgScaleY , lp 
00000704 80ff0000*      2183 <EXPANSION END>
00000708 3d0f2900       2184 	ld.w	40[r29],r1
0000070c ea09           2185 	cmp	r10,r1
0000070e d20d*          2186 	be	.L1444
                        2187 --717:                             {
                        2188 --718:                                 return 0;
                        2189 --line718
                        2190 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.121::
                        2191 .LDWlin121:
00000710 0052           2192 	mov	0,r10
00000712 8007c801*      2193 	br	.L1417
                        2194 .L1484:
                        2195 --719:                             }
                        2196 --720:                         }
                        2197 --721:                         else
                        2198 --722:                         {
                        2199 --723:                             /* nothing */
                        2200 --724:                         }
                        2201 --725:                     }
                        2202 --726:                     else /* no scaling */
                        2203 --727:                     {
                        2204 --728:                         if(layer > 1)
                        2205 --line728
                        2206 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.122::
                        2207 .LDWlin122:
00000716 61e2           2208 	cmp	1,r28
00000718 8b0d*          2209 	bh	.L1444
                        2210 --729:                         {
                        2211 --730:                             /* nothing */
                        2212 --731:                         }
                        2213 --732:                         else
                        2214 --733:                         {
                        2215 --734:                             R_VDCE_LayerImgScaleY(Unit, layer, cur_win->Height, R_VDCE_SCALING_DISABLE);
                        2216 --line734
                        2217 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.123::
                        2218 .LDWlin123:
0000071a 3d472100       2219 	ld.w	32[r29],r8
0000071e 1b30           2220 	mov	r27,r6
00000720 1c38           2221 	mov	r28,r7
00000722 024a           2222 	mov	2,r9
                        2223 	jarl	_R_VDCE_LayerImgScaleY,lp
                        2223 <EXPANSION BEGIN>
                        2223 jarl22 _R_VDCE_LayerImgScaleY , lp 
00000724 80ff0000*      2223 <EXPANSION END>

                                                                      Page 39
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        2224 .L1444:
                        2225 --735:                         }
                        2226 --736:                     }
                        2227 --737:                 }
                        2228 --738:             }
                        2229 --739:         }
                        2230 --741:         /* Layer 0 and Layer 4 cannot be assigned constant Alpha */
                        2231 --742:         if((0 < layer) && (layer < 4) && (cur_win->ColorKey.Enabled == 0))
                        2232 --line742
                        2233 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.124::
                        2234 .LDWlin124:
00000728 e0e1           2235 	cmp	zero,r28
0000072a a315*          2236 	bnh	.L1502
0000072c 64e2           2237 	cmp	4,r28
0000072e 8915*          2238 	bnl	.L1502
00000730 9d0f4500       2239 	ld.bu	68[r29],r1
00000734 e009           2240 	cmp	zero,r1
00000736 ca0d*          2241 	bne	.L1502
                        2242 --743:         {
                        2243 --744:             if (R_VDCE_ERR_OK != R_VDCE_LayerAlphaConstEnable(Unit, layer, cur_win->Alpha))
                        2244 --line744
                        2245 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.125::
                        2246 .LDWlin125:
00000738 9d473900       2247 	ld.bu	56[r29],r8
0000073c 1b30           2248 	mov	r27,r6
0000073e 1c38           2249 	mov	r28,r7
                        2250 	jarl	_R_VDCE_LayerAlphaConstEnable,lp
                        2250 <EXPANSION BEGIN>
                        2250 jarl22 _R_VDCE_LayerAlphaConstEnable , lp 
00000740 80ff0000*      2250 <EXPANSION END>
00000744 e051           2251 	cmp	zero,r10
00000746 c205*          2252 	be	.L1502
                        2253 --745:             {
                        2254 --746:                 return 0;
                        2255 --line746
                        2256 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.126::
                        2257 .LDWlin126:
00000748 0052           2258 	mov	0,r10
0000074a 80079001*      2259 	br	.L1417
                        2260 .L1502:
                        2261 --747:             }
                        2262 --748:         }
                        2263 --749:         if((0 < layer) && (layer < 4))
                        2264 --line749
                        2265 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.127::
                        2266 .LDWlin127:
0000074e e0e1           2267 	cmp	zero,r28
00000750 c325*          2268 	bnh	.L1509
00000752 64e2           2269 	cmp	4,r28
00000754 a925*          2270 	bnl	.L1509
                        2271 --750:         {
                        2272 --751:             if (R_VDCE_ERR_OK != R_VDCE_LayerAlphaChannelEnable(Unit, layer))
                        2273 --line751
                        2274 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.128::
                        2275 .LDWlin128:
00000756 1b30           2276 	mov	r27,r6
00000758 1c38           2277 	mov	r28,r7
                        2278 	jarl	_R_VDCE_LayerAlphaChannelEnable,lp
                        2278 <EXPANSION BEGIN>
                        2278 jarl22 _R_VDCE_LayerAlphaChannelEnable , lp 
0000075a 80ff0000*      2278 <EXPANSION END>

                                                                      Page 40
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
0000075e e051           2279 	cmp	zero,r10
00000760 c205*          2280 	be	.L1512
                        2281 --752:             {
                        2282 --753:                 return 0;
                        2283 --line753
                        2284 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.129::
                        2285 .LDWlin129:
00000762 0052           2286 	mov	0,r10
00000764 80077601*      2287 	br	.L1417
                        2288 .L1512:
                        2289 --754:             }
                        2290 --755:             
                        2291 --756:             if (R_FALSE != cur_win->UsePremultipliedAlpha)
                        2292 --line756
                        2293 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.130::
                        2294 .LDWlin130:
00000768 bd0f3900       2295 	ld.bu	57[r29],r1
0000076c e009           2296 	cmp	zero,r1
0000076e 820d*          2297 	be	.L1515
                        2298 --757:             {
                        2299 --758:                 vdce_err = R_VDCE_LayerPremultipliedAlphaEnable(Unit, layer);
                        2300 --line758
                        2301 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.131::
                        2302 .LDWlin131:
00000770 1b30           2303 	mov	r27,r6
00000772 1c38           2304 	mov	r28,r7
                        2305 	jarl	_R_VDCE_LayerPremultipliedAlphaEnable,lp
                        2305 <EXPANSION BEGIN>
                        2305 jarl22 _R_VDCE_LayerPremultipliedAlphaEnable , lp 
00000774 80ff0000*      2305 <EXPANSION END>
00000778 63571d00       2306 	st.w	r10,28[sp]
0000077c f505*          2307 	br	.L1517
                        2308 .L1515:
                        2309 --759:             }
                        2310 --760:             else
                        2311 --761:             {
                        2312 --762:                 vdce_err = R_VDCE_LayerPremultipliedAlphaDisable(Unit, layer);
                        2313 --line762
                        2314 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.132::
                        2315 .LDWlin132:
0000077e 1b30           2316 	mov	r27,r6
00000780 1c38           2317 	mov	r28,r7
                        2318 	jarl	_R_VDCE_LayerPremultipliedAlphaDisable,lp
                        2318 <EXPANSION BEGIN>
                        2318 jarl22 _R_VDCE_LayerPremultipliedAlphaDisable , lp 
00000782 80ff0000*      2318 <EXPANSION END>
00000786 63571d00       2319 	st.w	r10,28[sp]
                        2320 .L1517:
                        2321 --763:             }
                        2322 --764:             if (vdce_err != R_VDCE_ERR_OK)
                        2323 --line764
                        2324 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.133::
                        2325 .LDWlin133:
0000078a 235f1d00       2326 	ld.w	28[sp],r11
0000078e e059           2327 	cmp	zero,r11
00000790 c205*          2328 	be	.L1509
                        2329 --765:             {
                        2330 --766:                 return 0;
                        2331 --line766
                        2332 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.134::
                        2333 .LDWlin134:

                                                                      Page 41
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
00000792 0052           2334 	mov	0,r10
00000794 80074601*      2335 	br	.L1417
                        2336 .L1509:
                        2337 --767:             }
                        2338 --768:         }
                        2339 --769:         
                        2340 --770:         /* Set vertical mirroring */
                        2341 --771:         /* Enable vertical mirroring */
                        2342 --772:         if ( 0 != ( ((uint32_t)cur_win->Flags) & ((uint32_t)R_WM_WINFLAG_V_MIRROR) ) )
                        2343 --line772
                        2344 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.135::
                        2345 .LDWlin135:
00000798 3d0f4d00       2346 	ld.w	76[r29],r1
0000079c 810a           2347 	shr	1,r1
0000079e b90d*          2348 	bnl	.L1521
                        2349 --773:         {
                        2350 --774:             if (R_VDCE_ERR_OK != R_VDCE_LayerModeSet(Unit, layer, R_VDCE_LAYER_MODE_V_MIRORING) )
                        2351 --line774
                        2352 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.136::
                        2353 .LDWlin136:
000007a0 1b30           2354 	mov	r27,r6
000007a2 1c38           2355 	mov	r28,r7
000007a4 0142           2356 	mov	1,r8
                        2357 	jarl	_R_VDCE_LayerModeSet,lp
                        2357 <EXPANSION BEGIN>
                        2357 jarl22 _R_VDCE_LayerModeSet , lp 
000007a6 80ff0000*      2357 <EXPANSION END>
000007aa e051           2358 	cmp	zero,r10
000007ac e20d*          2359 	be	.L1526
                        2360 --775:             {
                        2361 --776:                 return 0;
                        2362 --line776
                        2363 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.137::
                        2364 .LDWlin137:
000007ae 0052           2365 	mov	0,r10
000007b0 80072a01*      2366 	br	.L1417
                        2367 .L1521:
                        2368 --777:             }
                        2369 --778:         }
                        2370 --779:         /* Disable vertical mirroring */
                        2371 --780:         else
                        2372 --781:         {
                        2373 --782:             if (R_VDCE_ERR_OK != R_VDCE_LayerModeSet(Unit, layer, R_VDCE_LAYER_MODE_NONE) )
                        2374 --line782
                        2375 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.138::
                        2376 .LDWlin138:
000007b4 1b30           2377 	mov	r27,r6
000007b6 1c38           2378 	mov	r28,r7
000007b8 0042           2379 	mov	0,r8
                        2380 	jarl	_R_VDCE_LayerModeSet,lp
                        2380 <EXPANSION BEGIN>
                        2380 jarl22 _R_VDCE_LayerModeSet , lp 
000007ba 80ff0000*      2380 <EXPANSION END>
000007be e051           2381 	cmp	zero,r10
000007c0 c205*          2382 	be	.L1526
                        2383 --783:             {
                        2384 --784:                 return 0;
                        2385 --line784
                        2386 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.139::
                        2387 .LDWlin139:
000007c2 0052           2388 	mov	0,r10

                                                                      Page 42
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
000007c4 80071601*      2389 	br	.L1417
                        2390 .L1526:
                        2391 --785:             }
                        2392 --786:         }
                        2393 --788:         
                        2394 --789:         /* set the layer base address from the ON_SCREEN fb */
                        2395 --790:         if (cur_win->Mode != R_WM_WINMODE_SPRITES)
                        2396 --line790
                        2397 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.140::
                        2398 .LDWlin140:
000007c8 3d0f0500       2399 	ld.w	4[r29],r1
000007cc 610a           2400 	cmp	1,r1
000007ce a21d*          2401 	be	.L1530
                        2402 --791:         {
                        2403 --792:             fb = loc_WinGetOnScreenFb(cur_win);
                        2404 --line792
                        2405 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.141::
                        2406 .LDWlin141:
000007d0 1d30           2407 	mov	r29,r6
                        2408 	jarl	_loc_WinGetOnScreenFb,lp
                        2408 <EXPANSION BEGIN>
                        2408 jarl22 _loc_WinGetOnScreenFb , lp 
000007d2 80ff7403*      2408 <EXPANSION END>
000007d6 63572100       2409 	st.w	r10,32[sp]
                        2410 --793:             if (fb != 0)
                        2411 --line793
                        2412 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.142::
                        2413 .LDWlin142:
000007da 235f2100       2414 	ld.w	32[sp],r11
000007de e059           2415 	cmp	zero,r11
000007e0 e22d*          2416 	be	.L1537
                        2417 --794:             {
                        2418 --795:                 if (0 == loc_WinSetFb(Unit, cur_win, cur_win->PosX, cur_win->PosY, fb))
                        2419 --line795
                        2420 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.143::
                        2421 .LDWlin143:
000007e2 235f2100       2422 	ld.w	32[sp],r11
000007e6 1b30           2423 	mov	r27,r6
000007e8 3d470d00       2424 	ld.w	12[r29],r8
000007ec 1d38           2425 	mov	r29,r7
000007ee 3d4f1100       2426 	ld.w	16[r29],r9
000007f2 635f0100       2427 	st.w	r11,0[sp]
                        2428 	jarl	_loc_WinSetFb,lp
                        2428 <EXPANSION BEGIN>
                        2428 jarl22 _loc_WinSetFb , lp 
000007f6 80fffa01*      2428 <EXPANSION END>
000007fa e051           2429 	cmp	zero,r10
000007fc 8a25*          2430 	bne	.L1537
                        2431 --796:                 {
                        2432 --797:                     return 0;
                        2433 --line797
                        2434 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.144::
                        2435 .LDWlin144:
000007fe 0052           2436 	mov	0,r10
00000800 d56d*          2437 	br	.L1417
                        2438 .L1530:
                        2439 --798:                 }
                        2440 --799:             }
                        2441 --800:         }
                        2442 --801:         else
                        2443 --802:         {

                                                                      Page 43
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        2444 --803:             if (0 == loc_WinSetFb(Unit, cur_win, cur_win->PosX, cur_win->PosY, 0 /* will be set in the function */))
                        2445 --line803
                        2446 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.145::
                        2447 .LDWlin145:
00000802 3d470d00       2448 	ld.w	12[r29],r8
00000806 1b30           2449 	mov	r27,r6
00000808 3d4f1100       2450 	ld.w	16[r29],r9
0000080c 1d38           2451 	mov	r29,r7
0000080e 63070100       2452 	st.w	zero,0[sp]
                        2453 	jarl	_loc_WinSetFb,lp
                        2453 <EXPANSION BEGIN>
                        2453 jarl22 _loc_WinSetFb , lp 
00000812 80ffde01*      2453 <EXPANSION END>
00000816 e051           2454 	cmp	zero,r10
00000818 ba05*          2455 	bne	.L1538
                        2456 --804:             {
                        2457 --805:                 return 0;
                        2458 --line805
                        2459 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.146::
                        2460 .LDWlin146:
0000081a 0052           2461 	mov	0,r10
0000081c f55d*          2462 	br	.L1417
                        2463 .L1538:
                        2464 --806:             }
                        2465 --807:             if (cur_win->Surface.SpritesRoot != 0)
                        2466 --line807
                        2467 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.147::
                        2468 .LDWlin147:
0000081e 3d0f2d00       2469 	ld.w	44[r29],r1
00000822 e009           2470 	cmp	zero,r1
00000824 c20d*          2471 	be	.L1537
                        2472 --808:             {
                        2473 --	    .bs
                        2474 .LDW63:
                        2475 --809:                 r_spea_Unit_t spea_unit;
                        2476 --810:                 
                        2477 --811:                 spea_unit = loc_WM_Sprite_GetSpriteUnitFromLayerNo(Unit, layer);
                        2478 --line811
                        2479 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.148::
                        2480 .LDWlin148:
00000826 1b30           2481 	mov	r27,r6
00000828 1c38           2482 	mov	r28,r7
                        2483 	jarl	_loc_WM_Sprite_GetSpriteUnitFromLayerNo,lp
                        2483 <EXPANSION BEGIN>
                        2483 jarl22 _loc_WM_Sprite_GetSpriteUnitFromLayerNo , lp 
0000082a 80ff0000*      2483 <EXPANSION END>
0000082e 63572900       2484 	st.w	r10,40[sp]
                        2485 --812:                 loc_WM_Sprite_SetReassignFlag(Unit, spea_unit);
                        2486 --line812
                        2487 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.149::
                        2488 .LDWlin149:
00000832 233f2900       2489 	ld.w	40[sp],r7
00000836 1b30           2490 	mov	r27,r6
                        2491 	jarl	_loc_WM_Sprite_SetReassignFlag,lp
                        2491 <EXPANSION BEGIN>
                        2491 jarl22 _loc_WM_Sprite_SetReassignFlag , lp 
00000838 80ff0000*      2491 <EXPANSION END>
                        2492 --	    .es
                        2493 .LDW73:
                        2494 .L1537:
                        2495 --813:             }

                                                                      Page 44
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        2496 --814:         }
                        2497 --815:         /* This will also enable the layer */
                        2498 --816:         if (0 == loc_WinSetViewportAndGeom( Unit,
                        2499 --line816
                        2500 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.150::
                        2501 .LDWlin150:
0000083c 3d370900       2502 	ld.w	8[r29],r6
                        2503 	jarl	_R_WM_ColorFmtBitsPerPixGet,lp
                        2503 <EXPANSION BEGIN>
                        2503 jarl22 _R_WM_ColorFmtBitsPerPixGet , lp 
00000840 80ff0000*      2503 <EXPANSION END>
00000844 3d771100       2504 	ld.w	16[r29],r14
00000848 1b30           2505 	mov	r27,r6
0000084a 3d4f0d00       2506 	ld.w	12[r29],r9
0000084e 1d38           2507 	mov	r29,r7
00000850 1c40           2508 	mov	r28,r8
00000852 63770100       2509 	st.w	r14,0[sp]
00000856 3d771900       2510 	ld.w	24[r29],r14
0000085a 63770500       2511 	st.w	r14,4[sp]
0000085e 3d771d00       2512 	ld.w	28[r29],r14
00000862 63770900       2513 	st.w	r14,8[sp]
00000866 3d772100       2514 	ld.w	32[r29],r14
0000086a 63571100       2515 	st.w	r10,16[sp]
0000086e 63770d00       2516 	st.w	r14,12[sp]
                        2517 	jarl	_loc_WinSetViewportAndGeom,lp
                        2517 <EXPANSION BEGIN>
                        2517 jarl22 _loc_WinSetViewportAndGeom , lp 
00000872 80ff6c00*      2517 <EXPANSION END>
00000876 e051           2518 	cmp	zero,r10
00000878 ba05*          2519 	bne	.L1543
                        2520 --817:                                             cur_win,
                        2521 --818:                                             layer,
                        2522 --819:                                             cur_win->PosX,
                        2523 --820:                                             cur_win->PosY,
                        2524 --821:                                             cur_win->Pitch,
                        2525 --822:                                             cur_win->Width,
                        2526 --823:                                             cur_win->Height,
                        2527 --824:                                             R_WM_ColorFmtBitsPerPixGet(cur_win->ColorFmt) ))
                        2528 --825:         {
                        2529 --826:             return 0;
                        2530 --line826
                        2531 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.151::
                        2532 .LDWlin151:
0000087a 0052           2533 	mov	0,r10
0000087c f52d*          2534 	br	.L1417
                        2535 .L1543:
                        2536 --827:         }
                        2537 --829:         cur_win = cur_win->Next;
                        2538 --line829
                        2539 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.152::
                        2540 .LDWlin152:
0000087e 3d0f5100       2541 	ld.w	80[r29],r1
00000882 01e8           2542 	mov	r1,r29
                        2543 --830:         ++layer;
00000884 41e2           2544 	add	1,r28
                        2545 --831:         ++slot;
00000886 41ca           2546 	add	1,r25
                        2547 .L1419:
00000888 e0e9           2548 	cmp	zero,r29
0000088a c205*          2549 	be	.L1420
0000088c 64e2           2550 	cmp	4,r28

                                                                      Page 45
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
0000088e f107f9fb*      2551 	bl	.L1421
                        2552 .L1420:
                        2553 --832:     }
                        2554 --833:     
                        2555 --834:     /* Turn off remaining layers */
                        2556 --835:     for (; slot <  R_WM_MAX_LAYERS; ++slot)
                        2557 --line835
                        2558 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.153::
                        2559 .LDWlin153:
00000892 951d*          2560 	br	.L1550
                        2561 .L1549:
                        2562 --836:     {
                        2563 --837:         r_wm_DevSys[Unit].WinToLayerMap[slot].Win = R_NULL; 
                        2564 --line837
                        2565 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.154::
                        2566 .LDWlin154:
00000894 1b08           2567 	mov	r27,r1
00000896 e100           2568 	sxh	r1
00000898 e10e6000       2569 	mulhi	96,r1,r1
0000089c 19f0           2570 	mov	r25,ep
0000089e c3f2           2571 	shl	3,ep
000008a0 da09           2572 	add	r26,r1
000008a2 010e1400       2573 	addi	20,r1,r1
000008a6 c1f1           2574 	add	r1,ep
000008a8 0105           2575 	sst.w	zero,0[ep]
                        2576 --838:         r_wm_DevSys[Unit].WinToLayerMap[slot].Layer = LOC_INVALID_LAYER;
000008aa 1b08           2577 	mov	r27,r1
000008ac e100           2578 	sxh	r1
000008ae e10e6000       2579 	mulhi	96,r1,r1
000008b2 19f0           2580 	mov	r25,ep
000008b4 c3f2           2581 	shl	3,ep
000008b6 da09           2582 	add	r26,r1
000008b8 010e1400       2583 	addi	20,r1,r1
000008bc c1f1           2584 	add	r1,ep
000008be 1f0a           2585 	mov	-1,r1
000008c0 030d           2586 	sst.w	r1,4[ep]
000008c2 41ca           2587 	add	1,r25
                        2588 .L1550:
000008c4 64ca           2589 	cmp	4,r25
000008c6 f1e5*          2590 	bl	.L1549
                        2591 --839:     }
                        2592 --840:     for (; layer <  R_WM_MAX_LAYERS; ++layer)
                        2593 --line840
                        2594 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.155::
                        2595 .LDWlin155:
000008c8 e505*          2596 	br	.L1554
                        2597 .L1553:
                        2598 --841:     {
                        2599 --842:         loc_VDCE_LayerDisable(Unit, layer);
                        2600 --line842
                        2601 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.156::
                        2602 .LDWlin156:
000008ca 1b30           2603 	mov	r27,r6
000008cc 1c38           2604 	mov	r28,r7
                        2605 	jarl	_loc_VDCE_LayerDisable,lp
                        2605 <EXPANSION BEGIN>
                        2605 jarl22 _loc_VDCE_LayerDisable , lp 
000008ce 80ff0003*      2605 <EXPANSION END>
                        2606 --line840
                        2607 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.157::
                        2608 .LDWlin157:

                                                                      Page 46
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
000008d2 41e2           2609 	add	1,r28
                        2610 .L1554:
000008d4 64e2           2611 	cmp	4,r28
000008d6 a1fd*          2612 	bl	.L1553
                        2613 --843:     }
                        2614 --844:     return 1;
                        2615 --line844
                        2616 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.158::
                        2617 .LDWlin158:
000008d8 0152           2618 	mov	1,r10
                        2619 .L1417:
                        2620 --	    .ef
                        2621 .LDW83:
000008da 5606ff70       2622 	dispose	11,{r25,r26,r27,r28,r29,r31},[lp]
                        2623 	.type	_loc_WM_WinReconfAll,@function
                        2624 	.size	_loc_WM_WinReconfAll,.-_loc_WM_WinReconfAll
                        2625 	.align	2
                        2626 .LDW93:
                        2627 --_slot	r25	local
                        2628 --_layer	r28	local
                        2629 --_cur_win	r29	local
                        2630 --_RootWin	36[sp]	local
                        2631 --_ck_in	20[sp]	local
                        2632 --_ck_out	24[sp]	local
                        2633 --_vdce_err	28[sp]	local
                        2634 --_fb	32[sp]	local
                        2635 --_spea_unit	40[sp]	local
                        2636 
                        2637 --_Unit	r27	param
                        2638 
                        2639 	.section ".bss","awb"
                        2640 .L2026:
                        2641 	.type	.L2026,@object
                        2642 	.size	.L2026,0
                        2643 	.data
                        2644 	.text
                        2645 
                        2646 --845: }
                        2647 
                        2648 --847: /***********************************************************
                        2649 --848:   Function: loc_WinSetViewportAndGeom
                        2650 --849: */
                        2651 --850: static uint32_t loc_WinSetViewportAndGeom ( uint32_t     Unit,
                        2652 	.align	2
                        2653 	.align	2
                        2654 	.global	_loc_WinSetViewportAndGeom..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.
                        2655 _loc_WinSetViewportAndGeom..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.:
                        2656 _loc_WinSetViewportAndGeom:
000008de 9207e170       2657 	prepare	{r25,r26,r27,r28,r29,r31},9
000008e2 633f2100       2658 	st.w	r7,32[sp]
000008e6 06e0           2659 	mov	r6,r28
000008e8 63471d00       2660 	st.w	r8,28[sp]
000008ec 09d8           2661 	mov	r9,r27
000008ee 23cf3d00       2662 	ld.w	60[sp],r25
000008f2 23d74500       2663 	ld.w	68[sp],r26
000008f6 23ef4900       2664 	ld.w	72[sp],r29
                        2665 --	    .bf
                        2666 .LDW04:
                        2667 --851:                                             const r_wm_Window_t *Win,
                        2668 --852:                                             uint32_t            Layer,
                        2669 --853:                                             int32_t             PosX,

                                                                      Page 47
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        2670 --854:                                             int32_t             PosY,
                        2671 --855:                                             int32_t             Pitch,
                        2672 --856:                                             int32_t             Width,
                        2673 --857:                                             int32_t             Height,
                        2674 --858:                                             int32_t             Bpp
                        2675 --859:                                           )
                        2676 --860: {
                        2677 --861:     r_vdce_Error_t err;
                        2678 --862:     int32_t pix_per_align_step = (128 / Bpp) * 8;
000008fa 235f4d00       2679 	ld.w	76[sp],r11
000008fe 200e8000       2680 	movea	128,zero,r1
00000902 eb0ffc02       2681 	divq	r11,r1,zero
00000906 c30a           2682 	shl	3,r1
00000908 630f1100       2683 	st.w	r1,16[sp]
                        2684 --863:     if (PosY < 0)
0000090c e0c9           2685 	cmp	zero,r25
0000090e be05*          2686 	bge	.L2373
                        2687 --864:     {
                        2688 --865:         Height += PosY; /* shorten the height */
                        2689 --line865
                        2690 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.159::
                        2691 .LDWlin159:
00000910 d9e9           2692 	add	r25,r29
                        2693 --866:         PosY = 0;
00000912 00ca           2694 	mov	0,r25
                        2695 .L2373:
                        2696 --867:     }
                        2697 --868:     if (PosX < 0)
00000914 e0d9           2698 	cmp	zero,r27
00000916 8e2d*          2699 	bge	.L2375
                        2700 --869:     {
                        2701 --870:         /* Instead of directly adjusting the layer's position on the screen, 
                        2702 --871:            it is also possible to change the base address of the layer.
                        2703 --872:            By increasing the base address you effectively move the layer to the left.
                        2704 --873:            
                        2705 --874:            A crucial point of this method is, the VDCE's Layer Base Adress must 
                        2706 --875:            be 128Byte aligned. This is 32px for 4BPP, 64px for 2BPP, etc...
                        2707 --876:            So this method works best, if there is a reserve of 32px, 64px, etc 
                        2708 --877:            in the blanking width to be used with conventional moving.
                        2709 --878:            
                        2710 --879:            As a consequence, moving by changing the base address can only be used 
                        2711 --880:            when the reserve is equal or bigger than 32px, 64px, etc..
                        2712 --881:         */
                        2713 --882:         if ( (0 > (r_wm_DevSys[Unit].HorizontalMoveReserve + PosX)) && 
                        2714 --line882
                        2715 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.160::
                        2716 .LDWlin160:
00000918 1cf0           2717 	mov	r28,ep
0000091a fe00           2718 	sxh	ep
0000091c fef66000       2719 	mulhi	96,ep,ep
00000920 2b0600000000*  2720 	mov	_r_wm_DevSys,r11
00000926 cbf1           2721 	add	r11,ep
00000928 2e0d           2722 	sld.w	92[ep],r1
0000092a db09           2723 	add	r27,r1
0000092c 8c15*          2724 	bp	.L2377
0000092e 1cf0           2725 	mov	r28,ep
00000930 fe00           2726 	sxh	ep
00000932 fef66000       2727 	mulhi	96,ep,ep
00000936 2b0600000000*  2728 	mov	_r_wm_DevSys,r11
0000093c 23671100       2729 	ld.w	16[sp],r12
00000940 cbf1           2730 	add	r11,ep

                                                                      Page 48
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
00000942 2e0d           2731 	sld.w	92[ep],r1
00000944 e161           2732 	cmp	r1,r12
00000946 b705*          2733 	ble	.L2377
                        2734 --883:              (pix_per_align_step>r_wm_DevSys[Unit].HorizontalMoveReserve) )
                        2735 --884:         {
                        2736 --885:             R_WM_SYS_REPORT_ERROR(Unit, R_WM_ERR_SYS_WIN_MOVE_FAILED, 0);
                        2737 --886:             return 0;
                        2738 --line886
                        2739 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.161::
                        2740 .LDWlin161:
00000948 0052           2741 	mov	0,r10
0000094a 9555*          2742 	br	.L2371
                        2743 .L2377:
                        2744 --887:         }
                        2745 --888:         /* Shorten the width aligned to 128Byte steps */
                        2746 --889:         Width -= (int32_t)((uint32_t)-PosX & ~(uint32_t)(pix_per_align_step - 1u));
                        2747 --line889
                        2748 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.162::
                        2749 .LDWlin162:
0000094c 235f1100       2750 	ld.w	16[sp],r11
00000950 1b08           2751 	mov	r27,r1
00000952 8009           2752 	subr	zero,r1
00000954 0b76ffff       2753 	addi	-1,r11,r14
00000958 2e70           2754 	not	r14,r14
0000095a 4171           2755 	and	r1,r14
0000095c aed1           2756 	sub	r14,r26
                        2757 --890:         PosX = PosX % pix_per_align_step;
0000095e 235f1100       2758 	ld.w	16[sp],r11
00000962 ebdffcda       2759 	divq	r11,r27,r27
                        2760 .L2375:
                        2761 --891:     }
                        2762 --893:     if((Width > 0)&&(Height > 0))
00000966 e0d1           2763 	cmp	zero,r26
00000968 a725*          2764 	ble	.L2381
0000096a e0e9           2765 	cmp	zero,r29
0000096c 8725*          2766 	ble	.L2381
                        2767 --894:     {
                        2768 --895:         if (R_VDCE_ERR_OK != R_VDCE_LayerMemGeometrySet(Unit, Layer, Pitch, Height))
                        2769 --line895
                        2770 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.163::
                        2771 .LDWlin163:
0000096e 233f1d00       2772 	ld.w	28[sp],r7
00000972 1c30           2773 	mov	r28,r6
00000974 23474100       2774 	ld.w	64[sp],r8
00000978 1d48           2775 	mov	r29,r9
                        2776 	jarl	_R_VDCE_LayerMemGeometrySet,lp
                        2776 <EXPANSION BEGIN>
                        2776 jarl22 _R_VDCE_LayerMemGeometrySet , lp 
0000097a 80ff0000*      2776 <EXPANSION END>
0000097e e051           2777 	cmp	zero,r10
00000980 b205*          2778 	be	.L2384
                        2779 --896:         {
                        2780 --897:             return 0;
                        2781 --line897
                        2782 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.164::
                        2783 .LDWlin164:
00000982 0052           2784 	mov	0,r10
00000984 c535*          2785 	br	.L2371
                        2786 .L2384:
                        2787 --898:         }
                        2788 --899:         if (R_VDCE_ERR_OK != R_VDCE_LayerViewPortSet(Unit, Layer, 0, 0, PosX, PosY, Width, Height))

                                                                      Page 49
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        2789 --line899
                        2790 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.165::
                        2791 .LDWlin165:
00000986 233f1d00       2792 	ld.w	28[sp],r7
0000098a 1c30           2793 	mov	r28,r6
0000098c 63df0100       2794 	st.w	r27,0[sp]
00000990 0042           2795 	mov	0,r8
00000992 63cf0500       2796 	st.w	r25,4[sp]
00000996 004a           2797 	mov	0,r9
00000998 63d70900       2798 	st.w	r26,8[sp]
0000099c 63ef0d00       2799 	st.w	r29,12[sp]
                        2800 	jarl	_R_VDCE_LayerViewPortSet,lp
                        2800 <EXPANSION BEGIN>
                        2800 jarl22 _R_VDCE_LayerViewPortSet , lp 
000009a0 80ff0000*      2800 <EXPANSION END>
000009a4 e051           2801 	cmp	zero,r10
000009a6 b205*          2802 	be	.L2381
                        2803 --900:         {
                        2804 --901:             return 0;
                        2805 --line901
                        2806 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.166::
                        2807 .LDWlin166:
000009a8 0052           2808 	mov	0,r10
000009aa 9525*          2809 	br	.L2371
                        2810 .L2381:
                        2811 --902:         }
                        2812 --903:     }
                        2813 --905:     if (Win->Status == R_WM_WINSTATUS_ENABLED)
                        2814 --line905
                        2815 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.167::
                        2816 .LDWlin167:
000009ac 235f2100       2817 	ld.w	32[sp],r11
000009b0 2b0f0100       2818 	ld.w	0[r11],r1
000009b4 620a           2819 	cmp	2,r1
000009b6 aa1d*          2820 	bne	.L2390
                        2821 --906:     {
                        2822 --907:         if((Width <= 0)||(Height <= 0))
                        2823 --line907
                        2824 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.168::
                        2825 .LDWlin168:
000009b8 e0d1           2826 	cmp	zero,r26
000009ba b705*          2827 	ble	.L2393
000009bc e0e9           2828 	cmp	zero,r29
000009be 9f0d*          2829 	bgt	.L2392
                        2830 .L2393:
                        2831 --908:         {
                        2832 --909:             err = loc_VDCE_LayerDisable(Unit, Layer);
                        2833 --line909
                        2834 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.169::
                        2835 .LDWlin169:
000009c0 233f1d00       2836 	ld.w	28[sp],r7
000009c4 1c30           2837 	mov	r28,r6
                        2838 	jarl	_loc_VDCE_LayerDisable,lp
                        2838 <EXPANSION BEGIN>
                        2838 jarl22 _loc_VDCE_LayerDisable , lp 
000009c6 80ff0802*      2838 <EXPANSION END>
000009ca 63571500       2839 	st.w	r10,20[sp]
000009ce 850d*          2840 	br	.L2395
                        2841 .L2392:
                        2842 --910:         }
                        2843 --911:         else

                                                                      Page 50
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        2844 --912:         {
                        2845 --913:             err = loc_VDCE_LayerEnable(Unit, Layer);
                        2846 --line913
                        2847 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.170::
                        2848 .LDWlin170:
000009d0 233f1d00       2849 	ld.w	28[sp],r7
000009d4 1c30           2850 	mov	r28,r6
                        2851 	jarl	_loc_VDCE_LayerEnable,lp
                        2851 <EXPANSION BEGIN>
                        2851 jarl22 _loc_VDCE_LayerEnable , lp 
000009d6 80ffa201*      2851 <EXPANSION END>
000009da 63571500       2852 	st.w	r10,20[sp]
                        2853 .L2395:
                        2854 --914:         }
                        2855 --915:         if (R_VDCE_ERR_OK != err)
                        2856 --line915
                        2857 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.171::
                        2858 .LDWlin171:
000009de 235f1500       2859 	ld.w	20[sp],r11
000009e2 e059           2860 	cmp	zero,r11
000009e4 b205*          2861 	be	.L2390
                        2862 --916:         {
                        2863 --917:             R_WM_SYS_REPORT_ERROR(Unit, R_WM_ERR_VOUT_INTERNAL, err);
                        2864 --918:             return 0;
                        2865 --line918
                        2866 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.172::
                        2867 .LDWlin172:
000009e6 0052           2868 	mov	0,r10
000009e8 a505*          2869 	br	.L2371
                        2870 .L2390:
                        2871 --919:         }
                        2872 --920:     }
                        2873 --921:     return 1;
                        2874 --line921
                        2875 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.173::
                        2876 .LDWlin173:
000009ea 0152           2877 	mov	1,r10
                        2878 .L2371:
                        2879 --	    .ef
                        2880 .LDW14:
000009ec 5206ff70       2881 	dispose	9,{r25,r26,r27,r28,r29,r31},[lp]
                        2882 	.type	_loc_WinSetViewportAndGeom,@function
                        2883 	.size	_loc_WinSetViewportAndGeom,.-_loc_WinSetViewportAndGeom
                        2884 	.type	_loc_WinSetViewportAndGeom..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.,@function
                        2885 	.size	_loc_WinSetViewportAndGeom..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.,.-_loc_WinSetViewportAndGeom..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.
                        2886 	.align	2
                        2887 .LDW24:
                        2888 --_err	20[sp]	local
                        2889 --_pix_per_align_step	16[sp]	local
                        2890 
                        2891 --_Unit	r28	param
                        2892 --_Win	32[sp]	param
                        2893 --_Layer	28[sp]	param
                        2894 --_PosX	r27	param
                        2895 --_PosY	r25	param
                        2896 --_Pitch	64[sp]	param
                        2897 --_Width	r26	param
                        2898 --_Height	r29	param
                        2899 --_Bpp	76[sp]	param
                        2900 
                        2901 	.section ".bss","awb"

                                                                      Page 51
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        2902 .L2506:
                        2903 	.type	.L2506,@object
                        2904 	.size	.L2506,0
                        2905 	.data
                        2906 	.text
                        2907 
                        2908 --922: }
                        2909 
                        2910 --924: /***********************************************************
                        2911 --925:   Function: loc_WinSetFb
                        2912 --926: */
                        2913 --927: static uint32_t loc_WinSetFb   (   uint32_t            Unit,
                        2914 	.align	2
                        2915 	.align	2
                        2916 	.global	_loc_WinSetFb..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.
                        2917 _loc_WinSetFb..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.:
                        2918 _loc_WinSetFb:
000009f0 8c07e170       2919 	prepare	{r25,r26,r27,r28,r29,r31},6
000009f4 634f1500       2920 	st.w	r9,20[sp]
000009f8 63471100       2921 	st.w	r8,16[sp]
000009fc 07e0           2922 	mov	r7,r28
000009fe 23ef3100       2923 	ld.w	48[sp],r29
00000a02 06c8           2924 	mov	r6,r25
                        2925 --	    .bf
                        2926 .LDW34:
                        2927 --928:                             const r_wm_Window_t *Win,
                        2928 --929:                             int32_t             PosX,
                        2929 --930:                             int32_t             PosY,
                        2930 --931:                             const void          *Fb
                        2931 --932:                         )
                        2932 --933: {
                        2933 --934:     r_wm_sys_vdce_WinLayerPair_t* win_layer_pair = loc_WM_WinLayerPairGet(Unit, Win);
00000a04 1930           2934 	mov	r25,r6
00000a06 1c38           2935 	mov	r28,r7
                        2936 	jarl	_loc_WM_WinLayerPairGet,lp
                        2936 <EXPANSION BEGIN>
                        2936 jarl22 _loc_WM_WinLayerPairGet , lp 
00000a08 bfffd0f6*      2936 <EXPANSION END>
00000a0c 63570500       2937 	st.w	r10,4[sp]
                        2938 --935:     uint32_t Bpp = R_WM_ColorFmtBitsPerPixGet(Win->ColorFmt);
                        2939 --line935
                        2940 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.174::
                        2941 .LDWlin174:
00000a10 3c370900       2942 	ld.w	8[r28],r6
                        2943 	jarl	_R_WM_ColorFmtBitsPerPixGet,lp
                        2943 <EXPANSION BEGIN>
                        2943 jarl22 _R_WM_ColorFmtBitsPerPixGet , lp 
00000a14 80ff0000*      2943 <EXPANSION END>
00000a18 63570100       2944 	st.w	r10,0[sp]
                        2945 --936:     int32_t add_h = 0;
                        2946 --line936
                        2947 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.175::
                        2948 .LDWlin175:
00000a1c 00da           2949 	mov	0,r27
                        2950 --937:     int32_t add_v = 0;
00000a1e 00d2           2951 	mov	0,r26
                        2952 --938:     if (Bpp == 0)
00000a20 235f0100       2953 	ld.w	0[sp],r11
00000a24 e059           2954 	cmp	zero,r11
00000a26 ca05*          2955 	bne	.L2589
                        2956 --939:     {

                                                                      Page 52
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        2957 --940:         Bpp = 1;
                        2958 --line940
                        2959 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.176::
                        2960 .LDWlin176:
00000a28 015a           2961 	mov	1,r11
00000a2a 635f0100       2962 	st.w	r11,0[sp]
                        2963 .L2589:
                        2964 --941:     }
                        2965 --942:     
                        2966 --943:     if (win_layer_pair == R_NULL)
00000a2e 235f0500       2967 	ld.w	4[sp],r11
00000a32 e059           2968 	cmp	zero,r11
00000a34 ca05*          2969 	bne	.L2591
                        2970 --944:     {
                        2971 --945:         R_WM_SYS_REPORT_ERROR(Unit, R_WM_ERR_NO_PHYS_WINDOW, 0);
                        2972 --946:         return 0;
                        2973 --line946
                        2974 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.177::
                        2975 .LDWlin177:
00000a36 0052           2976 	mov	0,r10
00000a38 80070a01*      2977 	br	.L2587
                        2978 .L2591:
                        2979 --947:     }
                        2980 --949:     if (R_WM_Priv_WindowIsRleLayer(Win) == 1)
                        2981 --line949
                        2982 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.178::
                        2983 .LDWlin178:
00000a3c 1c30           2984 	mov	r28,r6
                        2985 	jarl	_R_WM_Priv_WindowIsRleLayer,lp
                        2985 <EXPANSION BEGIN>
                        2985 jarl22 _R_WM_Priv_WindowIsRleLayer , lp 
00000a3e 80ff0000*      2985 <EXPANSION END>
00000a42 6152           2986 	cmp	1,r10
00000a44 aa25*          2987 	bne	.L2594
                        2988 --950:     {
                        2989 --951:         /* Only Certain Windows (D1M1A) / only the Root window (Other Devices) may be an RLE window */
                        2990 --952:         if ( R_WM_WINCAPBS_RLE != loc_WM_Sys_WindowCapabilitiesGet ( Unit, win_layer_pair->Layer ) )
                        2991 --line952
                        2992 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.179::
                        2993 .LDWlin179:
00000a46 235f0500       2994 	ld.w	4[sp],r11
00000a4a 1930           2995 	mov	r25,r6
00000a4c 2b3f0500       2996 	ld.w	4[r11],r7
                        2997 	jarl	_loc_WM_Sys_WindowCapabilitiesGet,lp
                        2997 <EXPANSION BEGIN>
                        2997 jarl22 _loc_WM_Sys_WindowCapabilitiesGet , lp 
00000a50 80ff5802*      2997 <EXPANSION END>
00000a54 e051           2998 	cmp	zero,r10
00000a56 b205*          2999 	be	.L2596
                        3000 --953:         {
                        3001 --954:             R_WM_SYS_REPORT_ERROR(Unit, R_WM_ERR_NO_PHYS_WINDOW, 0);
                        3002 --955:             return 0; /* R_WM_ERR_NO_PHYS_WINDOW */
                        3003 --line955
                        3004 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.180::
                        3005 .LDWlin180:
00000a58 0052           3006 	mov	0,r10
00000a5a c575*          3007 	br	.L2587
                        3008 .L2596:
                        3009 --956:         }
                        3010 --958:         /* RLE Buffers must be 128-byte aligned */
                        3011 --959:         if (0 != ((uint32_t)Fb&0x0000007Fu) )

                                                                      Page 53
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        3012 --line959
                        3013 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.181::
                        3014 .LDWlin181:
00000a5c dd067f00       3015 	andi	127,r29,zero
00000a60 b205*          3016 	be	.L2599
                        3017 --960:         {
                        3018 --961:             R_WM_SYS_REPORT_ERROR(Unit, R_WM_ERR_ADDRESS_ALIGNMENT, 0);
                        3019 --962:             return 0; /* R_WM_ERR_ADDRESS_ALIGNMENT */
                        3020 --line962
                        3021 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.182::
                        3022 .LDWlin182:
00000a62 0052           3023 	mov	0,r10
00000a64 f56d*          3024 	br	.L2587
                        3025 .L2599:
                        3026 --963:         }
                        3027 --965:         if (0 == loc_SetRle(Unit, win_layer_pair->Layer, Win->ColorFmt, (uint32_t)Fb))
                        3028 --line965
                        3029 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.183::
                        3030 .LDWlin183:
00000a66 235f0500       3031 	ld.w	4[sp],r11
00000a6a 1930           3032 	mov	r25,r6
00000a6c 3c470900       3033 	ld.w	8[r28],r8
00000a70 1d48           3034 	mov	r29,r9
00000a72 2b3f0500       3035 	ld.w	4[r11],r7
                        3036 	jarl	_loc_SetRle,lp
                        3036 <EXPANSION BEGIN>
                        3036 jarl22 _loc_SetRle , lp 
00000a76 bffff2f6*      3036 <EXPANSION END>
00000a7a e051           3037 	cmp	zero,r10
00000a7c ba05*          3038 	bne	.L2602
                        3039 --966:         {
                        3040 --967:             return 0;
                        3041 --line967
                        3042 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.184::
                        3043 .LDWlin184:
00000a7e 0052           3044 	mov	0,r10
00000a80 9565*          3045 	br	.L2587
                        3046 .L2602:
                        3047 --968:         }
                        3048 --970:         /* set the address of the virtual layer */
                        3049 --971:         Fb = (void*)0x30000000u;
                        3050 --line971
                        3051 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.185::
                        3052 .LDWlin185:
00000a82 40ee0030       3053 	movhi	hi(805306368),zero,r29
00000a86 f505*          3054 	br	.L2605
                        3055 .L2594:
                        3056 --972:     }
                        3057 --973:     else if (Win->Mode == R_WM_WINMODE_SPRITES)
                        3058 --line973
                        3059 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.186::
                        3060 .LDWlin186:
00000a88 3c0f0500       3061 	ld.w	4[r28],r1
00000a8c 610a           3062 	cmp	1,r1
00000a8e ba05*          3063 	bne	.L2605
                        3064 --974:     {
                        3065 --975:         /* set the address of the virtual layer */
                        3066 --976:         Fb = (void*)0x30000000u;
                        3067 --line976
                        3068 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.187::
                        3069 .LDWlin187:

                                                                      Page 54
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
00000a90 40ee0030       3070 	movhi	hi(805306368),zero,r29
                        3071 .L2605:
                        3072 --977:     }
                        3073 --978:     else
                        3074 --979:     {
                        3075 --980:     }
                        3076 --981:     
                        3077 --982:     /* check if the negative start position workaround is needed */
                        3078 --983:     if (R_WM_Priv_WindowIsRleLayer(Win) == 0)
00000a94 1c30           3079 	mov	r28,r6
                        3080 	jarl	_R_WM_Priv_WindowIsRleLayer,lp
                        3080 <EXPANSION BEGIN>
                        3080 jarl22 _R_WM_Priv_WindowIsRleLayer , lp 
00000a96 80ff0000*      3080 <EXPANSION END>
00000a9a e051           3081 	cmp	zero,r10
00000a9c ea45*          3082 	bne	.L2609
                        3083 --984:     {
                        3084 --985:         if  (PosY < 0)
                        3085 --line985
                        3086 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.188::
                        3087 .LDWlin188:
00000a9e 235f1500       3088 	ld.w	20[sp],r11
00000aa2 e059           3089 	cmp	zero,r11
00000aa4 ce05*          3090 	bge	.L2611
                        3091 --986:         {
                        3092 --987:             /* Move the Window up out of the screen by changing the start address stribe-by-stride */
                        3093 --988:             add_v = -PosY;
                        3094 --line988
                        3095 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.189::
                        3096 .LDWlin189:
00000aa6 23d71500       3097 	ld.w	20[sp],r26
00000aaa 80d1           3098 	subr	zero,r26
                        3099 .L2611:
                        3100 --989:         }
                        3101 --990:         if  (PosX < 0)
00000aac 235f1100       3102 	ld.w	16[sp],r11
00000ab0 e059           3103 	cmp	zero,r11
00000ab2 8e35*          3104 	bge	.L2613
                        3105 --991:         {
                        3106 --	    .bs
                        3107 .LDW44:
                        3108 --992:             /* Instead of directly adjusting the layer's position on the screen, 
                        3109 --993:                it is also possible to change the base address of the layer.
                        3110 --994:                By increasing the base address you effectively move the layer to the left.
                        3111 --995:                
                        3112 --996:                A crucial point of this method is, the VDCE's Layer Base Adress must 
                        3113 --997:                be 128Byte aligned. This is 32px for 4BPP, 64px for 2BPP, etc...
                        3114 --998:                So this method works best, if there is a reserve of 32px, 64px, etc 
                        3115 --999:                in the blanking width to be used with conventional moving.
                        3116 --1000:                
                        3117 --1001:                As a consequence, moving by changing the base address can only be used 
                        3118 --1002:                when the reserve is equal or bigger than 32px, 64px, etc..
                        3119 --1003:             */
                        3120 --1004:             int32_t pix_per_align_step = (128 / Bpp) * 8;
                        3121 --line1004
                        3122 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.190::
                        3123 .LDWlin190:
00000ab4 235f0100       3124 	ld.w	0[sp],r11
00000ab8 200e8000       3125 	movea	128,zero,r1
00000abc eb0ffe02       3126 	divqu	r11,r1,zero
00000ac0 c30a           3127 	shl	3,r1

                                                                      Page 55
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
00000ac2 630f0900       3128 	st.w	r1,8[sp]
                        3129 --1005:             
                        3130 --1006:             /* If PosX exceeds conventional moving range, check if requested PosX can be served by address shifting */
                        3131 --1007:             if ( (0 > (r_wm_DevSys[Unit].HorizontalMoveReserve + PosX)) && 
00000ac6 19f0           3132 	mov	r25,ep
00000ac8 fe00           3133 	sxh	ep
00000aca fef66000       3134 	mulhi	96,ep,ep
00000ace 2b0600000000*  3135 	mov	_r_wm_DevSys,r11
00000ad4 230f1100       3136 	ld.w	16[sp],r1
00000ad8 cbf1           3137 	add	r11,ep
00000ada 2e75           3138 	sld.w	92[ep],r14
00000adc ce09           3139 	add	r14,r1
00000ade 8c15*          3140 	bp	.L2615
00000ae0 19f0           3141 	mov	r25,ep
00000ae2 fe00           3142 	sxh	ep
00000ae4 fef66000       3143 	mulhi	96,ep,ep
00000ae8 2b0600000000*  3144 	mov	_r_wm_DevSys,r11
00000aee 23670900       3145 	ld.w	8[sp],r12
00000af2 cbf1           3146 	add	r11,ep
00000af4 2e0d           3147 	sld.w	92[ep],r1
00000af6 e161           3148 	cmp	r1,r12
00000af8 b705*          3149 	ble	.L2615
                        3150 --1008:                  (pix_per_align_step>r_wm_DevSys[Unit].HorizontalMoveReserve) )
                        3151 --1009:             {
                        3152 --1010:                 R_WM_SYS_REPORT_ERROR(Unit, R_WM_ERR_SYS_WIN_MOVE_FAILED, 0);
                        3153 --1011:                 return 0;
                        3154 --line1011
                        3155 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.191::
                        3156 .LDWlin191:
00000afa 0052           3157 	mov	0,r10
00000afc b525*          3158 	br	.L2587
                        3159 .L2615:
                        3160 --1012:             }
                        3161 --1013:             
                        3162 --1014:             /* Increase address aligned to 128Byte steps */
                        3163 --1015:             add_h = (int32_t)((uint32_t)(-PosX) & ~(uint32_t)(pix_per_align_step - 1u));
                        3164 --line1015
                        3165 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.192::
                        3166 .LDWlin192:
00000afe 235f0900       3167 	ld.w	8[sp],r11
00000b02 230f1100       3168 	ld.w	16[sp],r1
00000b06 0b76ffff       3169 	addi	-1,r11,r14
00000b0a 2e70           3170 	not	r14,r14
00000b0c 0ed8           3171 	mov	r14,r27
00000b0e 8009           3172 	subr	zero,r1
00000b10 41d9           3173 	and	r1,r27
                        3174 --	    .es
                        3175 .LDW54:
                        3176 .L2613:
                        3177 --1016:         }
                        3178 --1017:         Fb = Fb +  (((add_h + (add_v * Win->Pitch)) * Bpp) / 8);
00000b12 3c0f1900       3179 	ld.w	24[r28],r1
00000b16 235f0100       3180 	ld.w	0[sp],r11
00000b1a fa0f2202       3181 	mulu	r26,r1,zero
00000b1e db09           3182 	add	r27,r1
00000b20 eb0f2202       3183 	mulu	r11,r1,zero
00000b24 830a           3184 	shr	3,r1
00000b26 c1e9           3185 	add	r1,r29
                        3186 .L2609:
                        3187 --1018:     }
                        3188 --1019:     

                                                                      Page 56
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        3189 --1020:     if (R_VDCE_ERR_OK != R_VDCE_LayerBaseSet(Unit, win_layer_pair->Layer, (uint32_t)Fb))
00000b28 235f0500       3190 	ld.w	4[sp],r11
00000b2c 1930           3191 	mov	r25,r6
00000b2e 1d40           3192 	mov	r29,r8
00000b30 2b3f0500       3193 	ld.w	4[r11],r7
                        3194 	jarl	_R_VDCE_LayerBaseSet,lp
                        3194 <EXPANSION BEGIN>
                        3194 jarl22 _R_VDCE_LayerBaseSet , lp 
00000b34 80ff0000*      3194 <EXPANSION END>
00000b38 e051           3195 	cmp	zero,r10
00000b3a b205*          3196 	be	.L2619
                        3197 --1021:     {
                        3198 --1022:         return 0;
                        3199 --line1022
                        3200 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.193::
                        3201 .LDWlin193:
00000b3c 0052           3202 	mov	0,r10
00000b3e a505*          3203 	br	.L2587
                        3204 .L2619:
                        3205 --1023:     }
                        3206 --1024:     return 1;
                        3207 --line1024
                        3208 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.194::
                        3209 .LDWlin194:
00000b40 0152           3210 	mov	1,r10
                        3211 .L2587:
                        3212 --	    .ef
                        3213 .LDW64:
00000b42 4c06ff70       3214 	dispose	6,{r25,r26,r27,r28,r29,r31},[lp]
                        3215 	.type	_loc_WinSetFb,@function
                        3216 	.size	_loc_WinSetFb,.-_loc_WinSetFb
                        3217 	.type	_loc_WinSetFb..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.,@function
                        3218 	.size	_loc_WinSetFb..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.,.-_loc_WinSetFb..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.
                        3219 	.align	2
                        3220 .LDW74:
                        3221 --_win_layer_pair	4[sp]	local
                        3222 --_Bpp	0[sp]	local
                        3223 --_add_h	r27	local
                        3224 --_add_v	r26	local
                        3225 --_pix_per_align_step	8[sp]	local
                        3226 
                        3227 --_Unit	r25	param
                        3228 --_Win	r28	param
                        3229 --_PosX	16[sp]	param
                        3230 --_PosY	20[sp]	param
                        3231 --_Fb	r29	param
                        3232 
                        3233 	.section ".bss","awb"
                        3234 .L2758:
                        3235 	.type	.L2758,@object
                        3236 	.size	.L2758,0
                        3237 	.data
                        3238 	.text
                        3239 
                        3240 --1025: }
                        3241 
                        3242 --1027: /***********************************************************
                        3243 --1028:   Function: loc_WinGetOnScreenFb
                        3244 --1029: */
                        3245 --1030: static const void* loc_WinGetOnScreenFb(const r_wm_Window_t *Win)
                        3246 	.align	2

                                                                      Page 57
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        3247 	.align	2
                        3248 	.global	_loc_WinGetOnScreenFb..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.
                        3249 _loc_WinGetOnScreenFb..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.:
                        3250 _loc_WinGetOnScreenFb:
00000b46 06f0           3251 	mov	r6,ep
                        3252 --	    .bf
                        3253 .LDW84:
                        3254 --1031: {
                        3255 --1032:     uint32_t i;
                        3256 --1033:     for (i = 0; i < Win->Surface.Fb.BufNum; ++i)
00000b48 000a           3257 	mov	0,r1
00000b4a 9515*          3258 	br	.L2865
                        3259 .L2864:
                        3260 --1034:     {
                        3261 --1035:         if (Win->Surface.Fb.Buffer[i].Status == R_WM_WINBUF_ON_SCREEN)
                        3262 --line1035
                        3263 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.195::
                        3264 .LDWlin195:
00000b4c 166d           3265 	sld.w	44[ep],r13
00000b4e 0170           3266 	mov	r1,r14
00000b50 c372           3267 	shl	3,r14
00000b52 cd71           3268 	add	r13,r14
00000b54 2e770500       3269 	ld.w	4[r14],r14
00000b58 6372           3270 	cmp	3,r14
00000b5a 8a0d*          3271 	bne	.L2863
                        3272 --1036:         {
                        3273 --1037:             return Win->Surface.Fb.Buffer[i].Data;
                        3274 --line1037
                        3275 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.196::
                        3276 .LDWlin196:
00000b5c 166d           3277 	sld.w	44[ep],r13
00000b5e 0170           3278 	mov	r1,r14
00000b60 c372           3279 	shl	3,r14
00000b62 cd71           3280 	add	r13,r14
00000b64 2e570100       3281 	ld.w	0[r14],r10
00000b68 f505*          3282 	br	.L2860
                        3283 .L2863:
                        3284 --line1033
                        3285 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.197::
                        3286 .LDWlin197:
00000b6a 410a           3287 	add	1,r1
                        3288 .L2865:
00000b6c 9e773100       3289 	ld.bu	48[ep],r14
00000b70 ee09           3290 	cmp	r14,r1
00000b72 d1ed*          3291 	bl	.L2864
                        3292 --1038:         }
                        3293 --1039:     }
                        3294 --1040:     return 0;
                        3295 --line1040
                        3296 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.198::
                        3297 .LDWlin198:
00000b74 0052           3298 	mov	0,r10
                        3299 .L2860:
                        3300 --	    .ef
                        3301 .LDW94:
00000b76 7f00           3302 	jmp	[lp]
                        3303 	.type	_loc_WinGetOnScreenFb,@function
                        3304 	.size	_loc_WinGetOnScreenFb,.-_loc_WinGetOnScreenFb
                        3305 	.type	_loc_WinGetOnScreenFb..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.,@function
                        3306 	.size	_loc_WinGetOnScreenFb..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.,.-_loc_WinGetOnScreenFb..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.
                        3307 	.align	2

                                                                      Page 58
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        3308 .LDW05:
                        3309 --_i	r1	local
                        3310 
                        3311 --_Win	ep	param
                        3312 
                        3313 	.section ".bss","awb"
                        3314 .L2918:
                        3315 	.type	.L2918,@object
                        3316 	.size	.L2918,0
                        3317 	.data
                        3318 	.text
                        3319 
                        3320 --1041: }
                        3321 
                        3322 --1044: /***********************************************************
                        3323 --1045:   Function: loc_VDCE_LayerEnable
                        3324 --1046: */
                        3325 --1047: static const r_vdce_Error_t loc_VDCE_LayerEnable(uint32_t Unit, uint32_t Layer)
                        3326 	.align	2
                        3327 	.align	2
                        3328 	.global	_loc_VDCE_LayerEnable..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.
                        3329 _loc_VDCE_LayerEnable..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.:
                        3330 _loc_VDCE_LayerEnable:
00000b78 8007e130       3331 	prepare	{r26,r27,r28,r29,r31},0
00000b7c 06e0           3332 	mov	r6,r28
00000b7e 07d8           3333 	mov	r7,r27
00000b80 3a0600000000*  3334 	mov	_r_wm_DevSys,r26
                        3335 --	    .bf
                        3336 .LDW15:
                        3337 --1048: {
                        3338 --1049:     r_vdce_Error_t vdce_err = R_VDCE_ERR_OK;
00000b86 00ea           3339 	mov	0,r29
                        3340 --1050:     if (0 == r_wm_DevSys[Unit].HwLayerEnabled[Layer])
00000b88 1c08           3341 	mov	r28,r1
00000b8a e100           3342 	sxh	r1
00000b8c e10e6000       3343 	mulhi	96,r1,r1
00000b90 1bf0           3344 	mov	r27,ep
00000b92 c2f2           3345 	shl	2,ep
00000b94 da09           3346 	add	r26,r1
00000b96 010e3400       3347 	addi	52,r1,r1
00000b9a c1f1           3348 	add	r1,ep
00000b9c 000d           3349 	sld.w	0[ep],r1
00000b9e e009           3350 	cmp	zero,r1
00000ba0 ca15*          3351 	bne	.L2950
                        3352 --1051:     {
                        3353 --1052:         vdce_err = R_VDCE_LayerEnable(Unit, Layer);
                        3354 --line1052
                        3355 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.199::
                        3356 .LDWlin199:
00000ba2 1c30           3357 	mov	r28,r6
00000ba4 1b38           3358 	mov	r27,r7
                        3359 	jarl	_R_VDCE_LayerEnable,lp
                        3359 <EXPANSION BEGIN>
                        3359 jarl22 _R_VDCE_LayerEnable , lp 
00000ba6 80ff0000*      3359 <EXPANSION END>
00000baa 0ae8           3360 	mov	r10,r29
                        3361 --1053:         
                        3362 --1054:         if (R_VDCE_ERR_OK == vdce_err)
                        3363 --line1054
                        3364 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.200::
                        3365 .LDWlin200:

                                                                      Page 59
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
00000bac e0e9           3366 	cmp	zero,r29
00000bae da0d*          3367 	bne	.L2950
                        3368 --1055:         {
                        3369 --1056:             r_wm_DevSys[Unit].HwLayerEnabled[Layer] = 1;
                        3370 --line1056
                        3371 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.201::
                        3372 .LDWlin201:
00000bb0 1c08           3373 	mov	r28,r1
00000bb2 e100           3374 	sxh	r1
00000bb4 e10e6000       3375 	mulhi	96,r1,r1
00000bb8 1bf0           3376 	mov	r27,ep
00000bba c2f2           3377 	shl	2,ep
00000bbc da09           3378 	add	r26,r1
00000bbe 010e3400       3379 	addi	52,r1,r1
00000bc2 c1f1           3380 	add	r1,ep
00000bc4 010a           3381 	mov	1,r1
00000bc6 010d           3382 	sst.w	r1,0[ep]
                        3383 .L2950:
                        3384 --1057:         }
                        3385 --1058:     }
                        3386 --1059:     
                        3387 --1060:     return vdce_err;
00000bc8 1d50           3388 	mov	r29,r10
                        3389 --	    .ef
                        3390 .LDW25:
00000bca 4006ff30       3391 	dispose	0,{r26,r27,r28,r29,r31},[lp]
                        3392 	.type	_loc_VDCE_LayerEnable,@function
                        3393 	.size	_loc_VDCE_LayerEnable,.-_loc_VDCE_LayerEnable
                        3394 	.type	_loc_VDCE_LayerEnable..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.,@function
                        3395 	.size	_loc_VDCE_LayerEnable..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.,.-_loc_VDCE_LayerEnable..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.
                        3396 	.align	2
                        3397 .LDW35:
                        3398 --_vdce_err	r29	local
                        3399 
                        3400 --_Unit	r28	param
                        3401 --_Layer	r27	param
                        3402 
                        3403 	.section ".bss","awb"
                        3404 .L2994:
                        3405 	.type	.L2994,@object
                        3406 	.size	.L2994,0
                        3407 	.data
                        3408 	.text
                        3409 
                        3410 --1061: }
                        3411 
                        3412 --1063: /***********************************************************
                        3413 --1064:   Function: loc_VDCE_LayerDisable
                        3414 --1065: */
                        3415 --1066: static const r_vdce_Error_t loc_VDCE_LayerDisable(uint32_t Unit, uint32_t Layer)
                        3416 	.align	2
                        3417 	.align	2
                        3418 	.global	_loc_VDCE_LayerDisable..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.
                        3419 _loc_VDCE_LayerDisable..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.:
                        3420 _loc_VDCE_LayerDisable:
00000bce 8007e130       3421 	prepare	{r26,r27,r28,r29,r31},0
00000bd2 06e0           3422 	mov	r6,r28
00000bd4 07d8           3423 	mov	r7,r27
00000bd6 3a0600000000*  3424 	mov	_r_wm_DevSys,r26
                        3425 --	    .bf
                        3426 .LDW45:

                                                                      Page 60
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        3427 --1067: {
                        3428 --1068:     r_vdce_Error_t vdce_err = R_VDCE_ERR_OK;
00000bdc 00ea           3429 	mov	0,r29
                        3430 --1069:     if (1 == r_wm_DevSys[Unit].HwLayerEnabled[Layer])
00000bde 1c08           3431 	mov	r28,r1
00000be0 e100           3432 	sxh	r1
00000be2 e10e6000       3433 	mulhi	96,r1,r1
00000be6 1bf0           3434 	mov	r27,ep
00000be8 c2f2           3435 	shl	2,ep
00000bea da09           3436 	add	r26,r1
00000bec 010e3400       3437 	addi	52,r1,r1
00000bf0 c1f1           3438 	add	r1,ep
00000bf2 000d           3439 	sld.w	0[ep],r1
00000bf4 610a           3440 	cmp	1,r1
00000bf6 ba15*          3441 	bne	.L3023
                        3442 --1070:     {
                        3443 --1071:         vdce_err = R_VDCE_LayerDisable(Unit, Layer);
                        3444 --line1071
                        3445 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.202::
                        3446 .LDWlin202:
00000bf8 1c30           3447 	mov	r28,r6
00000bfa 1b38           3448 	mov	r27,r7
                        3449 	jarl	_R_VDCE_LayerDisable,lp
                        3449 <EXPANSION BEGIN>
                        3449 jarl22 _R_VDCE_LayerDisable , lp 
00000bfc 80ff0000*      3449 <EXPANSION END>
00000c00 0ae8           3450 	mov	r10,r29
                        3451 --1073:         if (R_VDCE_ERR_OK == vdce_err)
                        3452 --line1073
                        3453 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.203::
                        3454 .LDWlin203:
00000c02 e0e9           3455 	cmp	zero,r29
00000c04 ca0d*          3456 	bne	.L3023
                        3457 --1074:         {
                        3458 --1075:             r_wm_DevSys[Unit].HwLayerEnabled[Layer] = 0;
                        3459 --line1075
                        3460 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.204::
                        3461 .LDWlin204:
00000c06 1c08           3462 	mov	r28,r1
00000c08 e100           3463 	sxh	r1
00000c0a e10e6000       3464 	mulhi	96,r1,r1
00000c0e 1bf0           3465 	mov	r27,ep
00000c10 c2f2           3466 	shl	2,ep
00000c12 da09           3467 	add	r26,r1
00000c14 010e3400       3468 	addi	52,r1,r1
00000c18 c1f1           3469 	add	r1,ep
00000c1a 0105           3470 	sst.w	zero,0[ep]
                        3471 .L3023:
                        3472 --1076:         }
                        3473 --1077:     }
                        3474 --1078:     
                        3475 --1079:     return vdce_err;
00000c1c 1d50           3476 	mov	r29,r10
                        3477 --	    .ef
                        3478 .LDW55:
00000c1e 4006ff30       3479 	dispose	0,{r26,r27,r28,r29,r31},[lp]
                        3480 	.type	_loc_VDCE_LayerDisable,@function
                        3481 	.size	_loc_VDCE_LayerDisable,.-_loc_VDCE_LayerDisable
                        3482 	.type	_loc_VDCE_LayerDisable..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.,@function
                        3483 	.size	_loc_VDCE_LayerDisable..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.,.-_loc_VDCE_LayerDisable..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.
                        3484 	.align	2

                                                                      Page 61
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        3485 .LDW65:
                        3486 --_vdce_err	r29	local
                        3487 
                        3488 --_Unit	r28	param
                        3489 --_Layer	r27	param
                        3490 
                        3491 	.section ".bss","awb"
                        3492 .L3074:
                        3493 	.type	.L3074,@object
                        3494 	.size	.L3074,0
                        3495 	.data
                        3496 	.text
                        3497 
                        3498 --1080: }
                        3499 
                        3500 --1085: /***********************************************************
                        3501 --1086:   Section: WM Driver Support Functions
                        3502 --1087:   
                        3503 --1088:   Comments see: <WM Support Functions>
                        3504 --1089: */
                        3505 --1092: /***********************************************************
                        3506 --1093:   Group: WM Basic interface functions
                        3507 --1094: */
                        3508 --1097:    
                        3509 --1098: /***********************************************************
                        3510 --1099:   Function: R_WM_Sys_DevRootWinSet
                        3511 --1100: */
                        3512 --1101: void R_WM_Sys_DevRootWindowSet(uint32_t Unit, r_wm_Window_t* RootWin)
                        3513 	.align	2
                        3514 	.align	2
                        3515 	.global	_R_WM_Sys_DevRootWindowSet
                        3516 _R_WM_Sys_DevRootWindowSet:
00000c22 0608           3517 	mov	r6,r1
00000c24 0770           3518 	mov	r7,r14
                        3519 --	    .bf
                        3520 .LDW75:
                        3521 --1102: {
                        3522 --1103:     r_wm_DevSys[Unit].RootWin = RootWin;
00000c26 01f0           3523 	mov	r1,ep
00000c28 fe00           3524 	sxh	ep
00000c2a fef66000       3525 	mulhi	96,ep,ep
00000c2e 2c0600000000*  3526 	mov	_r_wm_DevSys,r12
00000c34 ccf1           3527 	add	r12,ep
00000c36 2375           3528 	sst.w	r14,68[ep]
                        3529 --1104: }
                        3530 --	    .ef
                        3531 .LDW85:
00000c38 7f00           3532 	jmp	[lp]
                        3533 	.type	_R_WM_Sys_DevRootWindowSet,@function
                        3534 	.size	_R_WM_Sys_DevRootWindowSet,.-_R_WM_Sys_DevRootWindowSet
                        3535 	.align	2
                        3536 .LDW95:
                        3537 
                        3538 --_Unit	r1	param
                        3539 --_RootWin	r14	param
                        3540 
                        3541 	.section ".bss","awb"
                        3542 .L3122:
                        3543 	.type	.L3122,@object
                        3544 	.size	.L3122,0
                        3545 	.data

                                                                      Page 62
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        3546 	.text
                        3547 
                        3548 
                        3549 --1107: /***********************************************************
                        3550 --1108:   Group: WM Video Output Window interface
                        3551 --1109: */
                        3552 --1112: /***********************************************************
                        3553 --1113:   Function: R_WM_Sys_WindowSetFb
                        3554 --1114: */
                        3555 --1115: uint32_t R_WM_Sys_WindowSetFb(uint32_t Unit, const r_wm_Window_t* Win, const void* Fb)
                        3556 	.align	2
                        3557 	.align	2
                        3558 	.global	_R_WM_Sys_WindowSetFb
                        3559 _R_WM_Sys_WindowSetFb:
00000c3a 8207e110       3560 	prepare	{r27,r28,r29,r31},1
00000c3e 06e0           3561 	mov	r6,r28
00000c40 07e8           3562 	mov	r7,r29
00000c42 08d8           3563 	mov	r8,r27
                        3564 --	    .bf
                        3565 .LDW06:
                        3566 --1116: {
                        3567 --1117:     return loc_WinSetFb(Unit, Win, Win->PosX, Win->PosY, Fb);
00000c44 3d470d00       3568 	ld.w	12[r29],r8
00000c48 1c30           3569 	mov	r28,r6
00000c4a 3d4f1100       3570 	ld.w	16[r29],r9
00000c4e 1d38           3571 	mov	r29,r7
00000c50 63df0100       3572 	st.w	r27,0[sp]
                        3573 	jarl	_loc_WinSetFb,lp
                        3573 <EXPANSION BEGIN>
                        3573 jarl22 _loc_WinSetFb , lp 
00000c54 bfff9cfd*      3573 <EXPANSION END>
                        3574 --	    .ef
                        3575 .LDW16:
                        3576 --line1118
                        3577 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.205::
                        3578 .LDWlin205:
00000c58 4206ff10       3579 	dispose	1,{r27,r28,r29,r31},[lp]
                        3580 	.type	_R_WM_Sys_WindowSetFb,@function
                        3581 	.size	_R_WM_Sys_WindowSetFb,.-_R_WM_Sys_WindowSetFb
                        3582 	.align	2
                        3583 .LDW26:
                        3584 
                        3585 --_Unit	r28	param
                        3586 --_Win	r29	param
                        3587 --_Fb	r27	param
                        3588 
                        3589 	.section ".bss","awb"
                        3590 .L3166:
                        3591 	.type	.L3166,@object
                        3592 	.size	.L3166,0
                        3593 	.data
                        3594 	.text
                        3595 
                        3596 --1118: }
                        3597 
                        3598 --1120: /***********************************************************
                        3599 --1121:   Function: R_WM_Sys_WindowCapabilitiesSet
                        3600 --1122: */
                        3601 --1123: uint32_t R_WM_Sys_WindowCapabilitiesSet (   r_wm_WinCapbs_t Capability0,
                        3602 	.align	2
                        3603 	.align	2

                                                                      Page 63
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        3604 	.global	_R_WM_Sys_WindowCapabilitiesSet
                        3605 _R_WM_Sys_WindowCapabilitiesSet:
00000c5c 8007e170       3606 	prepare	{r25,r26,r27,r28,r29,r31},0
00000c60 06e0           3607 	mov	r6,r28
00000c62 07d8           3608 	mov	r7,r27
00000c64 08d0           3609 	mov	r8,r26
00000c66 09c8           3610 	mov	r9,r25
00000c68 3d0600000000*  3611 	mov	_r_wm_DevCabps,r29
                        3612 --	    .bf
                        3613 .LDW36:
                        3614 --1124:                                             r_wm_WinCapbs_t Capability1,
                        3615 --1125:                                             r_wm_WinCapbs_t Capability2,
                        3616 --1126:                                             r_wm_WinCapbs_t Capability3
                        3617 --1127:                                          )
                        3618 --1128: {
                        3619 --1129:     r_wm_DevCabps[0] = Capability0;
00000c6e 7de70100       3620 	st.w	r28,0[r29]
                        3621 --1130:     r_wm_DevCabps[1] = Capability1;
00000c72 7ddf0500       3622 	st.w	r27,4[r29]
                        3623 --1131:     r_wm_DevCabps[2] = Capability2;
00000c76 7dd70900       3624 	st.w	r26,8[r29]
                        3625 --1132:     r_wm_DevCabps[3] = Capability3;
00000c7a 7dcf0d00       3626 	st.w	r25,12[r29]
                        3627 --1133:     
                        3628 --1134:     if (R_SPEA_ERR_OK != R_SPEA_UnitCapabilitiesSet (
00000c7e e0e1           3629 	cmp	zero,r28
00000c80 ea370000       3630 	setfne	r6
00000c84 e0d9           3631 	cmp	zero,r27
00000c86 ea3f0000       3632 	setfne	r7
00000c8a e0d1           3633 	cmp	zero,r26
00000c8c ea470000       3634 	setfne	r8
00000c90 e0c9           3635 	cmp	zero,r25
00000c92 ea4f0000       3636 	setfne	r9
                        3637 	jarl	_R_SPEA_UnitCapabilitiesSet,lp
                        3637 <EXPANSION BEGIN>
                        3637 jarl22 _R_SPEA_UnitCapabilitiesSet , lp 
00000c96 80ff0000*      3637 <EXPANSION END>
00000c9a e051           3638 	cmp	zero,r10
00000c9c b205*          3639 	be	.L3180
                        3640 --1135:         ( (Capability0 == R_WM_WINCAPBS_RLE) ? R_SPEA_SPEACAPBS_RLE : R_SPEA_SPEACAPBS_SPRITE ),
                        3641 --1136:         ( (Capability1 == R_WM_WINCAPBS_RLE) ? R_SPEA_SPEACAPBS_RLE : R_SPEA_SPEACAPBS_SPRITE ),
                        3642 --1137:         ( (Capability2 == R_WM_WINCAPBS_RLE) ? R_SPEA_SPEACAPBS_RLE : R_SPEA_SPEACAPBS_SPRITE ),
                        3643 --1138:         ( (Capability3 == R_WM_WINCAPBS_RLE) ? R_SPEA_SPEACAPBS_RLE : R_SPEA_SPEACAPBS_SPRITE ) ) )
                        3644 --1139:     {
                        3645 --1140:         return 0;
                        3646 --line1140
                        3647 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.206::
                        3648 .LDWlin206:
00000c9e 0052           3649 	mov	0,r10
00000ca0 a505*          3650 	br	.L3178
                        3651 .L3180:
                        3652 --1141:     }
                        3653 --1142:     
                        3654 --1143:     return 1;
                        3655 --line1143
                        3656 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.207::
                        3657 .LDWlin207:
00000ca2 0152           3658 	mov	1,r10
                        3659 .L3178:
                        3660 --	    .ef
                        3661 .LDW46:

                                                                      Page 64
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
00000ca4 4006ff70       3662 	dispose	0,{r25,r26,r27,r28,r29,r31},[lp]
                        3663 	.type	_R_WM_Sys_WindowCapabilitiesSet,@function
                        3664 	.size	_R_WM_Sys_WindowCapabilitiesSet,.-_R_WM_Sys_WindowCapabilitiesSet
                        3665 	.align	2
                        3666 .LDW56:
                        3667 
                        3668 --_Capability0	r28	param
                        3669 --_Capability1	r27	param
                        3670 --_Capability2	r26	param
                        3671 --_Capability3	r25	param
                        3672 
                        3673 	.section ".bss","awb"
                        3674 .L3222:
                        3675 	.type	.L3222,@object
                        3676 	.size	.L3222,0
                        3677 	.data
                        3678 	.text
                        3679 
                        3680 --1144: }
                        3681 
                        3682 --1146: static r_wm_WinCapbs_t loc_WM_Sys_WindowCapabilitiesGet ( uint32_t Unit, uint32_t Layer )
                        3683 	.align	2
                        3684 	.align	2
                        3685 	.global	_loc_WM_Sys_WindowCapabilitiesGet..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.
                        3686 _loc_WM_Sys_WindowCapabilitiesGet..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.:
                        3687 _loc_WM_Sys_WindowCapabilitiesGet:
00000ca8 0668           3688 	mov	r6,r13
00000caa 0770           3689 	mov	r7,r14
00000cac 3e0600000000*  3690 	mov	_r_wm_DevCabps,ep
                        3691 --	    .bf
                        3692 .LDW66:
                        3693 --1147: {
                        3694 --1148:     r_wm_WinCapbs_t retval;
                        3695 --1149:     
                        3696 --1150:     if (0 == Unit)
00000cb2 e069           3697 	cmp	zero,r13
00000cb4 fa05*          3698 	bne	.L3254
                        3699 --1151:     {
                        3700 --1152:         /* Linear mapping for Unit 0 */
                        3701 --1153:         retval = r_wm_DevCabps[Layer];
                        3702 --line1153
                        3703 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.208::
                        3704 .LDWlin208:
00000cb6 0e60           3705 	mov	r14,r12
00000cb8 c262           3706 	shl	2,r12
00000cba de61           3707 	add	ep,r12
00000cbc 2c0f0100       3708 	ld.w	0[r12],r1
00000cc0 a515*          3709 	br	.L3256
                        3710 .L3254:
                        3711 --1154:     }
                        3712 --1155:     else
                        3713 --1156:     {
                        3714 --1157:         /* Different mapping for Unit 1 */
                        3715 --1158:         switch(Layer) {
                        3716 --line1158
                        3717 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.209::
                        3718 .LDWlin209:
00000cc2 0e08           3719 	mov	r14,r1
00000cc4 610a           3720 	cmp	1,r1
00000cc6 e105*          3721 	bl	.L3259
00000cc8 f205*          3722 	be	.L3260

                                                                      Page 65
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
00000cca 630a           3723 	cmp	3,r1
00000ccc f105*          3724 	bl	.L3261
00000cce ab0d*          3725 	bh	.L3263
00000cd0 f505*          3726 	br	.L3262
                        3727 .L3259:
                        3728 --1159:         case 0:
                        3729 --1160:             retval = r_wm_DevCabps[0];
                        3730 --line1160
                        3731 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.210::
                        3732 .LDWlin210:
00000cd2 000d           3733 	sld.w	0[ep],r1
00000cd4 850d*          3734 	br	.L3256
                        3735 .L3260:
                        3736 --1161:             break;
                        3737 --1162:         case 1:
                        3738 --1163:             retval = r_wm_DevCabps[3];
                        3739 --line1163
                        3740 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.211::
                        3741 .LDWlin211:
00000cd6 060d           3742 	sld.w	12[ep],r1
00000cd8 e505*          3743 	br	.L3256
                        3744 .L3261:
                        3745 --1164:             break;
                        3746 --1165:         case 2:
                        3747 --1166:             retval = r_wm_DevCabps[2];
                        3748 --line1166
                        3749 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.212::
                        3750 .LDWlin212:
00000cda 040d           3751 	sld.w	8[ep],r1
00000cdc c505*          3752 	br	.L3256
                        3753 .L3262:
                        3754 --1167:             break;
                        3755 --1168:         case 3:
                        3756 --1169:             retval = r_wm_DevCabps[1];
                        3757 --line1169
                        3758 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.213::
                        3759 .LDWlin213:
00000cde 020d           3760 	sld.w	4[ep],r1
00000ce0 a505*          3761 	br	.L3256
                        3762 .L3263:
                        3763 --line1172
                        3764 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.214::
                        3765 .LDWlin214:
00000ce2 0000           3766 	nop
                        3767 .L3256:
                        3768 --1170:             break;
                        3769 --1171:         default:
                        3770 --1172:             break;
                        3771 --1173:         }
                        3772 --1174:     }
                        3773 --1175:     return retval;
00000ce4 0150           3774 	mov	r1,r10
                        3775 --	    .ef
                        3776 .LDW76:
00000ce6 7f00           3777 	jmp	[lp]
                        3778 	.type	_loc_WM_Sys_WindowCapabilitiesGet,@function
                        3779 	.size	_loc_WM_Sys_WindowCapabilitiesGet,.-_loc_WM_Sys_WindowCapabilitiesGet
                        3780 	.type	_loc_WM_Sys_WindowCapabilitiesGet..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.,@function
                        3781 	.size	_loc_WM_Sys_WindowCapabilitiesGet..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.,.-_loc_WM_Sys_WindowCapabilitiesGet..C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.
                        3782 	.align	2
                        3783 .LDW86:

                                                                      Page 66
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        3784 --_retval	r1	local
                        3785 
                        3786 --_Unit	r13	param
                        3787 --_Layer	r14	param
                        3788 
                        3789 	.section ".bss","awb"
                        3790 .L3326:
                        3791 	.type	.L3326,@object
                        3792 	.size	.L3326,0
                        3793 	.data
                        3794 	.text
                        3795 
                        3796 --1176: }
                        3797 
                        3798 --1178: /***********************************************************
                        3799 --1179:   Function: R_WM_Sys_WindowCreate
                        3800 --1180: */
                        3801 --1181: uint32_t R_WM_Sys_WindowCreate(uint32_t Unit, const r_wm_Window_t* Win)
                        3802 	.align	2
                        3803 	.align	2
                        3804 	.global	_R_WM_Sys_WindowCreate
                        3805 _R_WM_Sys_WindowCreate:
00000ce8 8007e100       3806 	prepare	{r28,r29,r31},0
00000cec 06e8           3807 	mov	r6,r29
00000cee 07e0           3808 	mov	r7,r28
                        3809 --	    .bf
                        3810 .LDW96:
                        3811 --1182: {
                        3812 --1183:     return loc_WM_WinReconfAll(Unit);
00000cf0 1d30           3813 	mov	r29,r6
                        3814 	jarl	_loc_WM_WinReconfAll,lp
                        3814 <EXPANSION BEGIN>
                        3814 jarl22 _loc_WM_WinReconfAll , lp 
00000cf2 bfff60f7*      3814 <EXPANSION END>
                        3815 --	    .ef
                        3816 .LDW07:
                        3817 --line1184
                        3818 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.215::
                        3819 .LDWlin215:
00000cf6 4006ff00       3820 	dispose	0,{r28,r29,r31},[lp]
                        3821 	.type	_R_WM_Sys_WindowCreate,@function
                        3822 	.size	_R_WM_Sys_WindowCreate,.-_R_WM_Sys_WindowCreate
                        3823 	.align	2
                        3824 .LDW17:
                        3825 
                        3826 --_Unit	r29	param
                        3827 --_Win	r28	param
                        3828 
                        3829 	.section ".bss","awb"
                        3830 .L3406:
                        3831 	.type	.L3406,@object
                        3832 	.size	.L3406,0
                        3833 	.data
                        3834 	.text
                        3835 
                        3836 --1184: }
                        3837 
                        3838 --1186: /***********************************************************
                        3839 --1187:   Function: R_WM_Sys_WindowDelete
                        3840 --1188: */
                        3841 --1189: uint32_t R_WM_Sys_WindowDelete(uint32_t Unit, const r_wm_Window_t* Win)

                                                                      Page 67
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        3842 	.align	2
                        3843 	.align	2
                        3844 	.global	_R_WM_Sys_WindowDelete
                        3845 _R_WM_Sys_WindowDelete:
00000cfa 8007e110       3846 	prepare	{r27,r28,r29,r31},0
00000cfe 06e0           3847 	mov	r6,r28
00000d00 07d8           3848 	mov	r7,r27
                        3849 --	    .bf
                        3850 .LDW27:
                        3851 --1190: {
                        3852 --1191:     r_wm_sys_vdce_WinLayerPair_t* win_layer_pair = loc_WM_WinLayerPairGet(Unit, Win);
00000d02 1c30           3853 	mov	r28,r6
00000d04 1b38           3854 	mov	r27,r7
                        3855 	jarl	_loc_WM_WinLayerPairGet,lp
                        3855 <EXPANSION BEGIN>
                        3855 jarl22 _loc_WM_WinLayerPairGet , lp 
00000d06 bfffd2f3*      3855 <EXPANSION END>
00000d0a 0ae8           3856 	mov	r10,r29
                        3857 --1192:     
                        3858 --1193:     if (win_layer_pair == R_NULL)
                        3859 --line1193
                        3860 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.216::
                        3861 .LDWlin216:
00000d0c e0e9           3862 	cmp	zero,r29
00000d0e ba05*          3863 	bne	.L3420
                        3864 --1194:     {
                        3865 --1195:         R_WM_SYS_REPORT_ERROR(Unit, R_WM_ERR_NULL_PTR_ARGUMENT, 0);
                        3866 --1196:         return 0;
                        3867 --line1196
                        3868 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.217::
                        3869 .LDWlin217:
00000d10 0052           3870 	mov	0,r10
00000d12 8515*          3871 	br	.L3418
                        3872 .L3420:
                        3873 --1197:     }
                        3874 --1198:     /* if the layer is enabled, disable the layer */
                        3875 --1199:     if (Win->Status == R_WM_WINSTATUS_ENABLED)
                        3876 --line1199
                        3877 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.218::
                        3878 .LDWlin218:
00000d14 3b0f0100       3879 	ld.w	0[r27],r1
00000d18 620a           3880 	cmp	2,r1
00000d1a ea05*          3881 	bne	.L3423
                        3882 --1200:     {
                        3883 --1201:         loc_VDCE_LayerDisable(Unit, win_layer_pair->Layer);
                        3884 --line1201
                        3885 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.219::
                        3886 .LDWlin219:
00000d1c 3d3f0500       3887 	ld.w	4[r29],r7
00000d20 1c30           3888 	mov	r28,r6
                        3889 	jarl	_loc_VDCE_LayerDisable,lp
                        3889 <EXPANSION BEGIN>
                        3889 jarl22 _loc_VDCE_LayerDisable , lp 
00000d22 bfffacfe*      3889 <EXPANSION END>
                        3890 .L3423:
                        3891 --1202:     }
                        3892 --1203:     win_layer_pair->Win = R_NULL;
                        3893 --line1203
                        3894 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.220::
                        3895 .LDWlin220:
00000d26 7d070100       3896 	st.w	zero,0[r29]

                                                                      Page 68
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        3897 --1204:     win_layer_pair->Layer = LOC_INVALID_LAYER;
00000d2a 1f0a           3898 	mov	-1,r1
00000d2c 7d0f0500       3899 	st.w	r1,4[r29]
                        3900 --1205:     return 1;
00000d30 0152           3901 	mov	1,r10
                        3902 .L3418:
                        3903 --	    .ef
                        3904 .LDW37:
00000d32 4006ff10       3905 	dispose	0,{r27,r28,r29,r31},[lp]
                        3906 	.type	_R_WM_Sys_WindowDelete,@function
                        3907 	.size	_R_WM_Sys_WindowDelete,.-_R_WM_Sys_WindowDelete
                        3908 	.align	2
                        3909 .LDW47:
                        3910 --_win_layer_pair	r29	local
                        3911 
                        3912 --_Unit	r28	param
                        3913 --_Win	r27	param
                        3914 
                        3915 	.section ".bss","awb"
                        3916 .L3466:
                        3917 	.type	.L3466,@object
                        3918 	.size	.L3466,0
                        3919 	.data
                        3920 	.text
                        3921 
                        3922 --1206: }
                        3923 
                        3924 --1208: /***********************************************************
                        3925 --1209:   Function: R_WM_Sys_WindowEnable
                        3926 --1210: */
                        3927 --1211: uint32_t R_WM_Sys_WindowEnable(uint32_t Unit, const r_wm_Window_t* Win, uint32_t Enabled)
                        3928 	.align	2
                        3929 	.align	2
                        3930 	.global	_R_WM_Sys_WindowEnable
                        3931 _R_WM_Sys_WindowEnable:
00000d36 8007e170       3932 	prepare	{r25,r26,r27,r28,r29,r31},0
00000d3a 06d0           3933 	mov	r6,r26
00000d3c 07e8           3934 	mov	r7,r29
00000d3e 08c8           3935 	mov	r8,r25
                        3936 --	    .bf
                        3937 .LDW57:
                        3938 --1212: {
                        3939 --1213:     r_vdce_Error_t err;
                        3940 --1214:     r_wm_sys_vdce_WinLayerPair_t* win_layer_pair = loc_WM_WinLayerPairGet(Unit, Win);
00000d40 1a30           3941 	mov	r26,r6
00000d42 1d38           3942 	mov	r29,r7
                        3943 	jarl	_loc_WM_WinLayerPairGet,lp
                        3943 <EXPANSION BEGIN>
                        3943 jarl22 _loc_WM_WinLayerPairGet , lp 
00000d44 bfff94f3*      3943 <EXPANSION END>
00000d48 0ad8           3944 	mov	r10,r27
                        3945 --1215:     if (win_layer_pair == R_NULL)
                        3946 --line1215
                        3947 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.221::
                        3948 .LDWlin221:
00000d4a e0d9           3949 	cmp	zero,r27
00000d4c ba05*          3950 	bne	.L3501
                        3951 --1216:     {
                        3952 --1217:         R_WM_SYS_REPORT_ERROR(Unit, R_WM_ERR_NULL_PTR_ARGUMENT, 0);
                        3953 --1218:         return 0;
                        3954 --line1218

                                                                      Page 69
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        3955 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.222::
                        3956 .LDWlin222:
00000d4e 0052           3957 	mov	0,r10
00000d50 a535*          3958 	br	.L3499
                        3959 .L3501:
                        3960 --1219:     }
                        3961 --1221:     if (Enabled != 0)
                        3962 --line1221
                        3963 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.223::
                        3964 .LDWlin223:
00000d52 e0c9           3965 	cmp	zero,r25
00000d54 d225*          3966 	be	.L3504
                        3967 --1222:     {
                        3968 --1223:         /* do not allow enabling the layer out of screen limits */
                        3969 --1224:         if (Win->PosY < 0)
                        3970 --line1224
                        3971 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.224::
                        3972 .LDWlin224:
00000d56 3d0f1100       3973 	ld.w	16[r29],r1
00000d5a e009           3974 	cmp	zero,r1
00000d5c ae0d*          3975 	bge	.L3506
                        3976 --1225:         {
                        3977 --1226:             if ((-Win->PosY) >= Win->Height)
                        3978 --line1226
                        3979 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.225::
                        3980 .LDWlin225:
00000d5e 3d0f1100       3981 	ld.w	16[r29],r1
00000d62 3d772100       3982 	ld.w	32[r29],r14
00000d66 8009           3983 	subr	zero,r1
00000d68 ee09           3984 	cmp	r14,r1
00000d6a b105*          3985 	bl	.L3506
                        3986 --1227:             {
                        3987 --1228:                 return 1;
                        3988 --line1228
                        3989 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.226::
                        3990 .LDWlin226:
00000d6c 0152           3991 	mov	1,r10
00000d6e b525*          3992 	br	.L3499
                        3993 .L3506:
                        3994 --1229:             }
                        3995 --1230:         }
                        3996 --1231:         if (Win->PosX < 0)
                        3997 --line1231
                        3998 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.227::
                        3999 .LDWlin227:
00000d70 3d0f0d00       4000 	ld.w	12[r29],r1
00000d74 e009           4001 	cmp	zero,r1
00000d76 ae0d*          4002 	bge	.L3511
                        4003 --1232:         {
                        4004 --1233:             if ((-Win->PosX) >= Win->Width)
                        4005 --line1233
                        4006 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.228::
                        4007 .LDWlin228:
00000d78 3d0f0d00       4008 	ld.w	12[r29],r1
00000d7c 3d771d00       4009 	ld.w	28[r29],r14
00000d80 8009           4010 	subr	zero,r1
00000d82 ee09           4011 	cmp	r14,r1
00000d84 b105*          4012 	bl	.L3511
                        4013 --1234:             {
                        4014 --1235:                 return 1;
                        4015 --line1235

                                                                      Page 70
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        4016 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.229::
                        4017 .LDWlin229:
00000d86 0152           4018 	mov	1,r10
00000d88 e515*          4019 	br	.L3499
                        4020 .L3511:
                        4021 --1236:             }
                        4022 --1237:         }
                        4023 --1238:         err = loc_VDCE_LayerEnable(Unit, win_layer_pair->Layer);
                        4024 --line1238
                        4025 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.230::
                        4026 .LDWlin230:
00000d8a 3b3f0500       4027 	ld.w	4[r27],r7
00000d8e 1a30           4028 	mov	r26,r6
                        4029 	jarl	_loc_VDCE_LayerEnable,lp
                        4029 <EXPANSION BEGIN>
                        4029 jarl22 _loc_VDCE_LayerEnable , lp 
00000d90 bfffe8fd*      4029 <EXPANSION END>
00000d94 0ae0           4030 	mov	r10,r28
                        4031 --1239:         if (R_VDCE_ERR_OK != err)
                        4032 --line1239
                        4033 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.231::
                        4034 .LDWlin231:
00000d96 e0e1           4035 	cmp	zero,r28
00000d98 d20d*          4036 	be	.L3519
                        4037 --1240:         {
                        4038 --1241:             R_WM_SYS_REPORT_ERROR(Unit, R_WM_ERR_VOUT_INTERNAL, err);
                        4039 --1242:             return 0;
                        4040 --line1242
                        4041 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.232::
                        4042 .LDWlin232:
00000d9a 0052           4043 	mov	0,r10
00000d9c c50d*          4044 	br	.L3499
                        4045 .L3504:
                        4046 --1243:         }
                        4047 --1244:     }
                        4048 --1245:     else
                        4049 --1246:     {
                        4050 --1247:         err = loc_VDCE_LayerDisable(Unit, win_layer_pair->Layer);
                        4051 --line1247
                        4052 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.233::
                        4053 .LDWlin233:
00000d9e 3b3f0500       4054 	ld.w	4[r27],r7
00000da2 1a30           4055 	mov	r26,r6
                        4056 	jarl	_loc_VDCE_LayerDisable,lp
                        4056 <EXPANSION BEGIN>
                        4056 jarl22 _loc_VDCE_LayerDisable , lp 
00000da4 bfff2afe*      4056 <EXPANSION END>
00000da8 0ae0           4057 	mov	r10,r28
                        4058 --1248:         if (R_VDCE_ERR_OK != err)
                        4059 --line1248
                        4060 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.234::
                        4061 .LDWlin234:
00000daa e0e1           4062 	cmp	zero,r28
00000dac b205*          4063 	be	.L3519
                        4064 --1249:         {
                        4065 --1250:             R_WM_SYS_REPORT_ERROR(Unit, R_WM_ERR_VOUT_INTERNAL, err);
                        4066 --1251:             return 0;
                        4067 --line1251
                        4068 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.235::
                        4069 .LDWlin235:
00000dae 0052           4070 	mov	0,r10

                                                                      Page 71
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
00000db0 a505*          4071 	br	.L3499
                        4072 .L3519:
                        4073 --1252:         }
                        4074 --1253:     }
                        4075 --1254:     return 1;
                        4076 --line1254
                        4077 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.236::
                        4078 .LDWlin236:
00000db2 0152           4079 	mov	1,r10
                        4080 .L3499:
                        4081 --	    .ef
                        4082 .LDW67:
00000db4 4006ff70       4083 	dispose	0,{r25,r26,r27,r28,r29,r31},[lp]
                        4084 	.type	_R_WM_Sys_WindowEnable,@function
                        4085 	.size	_R_WM_Sys_WindowEnable,.-_R_WM_Sys_WindowEnable
                        4086 	.align	2
                        4087 .LDW77:
                        4088 --_err	r28	local
                        4089 --_win_layer_pair	r27	local
                        4090 
                        4091 --_Unit	r26	param
                        4092 --_Win	r29	param
                        4093 --_Enabled	r25	param
                        4094 
                        4095 	.section ".bss","awb"
                        4096 .L3614:
                        4097 	.type	.L3614,@object
                        4098 	.size	.L3614,0
                        4099 	.data
                        4100 	.text
                        4101 
                        4102 --1255: }
                        4103 
                        4104 --1257: /***********************************************************
                        4105 --1258:   Function: R_WM_Sys_WindowPosSet
                        4106 --1259: */
                        4107 --1260: uint32_t R_WM_Sys_WindowPosSet(uint32_t Unit, const r_wm_Window_t* Win, int32_t PosX, int32_t PosY, int32_t PosZ)
                        4108 	.align	2
                        4109 	.align	2
                        4110 	.global	_R_WM_Sys_WindowPosSet
                        4111 _R_WM_Sys_WindowPosSet:
00000db8 8c07e170       4112 	prepare	{r25,r26,r27,r28,r29,r31},6
00000dbc 06d8           4113 	mov	r6,r27
00000dbe 07e8           4114 	mov	r7,r29
00000dc0 634f1500       4115 	st.w	r9,20[sp]
00000dc4 08c8           4116 	mov	r8,r25
                        4117 --	    .bf
                        4118 .LDW87:
                        4119 --1261: {
                        4120 --1262:     r_wm_sys_vdce_WinLayerPair_t* win_layer_pair;
                        4121 --1263:     const void* fb;
                        4122 --1264:     if (Win->PosZ != PosZ)
00000dc6 3d0f1500       4123 	ld.w	20[r29],r1
00000dca 235f3100       4124 	ld.w	48[sp],r11
00000dce eb09           4125 	cmp	r11,r1
00000dd0 820d*          4126 	be	.L3676
                        4127 --1265:     {
                        4128 --1266:         /* the Z has changed, the windows need to be reassigned to the layers */
                        4129 --1267:         if (0 == loc_WM_WinReconfAll(Unit))
                        4130 --line1267
                        4131 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.237::

                                                                      Page 72
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        4132 .LDWlin237:
00000dd2 1b30           4133 	mov	r27,r6
                        4134 	jarl	_loc_WM_WinReconfAll,lp
                        4134 <EXPANSION BEGIN>
                        4134 jarl22 _loc_WM_WinReconfAll , lp 
00000dd4 bfff7ef6*      4134 <EXPANSION END>
00000dd8 e051           4135 	cmp	zero,r10
00000dda ba05*          4136 	bne	.L3676
                        4137 --1268:         {
                        4138 --1269:             return 0;
                        4139 --line1269
                        4140 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.238::
                        4141 .LDWlin238:
00000ddc 0052           4142 	mov	0,r10
00000dde e545*          4143 	br	.L3674
                        4144 .L3676:
                        4145 --1270:         }
                        4146 --1271:     }
                        4147 --1272:     win_layer_pair = loc_WM_WinLayerPairGet(Unit, Win);
                        4148 --line1272
                        4149 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.239::
                        4150 .LDWlin239:
00000de0 1b30           4151 	mov	r27,r6
00000de2 1d38           4152 	mov	r29,r7
                        4153 	jarl	_loc_WM_WinLayerPairGet,lp
                        4153 <EXPANSION BEGIN>
                        4153 jarl22 _loc_WM_WinLayerPairGet , lp 
00000de4 bffff4f2*      4153 <EXPANSION END>
00000de8 0ad0           4154 	mov	r10,r26
                        4155 --1273:     if (win_layer_pair == R_NULL)
                        4156 --line1273
                        4157 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.240::
                        4158 .LDWlin240:
00000dea e0d1           4159 	cmp	zero,r26
00000dec ba05*          4160 	bne	.L3681
                        4161 --1274:     {
                        4162 --1275:         R_WM_SYS_REPORT_ERROR(Unit, R_WM_ERR_NULL_PTR_ARGUMENT, 0);
                        4163 --1276:         return 0;
                        4164 --line1276
                        4165 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.241::
                        4166 .LDWlin241:
00000dee 0052           4167 	mov	0,r10
00000df0 d53d*          4168 	br	.L3674
                        4169 .L3681:
                        4170 --1277:     }
                        4171 --1278:     if (0 == loc_WinSetViewportAndGeom( Unit,
                        4172 --line1278
                        4173 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.242::
                        4174 .LDWlin242:
00000df2 3d370900       4175 	ld.w	8[r29],r6
                        4176 	jarl	_R_WM_ColorFmtBitsPerPixGet,lp
                        4176 <EXPANSION BEGIN>
                        4176 jarl22 _R_WM_ColorFmtBitsPerPixGet , lp 
00000df6 80ff0000*      4176 <EXPANSION END>
00000dfa 3d771900       4177 	ld.w	24[r29],r14
00000dfe 1b30           4178 	mov	r27,r6
00000e00 3a470500       4179 	ld.w	4[r26],r8
00000e04 1d38           4180 	mov	r29,r7
00000e06 235f1500       4181 	ld.w	20[sp],r11
00000e0a 1948           4182 	mov	r25,r9
00000e0c 63571100       4183 	st.w	r10,16[sp]

                                                                      Page 73
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
00000e10 63770500       4184 	st.w	r14,4[sp]
00000e14 3d771d00       4185 	ld.w	28[r29],r14
00000e18 635f0100       4186 	st.w	r11,0[sp]
00000e1c 63770900       4187 	st.w	r14,8[sp]
00000e20 3d772100       4188 	ld.w	32[r29],r14
00000e24 63770d00       4189 	st.w	r14,12[sp]
                        4190 	jarl	_loc_WinSetViewportAndGeom,lp
                        4190 <EXPANSION BEGIN>
                        4190 jarl22 _loc_WinSetViewportAndGeom , lp 
00000e28 bfffb6fa*      4190 <EXPANSION END>
00000e2c e051           4191 	cmp	zero,r10
00000e2e ba05*          4192 	bne	.L3684
                        4193 --1279:                                         Win,
                        4194 --1280:                                         win_layer_pair->Layer,
                        4195 --1281:                                         PosX,
                        4196 --1282:                                         PosY,
                        4197 --1283:                                         Win->Pitch,
                        4198 --1284:                                         Win->Width,
                        4199 --1285:                                         Win->Height,
                        4200 --1286:                                         R_WM_ColorFmtBitsPerPixGet(Win->ColorFmt) ))
                        4201 --1287:     {
                        4202 --1288:         return 0;
                        4203 --line1288
                        4204 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.243::
                        4205 .LDWlin243:
00000e30 0052           4206 	mov	0,r10
00000e32 c51d*          4207 	br	.L3674
                        4208 .L3684:
                        4209 --1289:     }
                        4210 --1290:     /* due to negative offset workaround, the framebuffer start address might need correction */
                        4211 --1291:     if (Win->Mode != R_WM_WINMODE_SPRITES)
                        4212 --line1291
                        4213 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.244::
                        4214 .LDWlin244:
00000e34 3d0f0500       4215 	ld.w	4[r29],r1
00000e38 610a           4216 	cmp	1,r1
00000e3a 920d*          4217 	be	.L3687
                        4218 --1292:     {
                        4219 --1293:         fb = loc_WinGetOnScreenFb(Win);
                        4220 --line1293
                        4221 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.245::
                        4222 .LDWlin245:
00000e3c 1d30           4223 	mov	r29,r6
                        4224 	jarl	_loc_WinGetOnScreenFb,lp
                        4224 <EXPANSION BEGIN>
                        4224 jarl22 _loc_WinGetOnScreenFb , lp 
00000e3e bfff08fd*      4224 <EXPANSION END>
00000e42 0ae0           4225 	mov	r10,r28
                        4226 --1294:         if (fb == 0)
                        4227 --line1294
                        4228 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.246::
                        4229 .LDWlin246:
00000e44 e0e1           4230 	cmp	zero,r28
00000e46 ca05*          4231 	bne	.L3692
                        4232 --1295:         {
                        4233 --1296:             R_WM_SYS_REPORT_ERROR(Unit, R_WM_ERR_NULL_PTR_ARGUMENT, 0);
                        4234 --1297:             return 0;
                        4235 --line1297
                        4236 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.247::
                        4237 .LDWlin247:
00000e48 0052           4238 	mov	0,r10

                                                                      Page 74
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
00000e4a 8515*          4239 	br	.L3674
                        4240 .L3687:
                        4241 --1298:         }
                        4242 --1299:     }
                        4243 --1300:     else
                        4244 --1301:     {
                        4245 --1302:         fb = 0;
                        4246 --line1302
                        4247 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.248::
                        4248 .LDWlin248:
00000e4c 00e2           4249 	mov	0,r28
                        4250 .L3692:
                        4251 --1303:     }
                        4252 --1304:     
                        4253 --1305:     if (0 == loc_WinSetFb(Unit, Win, PosX, PosY, fb))
00000e4e 234f1500       4254 	ld.w	20[sp],r9
00000e52 1b30           4255 	mov	r27,r6
00000e54 1d38           4256 	mov	r29,r7
00000e56 1940           4257 	mov	r25,r8
00000e58 63e70100       4258 	st.w	r28,0[sp]
                        4259 	jarl	_loc_WinSetFb,lp
                        4259 <EXPANSION BEGIN>
                        4259 jarl22 _loc_WinSetFb , lp 
00000e5c bfff94fb*      4259 <EXPANSION END>
00000e60 e051           4260 	cmp	zero,r10
00000e62 ba05*          4261 	bne	.L3693
                        4262 --1306:     {
                        4263 --1307:         return 0;
                        4264 --line1307
                        4265 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.249::
                        4266 .LDWlin249:
00000e64 0052           4267 	mov	0,r10
00000e66 a505*          4268 	br	.L3674
                        4269 .L3693:
                        4270 --1308:     }
                        4271 --1309:     
                        4272 --1310:     return 1;
                        4273 --line1310
                        4274 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.250::
                        4275 .LDWlin250:
00000e68 0152           4276 	mov	1,r10
                        4277 .L3674:
                        4278 --	    .ef
                        4279 .LDW97:
00000e6a 4c06ff70       4280 	dispose	6,{r25,r26,r27,r28,r29,r31},[lp]
                        4281 	.type	_R_WM_Sys_WindowPosSet,@function
                        4282 	.size	_R_WM_Sys_WindowPosSet,.-_R_WM_Sys_WindowPosSet
                        4283 	.align	2
                        4284 .LDW08:
                        4285 --_win_layer_pair	r26	local
                        4286 --_fb	r28	local
                        4287 
                        4288 --_Unit	r27	param
                        4289 --_Win	r29	param
                        4290 --_PosX	r25	param
                        4291 --_PosY	20[sp]	param
                        4292 --_PosZ	48[sp]	param
                        4293 
                        4294 	.section ".bss","awb"
                        4295 .L3770:
                        4296 	.type	.L3770,@object

                                                                      Page 75
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        4297 	.size	.L3770,0
                        4298 	.data
                        4299 	.text
                        4300 
                        4301 --1311: }
                        4302 
                        4303 --1313: /***********************************************************
                        4304 --1314:   Function: R_WM_Sys_WindowGeomSet
                        4305 --1315: */
                        4306 --1316: uint32_t R_WM_Sys_WindowGeomSet (   uint32_t Unit,
                        4307 	.align	2
                        4308 	.align	2
                        4309 	.global	_R_WM_Sys_WindowGeomSet
                        4310 _R_WM_Sys_WindowGeomSet:
00000e6e 8c07e170       4311 	prepare	{r25,r26,r27,r28,r29,r31},6
00000e72 06d8           4312 	mov	r6,r27
00000e74 07e8           4313 	mov	r7,r29
00000e76 634f1500       4314 	st.w	r9,20[sp]
00000e7a 08c8           4315 	mov	r8,r25
                        4316 --	    .bf
                        4317 .LDW18:
                        4318 --1317:                                     const r_wm_Window_t* Win,
                        4319 --1318:                                     uint32_t Pitch,
                        4320 --1319:                                     uint32_t Width,
                        4321 --1320:                                     uint32_t Height
                        4322 --1321:                                 )
                        4323 --1322: {
                        4324 --1323:     r_vdce_Error_t err;
                        4325 --1324:     r_wm_sys_vdce_WinLayerPair_t* win_layer_pair = loc_WM_WinLayerPairGet(Unit, Win);
00000e7c 1b30           4326 	mov	r27,r6
00000e7e 1d38           4327 	mov	r29,r7
                        4328 	jarl	_loc_WM_WinLayerPairGet,lp
                        4328 <EXPANSION BEGIN>
                        4328 jarl22 _loc_WM_WinLayerPairGet , lp 
00000e80 bfff58f2*      4328 <EXPANSION END>
00000e84 0ae0           4329 	mov	r10,r28
                        4330 --1325:     if (win_layer_pair == R_NULL)
                        4331 --line1325
                        4332 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.251::
                        4333 .LDWlin251:
00000e86 e0e1           4334 	cmp	zero,r28
00000e88 ba05*          4335 	bne	.L3829
                        4336 --1326:     {
                        4337 --1327:         R_WM_SYS_REPORT_ERROR(Unit, R_WM_ERR_NULL_PTR_ARGUMENT, 0);
                        4338 --1328:         return 0;
                        4339 --line1328
                        4340 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.252::
                        4341 .LDWlin252:
00000e8a 0052           4342 	mov	0,r10
00000e8c b53d*          4343 	br	.L3827
                        4344 .L3829:
                        4345 --1329:     }
                        4346 --1330:     if (win_layer_pair->Layer == LOC_INVALID_LAYER)
                        4347 --line1330
                        4348 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.253::
                        4349 .LDWlin253:
00000e8e 3c0f0500       4350 	ld.w	4[r28],r1
00000e92 7f0a           4351 	cmp	-1,r1
00000e94 ba05*          4352 	bne	.L3832
                        4353 --1331:     {
                        4354 --1332:         R_WM_SYS_REPORT_ERROR(Unit, R_WM_ERR_RANGE_WM, 0);

                                                                      Page 76
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        4355 --1333:         return 0;
                        4356 --line1333
                        4357 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.254::
                        4358 .LDWlin254:
00000e96 0052           4359 	mov	0,r10
00000e98 d535*          4360 	br	.L3827
                        4361 .L3832:
                        4362 --1334:     }
                        4363 --1335:     
                        4364 --1336:     /* The Layer must be disabled for geometry configuration */
                        4365 --1337:     loc_VDCE_LayerDisable(Unit, win_layer_pair->Layer);
                        4366 --line1337
                        4367 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.255::
                        4368 .LDWlin255:
00000e9a 3c3f0500       4369 	ld.w	4[r28],r7
00000e9e 1b30           4370 	mov	r27,r6
                        4371 	jarl	_loc_VDCE_LayerDisable,lp
                        4371 <EXPANSION BEGIN>
                        4371 jarl22 _loc_VDCE_LayerDisable , lp 
00000ea0 bfff2efd*      4371 <EXPANSION END>
                        4372 --1338:     
                        4373 --1339:     if (0 == loc_WinSetViewportAndGeom( Unit,
                        4374 --line1339
                        4375 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.256::
                        4376 .LDWlin256:
00000ea4 3d370900       4377 	ld.w	8[r29],r6
                        4378 	jarl	_R_WM_ColorFmtBitsPerPixGet,lp
                        4378 <EXPANSION BEGIN>
                        4378 jarl22 _R_WM_ColorFmtBitsPerPixGet , lp 
00000ea8 80ff0000*      4378 <EXPANSION END>
00000eac 3d771100       4379 	ld.w	16[r29],r14
00000eb0 1b30           4380 	mov	r27,r6
00000eb2 235f1500       4381 	ld.w	20[sp],r11
00000eb6 1d38           4382 	mov	r29,r7
00000eb8 23673100       4383 	ld.w	48[sp],r12
00000ebc 3c470500       4384 	ld.w	4[r28],r8
00000ec0 3d4f0d00       4385 	ld.w	12[r29],r9
00000ec4 63770100       4386 	st.w	r14,0[sp]
00000ec8 63cf0500       4387 	st.w	r25,4[sp]
00000ecc 635f0900       4388 	st.w	r11,8[sp]
00000ed0 63670d00       4389 	st.w	r12,12[sp]
00000ed4 63571100       4390 	st.w	r10,16[sp]
                        4391 	jarl	_loc_WinSetViewportAndGeom,lp
                        4391 <EXPANSION BEGIN>
                        4391 jarl22 _loc_WinSetViewportAndGeom , lp 
00000ed8 bfff06fa*      4391 <EXPANSION END>
00000edc e051           4392 	cmp	zero,r10
00000ede ba05*          4393 	bne	.L3835
                        4394 --1340:                                         Win,
                        4395 --1341:                                         win_layer_pair->Layer,
                        4396 --1342:                                         Win->PosX,
                        4397 --1343:                                         Win->PosY,
                        4398 --1344:                                         Pitch,
                        4399 --1345:                                         Width,
                        4400 --1346:                                         Height,
                        4401 --1347:                                         R_WM_ColorFmtBitsPerPixGet(Win->ColorFmt) ))
                        4402 --1348:     {
                        4403 --1349:         return 0;
                        4404 --line1349
                        4405 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.257::
                        4406 .LDWlin257:

                                                                      Page 77
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
00000ee0 0052           4407 	mov	0,r10
00000ee2 8515*          4408 	br	.L3827
                        4409 .L3835:
                        4410 --1350:     }
                        4411 --1352:     /* If the layer was enabled before configuration, enable it again */
                        4412 --1353:     if (Win->Status == R_WM_WINSTATUS_ENABLED)
                        4413 --line1353
                        4414 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.258::
                        4415 .LDWlin258:
00000ee4 3d0f0100       4416 	ld.w	0[r29],r1
00000ee8 620a           4417 	cmp	2,r1
00000eea ba0d*          4418 	bne	.L3838
                        4419 --1354:     {
                        4420 --1355:         err = loc_VDCE_LayerEnable(Unit, win_layer_pair->Layer);
                        4421 --line1355
                        4422 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.259::
                        4423 .LDWlin259:
00000eec 3c3f0500       4424 	ld.w	4[r28],r7
00000ef0 1b30           4425 	mov	r27,r6
                        4426 	jarl	_loc_VDCE_LayerEnable,lp
                        4426 <EXPANSION BEGIN>
                        4426 jarl22 _loc_VDCE_LayerEnable , lp 
00000ef2 bfff86fc*      4426 <EXPANSION END>
00000ef6 0ad0           4427 	mov	r10,r26
                        4428 --1356:         if (R_VDCE_ERR_OK != err)
                        4429 --line1356
                        4430 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.260::
                        4431 .LDWlin260:
00000ef8 e0d1           4432 	cmp	zero,r26
00000efa b205*          4433 	be	.L3838
                        4434 --1357:         {
                        4435 --1358:             R_WM_SYS_REPORT_ERROR(Unit, R_WM_ERR_VOUT_INTERNAL, err);
                        4436 --1359:             return 0;
                        4437 --line1359
                        4438 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.261::
                        4439 .LDWlin261:
00000efc 0052           4440 	mov	0,r10
00000efe a505*          4441 	br	.L3827
                        4442 .L3838:
                        4443 --1360:         }
                        4444 --1361:     }
                        4445 --1363:     return 1;
                        4446 --line1363
                        4447 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.262::
                        4448 .LDWlin262:
00000f00 0152           4449 	mov	1,r10
                        4450 .L3827:
                        4451 --	    .ef
                        4452 .LDW28:
00000f02 4c06ff70       4453 	dispose	6,{r25,r26,r27,r28,r29,r31},[lp]
                        4454 	.type	_R_WM_Sys_WindowGeomSet,@function
                        4455 	.size	_R_WM_Sys_WindowGeomSet,.-_R_WM_Sys_WindowGeomSet
                        4456 	.align	2
                        4457 .LDW38:
                        4458 --_err	r26	local
                        4459 --_win_layer_pair	r28	local
                        4460 
                        4461 --_Unit	r27	param
                        4462 --_Win	r29	param
                        4463 --_Pitch	r25	param
                        4464 --_Width	20[sp]	param

                                                                      Page 78
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        4465 --_Height	48[sp]	param
                        4466 
                        4467 	.section ".bss","awb"
                        4468 .L3918:
                        4469 	.type	.L3918,@object
                        4470 	.size	.L3918,0
                        4471 	.data
                        4472 	.text
                        4473 
                        4474 --1364: }
                        4475 
                        4476 --1366: /***********************************************************
                        4477 --1367:   Function: R_WM_Sys_WindowColorFmtSet
                        4478 --1368: */
                        4479 --1369: uint32_t R_WM_Sys_WindowColorFmtSet (   uint32_t                Unit,
                        4480 	.align	2
                        4481 	.align	2
                        4482 	.global	_R_WM_Sys_WindowColorFmtSet
                        4483 _R_WM_Sys_WindowColorFmtSet:
00000f06 8007e170       4484 	prepare	{r25,r26,r27,r28,r29,r31},0
00000f0a 06d8           4485 	mov	r6,r27
00000f0c 07e0           4486 	mov	r7,r28
00000f0e 08d0           4487 	mov	r8,r26
                        4488 --	    .bf
                        4489 .LDW48:
                        4490 --1370:                                         const r_wm_Window_t*    Win,
                        4491 --1371:                                         r_wm_WinColorFmt_t      ColorFmt
                        4492 --1372:                                     )
                        4493 --1373: {
                        4494 --1374:     r_vdce_Error_t err;
                        4495 --1375:     r_wm_sys_vdce_WinLayerPair_t* win_layer_pair = loc_WM_WinLayerPairGet(Unit, Win);
00000f10 1b30           4496 	mov	r27,r6
00000f12 1c38           4497 	mov	r28,r7
                        4498 	jarl	_loc_WM_WinLayerPairGet,lp
                        4498 <EXPANSION BEGIN>
                        4498 jarl22 _loc_WM_WinLayerPairGet , lp 
00000f14 bfffc4f1*      4498 <EXPANSION END>
00000f18 0ae8           4499 	mov	r10,r29
                        4500 --1376:     if (win_layer_pair == R_NULL)
                        4501 --line1376
                        4502 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.263::
                        4503 .LDWlin263:
00000f1a e0e9           4504 	cmp	zero,r29
00000f1c ba05*          4505 	bne	.L3968
                        4506 --1377:     {
                        4507 --1378:         R_WM_SYS_REPORT_ERROR(Unit, R_WM_ERR_NULL_PTR_ARGUMENT, 0);
                        4508 --1379:         return 0;
                        4509 --line1379
                        4510 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.264::
                        4511 .LDWlin264:
00000f1e 0052           4512 	mov	0,r10
00000f20 b545*          4513 	br	.L3966
                        4514 .L3968:
                        4515 --1380:     }
                        4516 --1381:     if (win_layer_pair->Layer == LOC_INVALID_LAYER)
                        4517 --line1381
                        4518 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.265::
                        4519 .LDWlin265:
00000f22 3d0f0500       4520 	ld.w	4[r29],r1
00000f26 7f0a           4521 	cmp	-1,r1
00000f28 ba05*          4522 	bne	.L3971

                                                                      Page 79
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        4523 --1382:     {
                        4524 --1383:         R_WM_SYS_REPORT_ERROR(Unit, R_WM_ERR_RANGE_WM, 0);
                        4525 --1384:         return 0;
                        4526 --line1384
                        4527 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.266::
                        4528 .LDWlin266:
00000f2a 0052           4529 	mov	0,r10
00000f2c d53d*          4530 	br	.L3966
                        4531 .L3971:
                        4532 --1385:     }
                        4533 --1386:     
                        4534 --1387:     if ( R_WM_ColorFmtBitsPerPixGet(Win->ColorFmt) != R_WM_ColorFmtBitsPerPixGet(ColorFmt) )
                        4535 --line1387
                        4536 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.267::
                        4537 .LDWlin267:
00000f2e 3c370900       4538 	ld.w	8[r28],r6
                        4539 	jarl	_R_WM_ColorFmtBitsPerPixGet,lp
                        4539 <EXPANSION BEGIN>
                        4539 jarl22 _R_WM_ColorFmtBitsPerPixGet , lp 
00000f32 80ff0000*      4539 <EXPANSION END>
00000f36 0ac8           4540 	mov	r10,r25
00000f38 1a30           4541 	mov	r26,r6
                        4542 	jarl	_R_WM_ColorFmtBitsPerPixGet,lp
                        4542 <EXPANSION BEGIN>
                        4542 jarl22 _R_WM_ColorFmtBitsPerPixGet , lp 
00000f3a 80ff0000*      4542 <EXPANSION END>
00000f3e eac9           4543 	cmp	r10,r25
00000f40 a215*          4544 	be	.L3974
                        4545 --1388:     {
                        4546 --1389:         if (Win->Mode == R_WM_WINMODE_SPRITES)
                        4547 --line1389
                        4548 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.268::
                        4549 .LDWlin268:
00000f42 3c0f0500       4550 	ld.w	4[r28],r1
00000f46 610a           4551 	cmp	1,r1
00000f48 ea0d*          4552 	bne	.L3974
                        4553 --1390:         {
                        4554 --1391:             if (R_VDCE_ERR_OK != R_VDCE_LayerMemGeometrySet(Unit, win_layer_pair->Layer, Win->Pitch, Win->Height))
                        4555 --line1391
                        4556 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.269::
                        4557 .LDWlin269:
00000f4a 3d3f0500       4558 	ld.w	4[r29],r7
00000f4e 1b30           4559 	mov	r27,r6
00000f50 3c471900       4560 	ld.w	24[r28],r8
00000f54 3c4f2100       4561 	ld.w	32[r28],r9
                        4562 	jarl	_R_VDCE_LayerMemGeometrySet,lp
                        4562 <EXPANSION BEGIN>
                        4562 jarl22 _R_VDCE_LayerMemGeometrySet , lp 
00000f58 80ff0000*      4562 <EXPANSION END>
00000f5c e051           4563 	cmp	zero,r10
00000f5e b205*          4564 	be	.L3974
                        4565 --1392:             {
                        4566 --1393:                 return 0;
                        4567 --line1393
                        4568 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.270::
                        4569 .LDWlin270:
00000f60 0052           4570 	mov	0,r10
00000f62 a525*          4571 	br	.L3966
                        4572 .L3974:
                        4573 --1394:             }
                        4574 --1395:         }

                                                                      Page 80
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        4575 --1396:     }
                        4576 --1397:     
                        4577 --1398:     /* The Layer must be disabled for color format configuration */
                        4578 --1399:     loc_VDCE_LayerDisable(Unit, win_layer_pair->Layer);
                        4579 --line1399
                        4580 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.271::
                        4581 .LDWlin271:
00000f64 3d3f0500       4582 	ld.w	4[r29],r7
00000f68 1b30           4583 	mov	r27,r6
                        4584 	jarl	_loc_VDCE_LayerDisable,lp
                        4584 <EXPANSION BEGIN>
                        4584 jarl22 _loc_VDCE_LayerDisable , lp 
00000f6a bfff64fc*      4584 <EXPANSION END>
                        4585 --1400:     
                        4586 --1401:     if (R_VDCE_ERR_OK != R_VDCE_LayerFormatSet(Unit, win_layer_pair->Layer, loc_GetVdceFormat(ColorFmt)))
                        4587 --line1401
                        4588 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.272::
                        4589 .LDWlin272:
00000f6e 1a30           4590 	mov	r26,r6
                        4591 	jarl	_loc_GetVdceFormat,lp
                        4591 <EXPANSION BEGIN>
                        4591 jarl22 _loc_GetVdceFormat , lp 
00000f70 bfff90f0*      4591 <EXPANSION END>
00000f74 3d3f0500       4592 	ld.w	4[r29],r7
00000f78 1b30           4593 	mov	r27,r6
00000f7a 0a40           4594 	mov	r10,r8
                        4595 	jarl	_R_VDCE_LayerFormatSet,lp
                        4595 <EXPANSION BEGIN>
                        4595 jarl22 _R_VDCE_LayerFormatSet , lp 
00000f7c 80ff0000*      4595 <EXPANSION END>
00000f80 e051           4596 	cmp	zero,r10
00000f82 b205*          4597 	be	.L3981
                        4598 --1402:     {
                        4599 --1403:         return 0;
                        4600 --line1403
                        4601 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.273::
                        4602 .LDWlin273:
00000f84 0052           4603 	mov	0,r10
00000f86 8515*          4604 	br	.L3966
                        4605 .L3981:
                        4606 --1404:     }
                        4607 --1405:     
                        4608 --1406:     /* If the layer was enabled before configuration, enable it again */
                        4609 --1407:     if (Win->Status == R_WM_WINSTATUS_ENABLED)
                        4610 --line1407
                        4611 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.274::
                        4612 .LDWlin274:
00000f88 3c0f0100       4613 	ld.w	0[r28],r1
00000f8c 620a           4614 	cmp	2,r1
00000f8e ba0d*          4615 	bne	.L3984
                        4616 --1408:     {
                        4617 --1409:         err = loc_VDCE_LayerEnable(Unit, win_layer_pair->Layer);
                        4618 --line1409
                        4619 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.275::
                        4620 .LDWlin275:
00000f90 3d3f0500       4621 	ld.w	4[r29],r7
00000f94 1b30           4622 	mov	r27,r6
                        4623 	jarl	_loc_VDCE_LayerEnable,lp
                        4623 <EXPANSION BEGIN>
                        4623 jarl22 _loc_VDCE_LayerEnable , lp 
00000f96 bfffe2fb*      4623 <EXPANSION END>

                                                                      Page 81
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
00000f9a 0ac8           4624 	mov	r10,r25
                        4625 --1410:         if (R_VDCE_ERR_OK != err)
                        4626 --line1410
                        4627 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.276::
                        4628 .LDWlin276:
00000f9c e0c9           4629 	cmp	zero,r25
00000f9e b205*          4630 	be	.L3984
                        4631 --1411:         {
                        4632 --1412:             R_WM_SYS_REPORT_ERROR(Unit, R_WM_ERR_VOUT_INTERNAL, err);
                        4633 --1413:             return 0;
                        4634 --line1413
                        4635 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.277::
                        4636 .LDWlin277:
00000fa0 0052           4637 	mov	0,r10
00000fa2 a505*          4638 	br	.L3966
                        4639 .L3984:
                        4640 --1414:         }
                        4641 --1415:     }
                        4642 --1416:     
                        4643 --1417:     return 1;
                        4644 --line1417
                        4645 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.278::
                        4646 .LDWlin278:
00000fa4 0152           4647 	mov	1,r10
                        4648 .L3966:
                        4649 --	    .ef
                        4650 .LDW58:
00000fa6 4006ff70       4651 	dispose	0,{r25,r26,r27,r28,r29,r31},[lp]
                        4652 	.type	_R_WM_Sys_WindowColorFmtSet,@function
                        4653 	.size	_R_WM_Sys_WindowColorFmtSet,.-_R_WM_Sys_WindowColorFmtSet
                        4654 	.align	2
                        4655 .LDW68:
                        4656 --_err	r25	local
                        4657 --_win_layer_pair	r29	local
                        4658 
                        4659 --_Unit	r27	param
                        4660 --_Win	r28	param
                        4661 --_ColorFmt	r26	param
                        4662 
                        4663 	.section ".bss","awb"
                        4664 .L4078:
                        4665 	.type	.L4078,@object
                        4666 	.size	.L4078,0
                        4667 	.data
                        4668 	.text
                        4669 
                        4670 --1418: }
                        4671 
                        4672 --1420: /***********************************************************
                        4673 --1421:   Function: R_WM_Sys_WindowAlphaSet
                        4674 --1422: */
                        4675 --1423: uint32_t R_WM_Sys_WindowAlphaSet(uint32_t Unit, const r_wm_Window_t* Win, uint8_t Alpha)
                        4676 	.align	2
                        4677 	.align	2
                        4678 	.global	_R_WM_Sys_WindowAlphaSet
                        4679 _R_WM_Sys_WindowAlphaSet:
00000faa 8007e170       4680 	prepare	{r25,r26,r27,r28,r29,r31},0
00000fae 06e0           4681 	mov	r6,r28
00000fb0 07d0           4682 	mov	r7,r26
00000fb2 c8ceff00       4683 	andi	255,r8,r25
                        4684 --	    .bf

                                                                      Page 82
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        4685 .LDW78:
                        4686 --1424: {
                        4687 --1425:     r_vdce_Error_t err;
                        4688 --1426:     r_wm_sys_vdce_WinLayerPair_t* win_layer_pair = loc_WM_WinLayerPairGet(Unit, Win);
00000fb6 1c30           4689 	mov	r28,r6
00000fb8 1a38           4690 	mov	r26,r7
                        4691 	jarl	_loc_WM_WinLayerPairGet,lp
                        4691 <EXPANSION BEGIN>
                        4691 jarl22 _loc_WM_WinLayerPairGet , lp 
00000fba bfff1ef1*      4691 <EXPANSION END>
00000fbe 0ae8           4692 	mov	r10,r29
                        4693 --1427:     if (win_layer_pair == R_NULL)
                        4694 --line1427
                        4695 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.279::
                        4696 .LDWlin279:
00000fc0 e0e9           4697 	cmp	zero,r29
00000fc2 ba05*          4698 	bne	.L4140
                        4699 --1428:     {
                        4700 --1429:         R_WM_SYS_REPORT_ERROR(Unit, R_WM_ERR_NULL_PTR_ARGUMENT, 0);
                        4701 --1430:         return 0;
                        4702 --line1430
                        4703 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.280::
                        4704 .LDWlin280:
00000fc4 0052           4705 	mov	0,r10
00000fc6 d51d*          4706 	br	.L4138
                        4707 .L4140:
                        4708 --1431:     }
                        4709 --1432:     
                        4710 --1433:     if (win_layer_pair->Win->ColorKey.Enabled != 0)
                        4711 --line1433
                        4712 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.281::
                        4713 .LDWlin281:
00000fc8 3d0f0100       4714 	ld.w	0[r29],r1
00000fcc 810f4500       4715 	ld.bu	68[r1],r1
00000fd0 e009           4716 	cmp	zero,r1
00000fd2 b205*          4717 	be	.L4143
                        4718 --1434:     {
                        4719 --1435:         R_WM_SYS_REPORT_ERROR(Unit, R_WM_ERR_NO_PHYS_WINDOW, 0);
                        4720 --1436:         return 0;
                        4721 --line1436
                        4722 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.282::
                        4723 .LDWlin282:
00000fd4 0052           4724 	mov	0,r10
00000fd6 d515*          4725 	br	.L4138
                        4726 .L4143:
                        4727 --1437:     }
                        4728 --1438:     
                        4729 --1439:     if ((0 < win_layer_pair->Layer) && (win_layer_pair->Layer < 4))
                        4730 --line1439
                        4731 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.283::
                        4732 .LDWlin283:
00000fd8 3d0f0500       4733 	ld.w	4[r29],r1
00000fdc e009           4734 	cmp	zero,r1
00000fde 8315*          4735 	bnh	.L4146
00000fe0 3d0f0500       4736 	ld.w	4[r29],r1
00000fe4 640a           4737 	cmp	4,r1
00000fe6 c90d*          4738 	bnl	.L4146
                        4739 --1440:     {
                        4740 --1441:         err = R_VDCE_LayerAlphaConstEnable(Unit, win_layer_pair->Layer, Alpha);
                        4741 --line1441
                        4742 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.284::

                                                                      Page 83
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        4743 .LDWlin284:
00000fe8 3d3f0500       4744 	ld.w	4[r29],r7
00000fec 1c30           4745 	mov	r28,r6
00000fee 1940           4746 	mov	r25,r8
                        4747 	jarl	_R_VDCE_LayerAlphaConstEnable,lp
                        4747 <EXPANSION BEGIN>
                        4747 jarl22 _R_VDCE_LayerAlphaConstEnable , lp 
00000ff0 80ff0000*      4747 <EXPANSION END>
00000ff4 0ad8           4748 	mov	r10,r27
                        4749 --1442:         if (err != R_VDCE_ERR_OK)
                        4750 --line1442
                        4751 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.285::
                        4752 .LDWlin285:
00000ff6 e0d9           4753 	cmp	zero,r27
00000ff8 b205*          4754 	be	.L4146
                        4755 --1443:         {
                        4756 --1444:             return 0;
                        4757 --line1444
                        4758 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.286::
                        4759 .LDWlin286:
00000ffa 0052           4760 	mov	0,r10
00000ffc a505*          4761 	br	.L4138
                        4762 .L4146:
                        4763 --1445:         }
                        4764 --1446:     }
                        4765 --1447:     return 1;
                        4766 --line1447
                        4767 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.287::
                        4768 .LDWlin287:
00000ffe 0152           4769 	mov	1,r10
                        4770 .L4138:
                        4771 --	    .ef
                        4772 .LDW88:
00001000 4006ff70       4773 	dispose	0,{r25,r26,r27,r28,r29,r31},[lp]
                        4774 	.type	_R_WM_Sys_WindowAlphaSet,@function
                        4775 	.size	_R_WM_Sys_WindowAlphaSet,.-_R_WM_Sys_WindowAlphaSet
                        4776 	.align	2
                        4777 .LDW98:
                        4778 --_err	r27	local
                        4779 --_win_layer_pair	r29	local
                        4780 
                        4781 --_Unit	r28	param
                        4782 --_Win	r26	param
                        4783 --_Alpha	r25	param
                        4784 
                        4785 	.section ".bss","awb"
                        4786 .L4214:
                        4787 	.type	.L4214,@object
                        4788 	.size	.L4214,0
                        4789 	.data
                        4790 	.text
                        4791 
                        4792 --1448: }
                        4793 
                        4794 --1450: /***********************************************************
                        4795 --1451:   Function: R_WM_Sys_WindowPremultipliedAlphaEnable
                        4796 --1452: */
                        4797 --1453: uint32_t R_WM_Sys_WindowPremultipliedAlphaEnable (uint32_t Unit, const r_wm_Window_t* Win, uint8_t Enabled)
                        4798 	.align	2
                        4799 	.align	2
                        4800 	.global	_R_WM_Sys_WindowPremultipliedAlphaEnable

                                                                      Page 84
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        4801 _R_WM_Sys_WindowPremultipliedAlphaEnable:
00001004 8007e170       4802 	prepare	{r25,r26,r27,r28,r29,r31},0
00001008 06d8           4803 	mov	r6,r27
0000100a 07d0           4804 	mov	r7,r26
0000100c c8ceff00       4805 	andi	255,r8,r25
                        4806 --	    .bf
                        4807 .LDW09:
                        4808 --1454: {
                        4809 --1455:     r_vdce_Error_t err;
                        4810 --1456:     r_wm_sys_vdce_WinLayerPair_t* win_layer_pair = loc_WM_WinLayerPairGet(Unit, Win);
00001010 1b30           4811 	mov	r27,r6
00001012 1a38           4812 	mov	r26,r7
                        4813 	jarl	_loc_WM_WinLayerPairGet,lp
                        4813 <EXPANSION BEGIN>
                        4813 jarl22 _loc_WM_WinLayerPairGet , lp 
00001014 bfffc4f0*      4813 <EXPANSION END>
00001018 0ae8           4814 	mov	r10,r29
                        4815 --1457:     if (win_layer_pair == R_NULL)
                        4816 --line1457
                        4817 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.288::
                        4818 .LDWlin288:
0000101a e0e9           4819 	cmp	zero,r29
0000101c ba05*          4820 	bne	.L4258
                        4821 --1458:     {
                        4822 --1459:         R_WM_SYS_REPORT_ERROR(Unit, R_WM_ERR_NULL_PTR_ARGUMENT, 0);
                        4823 --1460:         return 0;
                        4824 --line1460
                        4825 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.289::
                        4826 .LDWlin289:
0000101e 0052           4827 	mov	0,r10
00001020 8535*          4828 	br	.L4256
                        4829 .L4258:
                        4830 --1461:     }
                        4831 --1462:     
                        4832 --1463:     if ((0 < win_layer_pair->Layer) && (win_layer_pair->Layer < 4))
                        4833 --line1463
                        4834 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.290::
                        4835 .LDWlin290:
00001022 3d0f0500       4836 	ld.w	4[r29],r1
00001026 e009           4837 	cmp	zero,r1
00001028 b32d*          4838 	bnh	.L4261
0000102a 3d0f0500       4839 	ld.w	4[r29],r1
0000102e 640a           4840 	cmp	4,r1
00001030 f925*          4841 	bnl	.L4261
                        4842 --1464:     {
                        4843 --1465:         /* The Layer must be disabled for premultiplied alpha configuration */
                        4844 --1466:         loc_VDCE_LayerDisable(Unit, win_layer_pair->Layer);
                        4845 --line1466
                        4846 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.291::
                        4847 .LDWlin291:
00001032 3d3f0500       4848 	ld.w	4[r29],r7
00001036 1b30           4849 	mov	r27,r6
                        4850 	jarl	_loc_VDCE_LayerDisable,lp
                        4850 <EXPANSION BEGIN>
                        4850 jarl22 _loc_VDCE_LayerDisable , lp 
00001038 bfff96fb*      4850 <EXPANSION END>
                        4851 --1467:         
                        4852 --1468:         if (R_FALSE != Enabled)
                        4853 --line1468
                        4854 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.292::
                        4855 .LDWlin292:

                                                                      Page 85
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
0000103c e0c9           4856 	cmp	zero,r25
0000103e 820d*          4857 	be	.L4264
                        4858 --1469:         {
                        4859 --1470:             err = R_VDCE_LayerPremultipliedAlphaEnable(Unit, win_layer_pair->Layer);
                        4860 --line1470
                        4861 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.293::
                        4862 .LDWlin293:
00001040 3d3f0500       4863 	ld.w	4[r29],r7
00001044 1b30           4864 	mov	r27,r6
                        4865 	jarl	_R_VDCE_LayerPremultipliedAlphaEnable,lp
                        4865 <EXPANSION BEGIN>
                        4865 jarl22 _R_VDCE_LayerPremultipliedAlphaEnable , lp 
00001046 80ff0000*      4865 <EXPANSION END>
0000104a 0ae0           4866 	mov	r10,r28
0000104c f505*          4867 	br	.L4266
                        4868 .L4264:
                        4869 --1471:         }
                        4870 --1472:         else
                        4871 --1473:         {
                        4872 --1474:             err = R_VDCE_LayerPremultipliedAlphaDisable(Unit, win_layer_pair->Layer);
                        4873 --line1474
                        4874 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.294::
                        4875 .LDWlin294:
0000104e 3d3f0500       4876 	ld.w	4[r29],r7
00001052 1b30           4877 	mov	r27,r6
                        4878 	jarl	_R_VDCE_LayerPremultipliedAlphaDisable,lp
                        4878 <EXPANSION BEGIN>
                        4878 jarl22 _R_VDCE_LayerPremultipliedAlphaDisable , lp 
00001054 80ff0000*      4878 <EXPANSION END>
00001058 0ae0           4879 	mov	r10,r28
                        4880 .L4266:
                        4881 --1475:         }
                        4882 --1477:         if (err != R_VDCE_ERR_OK)
                        4883 --line1477
                        4884 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.295::
                        4885 .LDWlin295:
0000105a e0e1           4886 	cmp	zero,r28
0000105c b205*          4887 	be	.L4267
                        4888 --1478:         {
                        4889 --1479:             return 0;
                        4890 --line1479
                        4891 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.296::
                        4892 .LDWlin296:
0000105e 0052           4893 	mov	0,r10
00001060 8515*          4894 	br	.L4256
                        4895 .L4267:
                        4896 --1480:         }
                        4897 --1481:         
                        4898 --1482:         /* If the layer was enabled before configuration, enable it again */
                        4899 --1483:         if (Win->Status == R_WM_WINSTATUS_ENABLED)
                        4900 --line1483
                        4901 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.297::
                        4902 .LDWlin297:
00001062 3a0f0100       4903 	ld.w	0[r26],r1
00001066 620a           4904 	cmp	2,r1
00001068 ba0d*          4905 	bne	.L4261
                        4906 --1484:         {
                        4907 --1485:             err = loc_VDCE_LayerEnable(Unit, win_layer_pair->Layer);
                        4908 --line1485
                        4909 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.298::
                        4910 .LDWlin298:

                                                                      Page 86
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
0000106a 3d3f0500       4911 	ld.w	4[r29],r7
0000106e 1b30           4912 	mov	r27,r6
                        4913 	jarl	_loc_VDCE_LayerEnable,lp
                        4913 <EXPANSION BEGIN>
                        4913 jarl22 _loc_VDCE_LayerEnable , lp 
00001070 bfff08fb*      4913 <EXPANSION END>
00001074 0ae0           4914 	mov	r10,r28
                        4915 --1486:             if (R_VDCE_ERR_OK != err)
                        4916 --line1486
                        4917 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.299::
                        4918 .LDWlin299:
00001076 e0e1           4919 	cmp	zero,r28
00001078 b205*          4920 	be	.L4261
                        4921 --1487:             {
                        4922 --1488:                 return 0;
                        4923 --line1488
                        4924 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.300::
                        4925 .LDWlin300:
0000107a 0052           4926 	mov	0,r10
0000107c a505*          4927 	br	.L4256
                        4928 .L4261:
                        4929 --1489:             }
                        4930 --1490:         }
                        4931 --1491:     }
                        4932 --1492:     return 1;
                        4933 --line1492
                        4934 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.301::
                        4935 .LDWlin301:
0000107e 0152           4936 	mov	1,r10
                        4937 .L4256:
                        4938 --	    .ef
                        4939 .LDW19:
00001080 4006ff70       4940 	dispose	0,{r25,r26,r27,r28,r29,r31},[lp]
                        4941 	.type	_R_WM_Sys_WindowPremultipliedAlphaEnable,@function
                        4942 	.size	_R_WM_Sys_WindowPremultipliedAlphaEnable,.-_R_WM_Sys_WindowPremultipliedAlphaEnable
                        4943 	.align	2
                        4944 .LDW29:
                        4945 --_err	r28	local
                        4946 --_win_layer_pair	r29	local
                        4947 
                        4948 --_Unit	r27	param
                        4949 --_Win	r26	param
                        4950 --_Enabled	r25	param
                        4951 
                        4952 	.section ".bss","awb"
                        4953 .L4362:
                        4954 	.type	.L4362,@object
                        4955 	.size	.L4362,0
                        4956 	.data
                        4957 	.text
                        4958 
                        4959 --1493: }
                        4960 
                        4961 --1495: /***********************************************************
                        4962 --1496:   Function: R_WM_Sys_WindowFlagsUpdate
                        4963 --1497: */
                        4964 --1498: uint32_t R_WM_Sys_WindowFlagsUpdate (uint32_t Unit, const r_wm_Window_t* Win, r_wm_WinFlags_t SetFlags, r_wm_WinFlags_t ClearFlags)
                        4965 	.align	2
                        4966 	.align	2
                        4967 	.global	_R_WM_Sys_WindowFlagsUpdate
                        4968 _R_WM_Sys_WindowFlagsUpdate:

                                                                      Page 87
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
00001084 8207e170       4969 	prepare	{r25,r26,r27,r28,r29,r31},1
00001088 633f0100       4970 	st.w	r7,0[sp]
0000108c 06e0           4971 	mov	r6,r28
0000108e 08d8           4972 	mov	r8,r27
00001090 09d0           4973 	mov	r9,r26
00001092 390600000000*  4974 	mov	_r_wm_DevSys,r25
                        4975 --	    .bf
                        4976 .LDW39:
                        4977 --1499: {
                        4978 --1500:     r_wm_sys_vdce_WinLayerPair_t* win_layer_pair = loc_WM_WinLayerPairGet(Unit, Win);
00001098 233f0100       4979 	ld.w	0[sp],r7
0000109c 1c30           4980 	mov	r28,r6
                        4981 	jarl	_loc_WM_WinLayerPairGet,lp
                        4981 <EXPANSION BEGIN>
                        4981 jarl22 _loc_WM_WinLayerPairGet , lp 
0000109e bfff3af0*      4981 <EXPANSION END>
000010a2 0ae8           4982 	mov	r10,r29
                        4983 --1501:     
                        4984 --1502:     if (win_layer_pair == R_NULL)
                        4985 --line1502
                        4986 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.302::
                        4987 .LDWlin302:
000010a4 e0e9           4988 	cmp	zero,r29
000010a6 ba05*          4989 	bne	.L4421
                        4990 --1503:     {
                        4991 --1504:         R_WM_SYS_REPORT_ERROR(Unit, R_WM_ERR_NULL_PTR_ARGUMENT, 0);
                        4992 --1505:         return 0;
                        4993 --line1505
                        4994 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.303::
                        4995 .LDWlin303:
000010a8 0052           4996 	mov	0,r10
000010aa f54d*          4997 	br	.L4419
                        4998 .L4421:
                        4999 --1506:     }
                        5000 --1507:     
                        5001 --1508:     if ( 0 != ( ((uint32_t)SetFlags) & ((uint32_t)ClearFlags) ) )
                        5002 --line1508
                        5003 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.304::
                        5004 .LDWlin304:
000010ac 1a08           5005 	mov	r26,r1
000010ae 5b09           5006 	and	r27,r1
000010b0 b205*          5007 	be	.L4424
                        5008 --1509:     {
                        5009 --1510:         R_WM_SYS_REPORT_ERROR(Unit, R_WM_ERR_SYS_WIN_FLAG_UPDATE_FAILED, 0);
                        5010 --1511:         return 0;
                        5011 --line1511
                        5012 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.305::
                        5013 .LDWlin305:
000010b2 0052           5014 	mov	0,r10
000010b4 a54d*          5015 	br	.L4419
                        5016 .L4424:
                        5017 --1512:     }
                        5018 --1513:     
                        5019 --1514:     if (1 == r_wm_DevSys[Unit].HwLayerEnabled[win_layer_pair->Layer])
                        5020 --line1514
                        5021 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.306::
                        5022 .LDWlin306:
000010b6 3d770500       5023 	ld.w	4[r29],r14
000010ba 1c08           5024 	mov	r28,r1
000010bc e100           5025 	sxh	r1
000010be e10e6000       5026 	mulhi	96,r1,r1

                                                                      Page 88
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
000010c2 d909           5027 	add	r25,r1
000010c4 c272           5028 	shl	2,r14
000010c6 01f63400       5029 	addi	52,r1,ep
000010ca cef1           5030 	add	r14,ep
000010cc 000d           5031 	sld.w	0[ep],r1
000010ce 610a           5032 	cmp	1,r1
000010d0 aa0d*          5033 	bne	.L4427
                        5034 --1515:     {
                        5035 --1516:         if (R_VDCE_ERR_OK != R_VDCE_LayerDisable(Unit, win_layer_pair->Layer))
                        5036 --line1516
                        5037 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.307::
                        5038 .LDWlin307:
000010d2 3d3f0500       5039 	ld.w	4[r29],r7
000010d6 1c30           5040 	mov	r28,r6
                        5041 	jarl	_R_VDCE_LayerDisable,lp
                        5041 <EXPANSION BEGIN>
                        5041 jarl22 _R_VDCE_LayerDisable , lp 
000010d8 80ff0000*      5041 <EXPANSION END>
000010dc e051           5042 	cmp	zero,r10
000010de b205*          5043 	be	.L4427
                        5044 --1517:         {
                        5045 --1518:             return 0;
                        5046 --line1518
                        5047 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.308::
                        5048 .LDWlin308:
000010e0 0052           5049 	mov	0,r10
000010e2 b535*          5050 	br	.L4419
                        5051 .L4427:
                        5052 --1519:         }
                        5053 --1520:     }
                        5054 --1521:     
                        5055 --1522:     /* Enable vertical mirroring */
                        5056 --1523:     if ( 0 != ( ((uint32_t)SetFlags) & ((uint32_t)R_WM_WINFLAG_V_MIRROR) ) )
                        5057 --line1523
                        5058 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.309::
                        5059 .LDWlin309:
000010e4 db060100       5060 	andi	1,r27,zero
000010e8 b20d*          5061 	be	.L4432
                        5062 --1524:     {
                        5063 --1525:         if (R_VDCE_ERR_OK != R_VDCE_LayerModeSet(Unit, win_layer_pair->Layer, R_VDCE_LAYER_MODE_V_MIRORING) )
                        5064 --line1525
                        5065 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.310::
                        5066 .LDWlin310:
000010ea 3d3f0500       5067 	ld.w	4[r29],r7
000010ee 1c30           5068 	mov	r28,r6
000010f0 0142           5069 	mov	1,r8
                        5070 	jarl	_R_VDCE_LayerModeSet,lp
                        5070 <EXPANSION BEGIN>
                        5070 jarl22 _R_VDCE_LayerModeSet , lp 
000010f2 80ff0000*      5070 <EXPANSION END>
000010f6 e051           5071 	cmp	zero,r10
000010f8 b205*          5072 	be	.L4432
                        5073 --1526:         {
                        5074 --1527:             return 0;
                        5075 --line1527
                        5076 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.311::
                        5077 .LDWlin311:
000010fa 0052           5078 	mov	0,r10
000010fc e525*          5079 	br	.L4419
                        5080 .L4432:
                        5081 --1528:         }

                                                                      Page 89
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        5082 --1529:     }
                        5083 --1531:     /* Disable vertical mirroring */
                        5084 --1532:     if ( 0 != ( ((uint32_t)ClearFlags) & ((uint32_t)R_WM_WINFLAG_V_MIRROR) ) )
                        5085 --line1532
                        5086 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.312::
                        5087 .LDWlin312:
000010fe da060100       5088 	andi	1,r26,zero
00001102 b20d*          5089 	be	.L4437
                        5090 --1533:     {
                        5091 --1534:         if (R_VDCE_ERR_OK != R_VDCE_LayerModeSet(Unit, win_layer_pair->Layer, R_VDCE_LAYER_MODE_NONE) )
                        5092 --line1534
                        5093 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.313::
                        5094 .LDWlin313:
00001104 3d3f0500       5095 	ld.w	4[r29],r7
00001108 1c30           5096 	mov	r28,r6
0000110a 0042           5097 	mov	0,r8
                        5098 	jarl	_R_VDCE_LayerModeSet,lp
                        5098 <EXPANSION BEGIN>
                        5098 jarl22 _R_VDCE_LayerModeSet , lp 
0000110c 80ff0000*      5098 <EXPANSION END>
00001110 e051           5099 	cmp	zero,r10
00001112 b205*          5100 	be	.L4437
                        5101 --1535:         {
                        5102 --1536:             return 0;
                        5103 --line1536
                        5104 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.314::
                        5105 .LDWlin314:
00001114 0052           5106 	mov	0,r10
00001116 951d*          5107 	br	.L4419
                        5108 .L4437:
                        5109 --1537:         }
                        5110 --1538:     }
                        5111 --1539:     
                        5112 --1540:     if (1 == r_wm_DevSys[Unit].HwLayerEnabled[win_layer_pair->Layer])
                        5113 --line1540
                        5114 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.315::
                        5115 .LDWlin315:
00001118 3d770500       5116 	ld.w	4[r29],r14
0000111c 1c08           5117 	mov	r28,r1
0000111e e100           5118 	sxh	r1
00001120 e10e6000       5119 	mulhi	96,r1,r1
00001124 d909           5120 	add	r25,r1
00001126 c272           5121 	shl	2,r14
00001128 01f63400       5122 	addi	52,r1,ep
0000112c cef1           5123 	add	r14,ep
0000112e 000d           5124 	sld.w	0[ep],r1
00001130 610a           5125 	cmp	1,r1
00001132 aa0d*          5126 	bne	.L4442
                        5127 --1541:     {
                        5128 --1542:         if (R_VDCE_ERR_OK != R_VDCE_LayerEnable(Unit, win_layer_pair->Layer))
                        5129 --line1542
                        5130 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.316::
                        5131 .LDWlin316:
00001134 3d3f0500       5132 	ld.w	4[r29],r7
00001138 1c30           5133 	mov	r28,r6
                        5134 	jarl	_R_VDCE_LayerEnable,lp
                        5134 <EXPANSION BEGIN>
                        5134 jarl22 _R_VDCE_LayerEnable , lp 
0000113a 80ff0000*      5134 <EXPANSION END>
0000113e e051           5135 	cmp	zero,r10
00001140 b205*          5136 	be	.L4442

                                                                      Page 90
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        5137 --1543:         {
                        5138 --1544:             return 0;
                        5139 --line1544
                        5140 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.317::
                        5141 .LDWlin317:
00001142 0052           5142 	mov	0,r10
00001144 a505*          5143 	br	.L4419
                        5144 .L4442:
                        5145 --1545:         }
                        5146 --1546:     }
                        5147 --1548:     return 1;
                        5148 --line1548
                        5149 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.318::
                        5150 .LDWlin318:
00001146 0152           5151 	mov	1,r10
                        5152 .L4419:
                        5153 --	    .ef
                        5154 .LDW49:
00001148 4206ff70       5155 	dispose	1,{r25,r26,r27,r28,r29,r31},[lp]
                        5156 	.type	_R_WM_Sys_WindowFlagsUpdate,@function
                        5157 	.size	_R_WM_Sys_WindowFlagsUpdate,.-_R_WM_Sys_WindowFlagsUpdate
                        5158 	.align	2
                        5159 .LDW59:
                        5160 --_win_layer_pair	r29	local
                        5161 
                        5162 --_Unit	r28	param
                        5163 --_Win	0[sp]	param
                        5164 --_SetFlags	r27	param
                        5165 --_ClearFlags	r26	param
                        5166 
                        5167 	.section ".bss","awb"
                        5168 .L4530:
                        5169 	.type	.L4530,@object
                        5170 	.size	.L4530,0
                        5171 	.data
                        5172 	.text
                        5173 
                        5174 --1549: }
                        5175 
                        5176 --1551: /***********************************************************
                        5177 --1552:   Function: R_WM_Sys_WindowClutSet
                        5178 --1553: */
                        5179 --1554: uint32_t R_WM_Sys_WindowClutSet(uint32_t Unit, const r_wm_Window_t* Win, uint32_t NumEntries, const r_wm_ClutEntry_t* Clut)
                        5180 	.align	2
                        5181 	.align	2
                        5182 	.global	_R_WM_Sys_WindowClutSet
                        5183 _R_WM_Sys_WindowClutSet:
0000114c 8207e170       5184 	prepare	{r25,r26,r27,r28,r29,r31},1
00001150 06d8           5185 	mov	r6,r27
00001152 07d0           5186 	mov	r7,r26
00001154 634f0100       5187 	st.w	r9,0[sp]
00001158 08c8           5188 	mov	r8,r25
                        5189 --	    .bf
                        5190 .LDW69:
                        5191 --1555: {
                        5192 --1556:     r_wm_sys_vdce_WinLayerPair_t* win_layer_pair = loc_WM_WinLayerPairGet(Unit, Win);
0000115a 1b30           5193 	mov	r27,r6
0000115c 1a38           5194 	mov	r26,r7
                        5195 	jarl	_loc_WM_WinLayerPairGet,lp
                        5195 <EXPANSION BEGIN>
                        5195 jarl22 _loc_WM_WinLayerPairGet , lp 

                                                                      Page 91
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
0000115e bfff7aef*      5195 <EXPANSION END>
00001162 0ae0           5196 	mov	r10,r28
                        5197 --1557:     if (win_layer_pair == R_NULL)
                        5198 --line1557
                        5199 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.319::
                        5200 .LDWlin319:
00001164 e0e1           5201 	cmp	zero,r28
00001166 ba05*          5202 	bne	.L4595
                        5203 --1558:     {
                        5204 --1559:         R_WM_SYS_REPORT_ERROR(Unit, R_WM_ERR_NULL_PTR_ARGUMENT, 0);
                        5205 --1560:         return 0;
                        5206 --line1560
                        5207 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.320::
                        5208 .LDWlin320:
00001168 0052           5209 	mov	0,r10
0000116a 853d*          5210 	br	.L4593
                        5211 .L4595:
                        5212 --1561:     }
                        5213 --1562:     
                        5214 --1563:     if (0 == NumEntries)
                        5215 --line1563
                        5216 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.321::
                        5217 .LDWlin321:
0000116c e0c9           5218 	cmp	zero,r25
0000116e ba05*          5219 	bne	.L4598
                        5220 --1564:     {
                        5221 --1565:         return 0;
                        5222 --line1565
                        5223 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.322::
                        5224 .LDWlin322:
00001170 0052           5225 	mov	0,r10
00001172 c535*          5226 	br	.L4593
                        5227 .L4598:
                        5228 --1566:     }
                        5229 --1567:     else
                        5230 --1568:     {
                        5231 --1569:         /* Layer 0 can't do alpha blending by CLUT alpha */
                        5232 --1570:         if (win_layer_pair->Layer == 0)
                        5233 --line1570
                        5234 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.323::
                        5235 .LDWlin323:
00001174 3c0f0500       5236 	ld.w	4[r28],r1
00001178 e009           5237 	cmp	zero,r1
0000117a ea1d*          5238 	bne	.L4602
                        5239 --1571:         {
                        5240 --	    .bs
                        5241 .LDW79:
                        5242 --1572:             uint32_t i;
                        5243 --1573:             for ( i=0; i<NumEntries; i++ )
                        5244 --line1573
                        5245 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.324::
                        5246 .LDWlin324:
0000117c 00ea           5247 	mov	0,r29
0000117e a51d*          5248 	br	.L4607
                        5249 .L4606:
                        5250 --1574:             {
                        5251 --1575:                 if ( Clut[i].A != 0xFF )
                        5252 --line1575
                        5253 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.325::
                        5254 .LDWlin325:
00001180 235f0100       5255 	ld.w	0[sp],r11

                                                                      Page 92
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
00001184 1df0           5256 	mov	r29,ep
00001186 c2f2           5257 	shl	2,ep
00001188 cbf1           5258 	add	r11,ep
0000118a 6308           5259 	sld.bu	3[ep],r1
0000118c 010601ff       5260 	addi	-255,r1,zero
00001190 8215*          5261 	be	.L4605
                        5262 --1576:                 {
                        5263 --1577:                     /* CLUTs using alpha values cause changes in Layer assignment */
                        5264 --1578:                     ((r_wm_Window_t*)Win)->Clut = Clut;
                        5265 --line1578
                        5266 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.326::
                        5267 .LDWlin326:
00001192 235f0100       5268 	ld.w	0[sp],r11
00001196 7a5f4100       5269 	st.w	r11,64[r26]
                        5270 --1579:                     ((r_wm_Window_t*)Win)->ClutNumEntries = NumEntries;
0000119a 7acf3d00       5271 	st.w	r25,60[r26]
                        5272 --1580:                     
                        5273 --1581:                     if (0 == loc_WM_WinReconfAll(Unit))
0000119e 1b30           5274 	mov	r27,r6
                        5275 	jarl	_loc_WM_WinReconfAll,lp
                        5275 <EXPANSION BEGIN>
                        5275 jarl22 _loc_WM_WinReconfAll , lp 
000011a0 bfffb2f2*      5275 <EXPANSION END>
000011a4 e051           5276 	cmp	zero,r10
000011a6 ba05*          5277 	bne	.L4610
                        5278 --1582:                     {
                        5279 --1583:                         return 0;
                        5280 --line1583
                        5281 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.327::
                        5282 .LDWlin327:
000011a8 0052           5283 	mov	0,r10
000011aa 851d*          5284 	br	.L4593
                        5285 .L4610:
                        5286 --1584:                     }
                        5287 --1585:                     return 1;
                        5288 --line1585
                        5289 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.328::
                        5290 .LDWlin328:
000011ac 0152           5291 	mov	1,r10
000011ae e515*          5292 	br	.L4593
                        5293 .L4605:
                        5294 --line1573
                        5295 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.329::
                        5296 .LDWlin329:
000011b0 41ea           5297 	add	1,r29
                        5298 .L4607:
000011b2 f9e9           5299 	cmp	r25,r29
000011b4 e1e5*          5300 	bl	.L4606
                        5301 --	    .es
                        5302 .LDW89:
                        5303 .L4602:
                        5304 --1586:                 }
                        5305 --1587:             }
                        5306 --1588:         }
                        5307 --1589:         
                        5308 --1590:         r_wm_DevSys[Unit].FrameStatusFlags |= (1uL << (R_WM_SYS_FRAME_STATUS_LAYER_0_CLUT_UPDATE_BIT+win_layer_pair->Layer));
                        5309 --line1590
                        5310 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.330::
                        5311 .LDWlin330:
000011b6 3c0f0500       5312 	ld.w	4[r28],r1
000011ba 1bf0           5313 	mov	r27,ep

                                                                      Page 93
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
000011bc fe00           5314 	sxh	ep
000011be 0172           5315 	mov	1,r14
000011c0 fef66000       5316 	mulhi	96,ep,ep
000011c4 2d0600000000*  5317 	mov	_r_wm_DevSys,r13
000011ca 4c0a           5318 	add	12,r1
000011cc e177c270       5319 	shl	r1,r14,r14
000011d0 cdf1           5320 	add	r13,ep
000011d2 2a0d           5321 	sld.w	84[ep],r1
000011d4 0e09           5322 	or	r14,r1
000011d6 2b0d           5323 	sst.w	r1,84[ep]
                        5324 --1591:     }
                        5325 --1592:     
                        5326 --1593:     return 1;
000011d8 0152           5327 	mov	1,r10
                        5328 .L4593:
                        5329 --	    .ef
                        5330 .LDW99:
000011da 4206ff70       5331 	dispose	1,{r25,r26,r27,r28,r29,r31},[lp]
                        5332 	.type	_R_WM_Sys_WindowClutSet,@function
                        5333 	.size	_R_WM_Sys_WindowClutSet,.-_R_WM_Sys_WindowClutSet
                        5334 	.align	2
                        5335 .LDW001:
                        5336 --_win_layer_pair	r28	local
                        5337 --_i	r29	local
                        5338 
                        5339 --_Unit	r27	param
                        5340 --_Win	r26	param
                        5341 --_NumEntries	r25	param
                        5342 --_Clut	0[sp]	param
                        5343 
                        5344 	.section ".bss","awb"
                        5345 .L4710:
                        5346 	.type	.L4710,@object
                        5347 	.size	.L4710,0
                        5348 	.data
                        5349 	.text
                        5350 
                        5351 --1594: }
                        5352 
                        5353 --1596: /***********************************************************
                        5354 --1597:   Function: R_WM_Sys_WindowColorKeyEnable
                        5355 --1598: */
                        5356 --1599: uint32_t R_WM_Sys_WindowColorKeyEnable(uint32_t Unit, const r_wm_Window_t* Win, uint32_t Enabled)
                        5357 	.align	2
                        5358 	.align	2
                        5359 	.global	_R_WM_Sys_WindowColorKeyEnable
                        5360 _R_WM_Sys_WindowColorKeyEnable:
000011de 8407e170       5361 	prepare	{r25,r26,r27,r28,r29,r31},2
000011e2 06d8           5362 	mov	r6,r27
000011e4 07e0           5363 	mov	r7,r28
000011e6 08c8           5364 	mov	r8,r25
                        5365 --	    .bf
                        5366 .LDW101:
                        5367 --1600: {
                        5368 --1601:     r_vdce_Error_t err;
                        5369 --1602:     r_vdce_CkARGB32_t ck_in;
                        5370 --1603:     r_vdce_CkARGB32_t ck_out;
                        5371 --1604:     r_wm_sys_vdce_WinLayerPair_t* win_layer_pair = loc_WM_WinLayerPairGet(Unit, Win);
000011e8 1b30           5372 	mov	r27,r6
000011ea 1c38           5373 	mov	r28,r7
                        5374 	jarl	_loc_WM_WinLayerPairGet,lp

                                                                      Page 94
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        5374 <EXPANSION BEGIN>
                        5374 jarl22 _loc_WM_WinLayerPairGet , lp 
000011ec bfffecee*      5374 <EXPANSION END>
000011f0 0ae8           5375 	mov	r10,r29
                        5376 --1605:     
                        5377 --1606:     if (win_layer_pair == R_NULL)
                        5378 --line1606
                        5379 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.331::
                        5380 .LDWlin331:
000011f2 e0e9           5381 	cmp	zero,r29
000011f4 ba05*          5382 	bne	.L4778
                        5383 --1607:     {
                        5384 --1608:         R_WM_SYS_REPORT_ERROR(Unit, R_WM_ERR_NULL_PTR_ARGUMENT, 0);
                        5385 --1609:         return 0;
                        5386 --line1609
                        5387 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.332::
                        5388 .LDWlin332:
000011f6 0052           5389 	mov	0,r10
000011f8 f575*          5390 	br	.L4776
                        5391 .L4778:
                        5392 --1610:     }
                        5393 --1611:     
                        5394 --1612:     if (0 == win_layer_pair->Layer)
                        5395 --line1612
                        5396 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.333::
                        5397 .LDWlin333:
000011fa 3d0f0500       5398 	ld.w	4[r29],r1
000011fe e009           5399 	cmp	zero,r1
00001200 ba05*          5400 	bne	.L4781
                        5401 --1613:     {
                        5402 --1614:         /* R_WM_ERR_COLOR_KEYING_NOT_SUPPORTED_FOR_LAYER */
                        5403 --1615:         R_WM_SYS_REPORT_ERROR(Unit, R_WM_ERR_COLOR_KEYING_NOT_SUPPORTED_FOR_LAYER, 0);
                        5404 --1616:         return 0;
                        5405 --line1616
                        5406 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.334::
                        5407 .LDWlin334:
00001202 0052           5408 	mov	0,r10
00001204 9575*          5409 	br	.L4776
                        5410 .L4781:
                        5411 --1617:     }
                        5412 --1618:     
                        5413 --1619:     /* The Layer must be disabled for Colorkey configuration */
                        5414 --1620:     loc_VDCE_LayerDisable(Unit, win_layer_pair->Layer);
                        5415 --line1620
                        5416 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.335::
                        5417 .LDWlin335:
00001206 3d3f0500       5418 	ld.w	4[r29],r7
0000120a 1b30           5419 	mov	r27,r6
                        5420 	jarl	_loc_VDCE_LayerDisable,lp
                        5420 <EXPANSION BEGIN>
                        5420 jarl22 _loc_VDCE_LayerDisable , lp 
0000120c bfffc2f9*      5420 <EXPANSION END>
                        5421 --1621:     
                        5422 --1622:     if (Enabled != 0)
                        5423 --line1622
                        5424 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.336::
                        5425 .LDWlin336:
00001210 e0c9           5426 	cmp	zero,r25
00001212 d23d*          5427 	be	.L4784
                        5428 --1623:     {
                        5429 --1624:         ck_in.R = Win->ColorKey.In.RgbKey.Red;

                                                                      Page 95
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        5430 --line1624
                        5431 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.337::
                        5432 .LDWlin337:
00001214 bc0f4500       5433 	ld.bu	69[r28],r1
00001218 430f0200       5434 	st.b	r1,2[sp]
                        5435 --1625:         ck_in.G = Win->ColorKey.In.RgbKey.Green;
0000121c 9c0f4700       5436 	ld.bu	70[r28],r1
00001220 430f0100       5437 	st.b	r1,1[sp]
                        5438 --1626:         ck_in.B = Win->ColorKey.In.RgbKey.Blue;
00001224 bc0f4700       5439 	ld.bu	71[r28],r1
00001228 430f0000       5440 	st.b	r1,0[sp]
                        5441 --1627:         ck_in.A = 0x00;
0000122c 43070300       5442 	st.b	zero,3[sp]
                        5443 --1628:         
                        5444 --1629:         ck_out.R = Win->ColorKey.Out.Red;
00001230 9c0f4900       5445 	ld.bu	72[r28],r1
00001234 430f0600       5446 	st.b	r1,6[sp]
                        5447 --1630:         ck_out.G = Win->ColorKey.Out.Green;
00001238 bc0f4900       5448 	ld.bu	73[r28],r1
0000123c 430f0500       5449 	st.b	r1,5[sp]
                        5450 --1631:         ck_out.B = Win->ColorKey.Out.Blue;
00001240 9c0f4b00       5451 	ld.bu	74[r28],r1
00001244 430f0400       5452 	st.b	r1,4[sp]
                        5453 --1632:         ck_out.A = Win->ColorKey.Out.Alpha;
00001248 bc0f4b00       5454 	ld.bu	75[r28],r1
0000124c 430f0700       5455 	st.b	r1,7[sp]
                        5456 --1633:         
                        5457 --1634:         /* Layer Alpha and Chroma Keying are exclusive. 
                        5458 --1635:            Chroma Keying overrides Layer Alpha. */
                        5459 --1636:         if((0 < win_layer_pair->Layer) && (win_layer_pair->Layer < 4))
00001250 3d0f0500       5460 	ld.w	4[r29],r1
00001254 e009           5461 	cmp	zero,r1
00001256 e30d*          5462 	bnh	.L4786
00001258 3d0f0500       5463 	ld.w	4[r29],r1
0000125c 640a           5464 	cmp	4,r1
0000125e a90d*          5465 	bnl	.L4786
                        5466 --1637:         {
                        5467 --1638:             if (R_VDCE_ERR_OK != R_VDCE_LayerAlphaConstDisable(Unit, win_layer_pair->Layer))
                        5468 --line1638
                        5469 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.338::
                        5470 .LDWlin338:
00001260 3d3f0500       5471 	ld.w	4[r29],r7
00001264 1b30           5472 	mov	r27,r6
                        5473 	jarl	_R_VDCE_LayerAlphaConstDisable,lp
                        5473 <EXPANSION BEGIN>
                        5473 jarl22 _R_VDCE_LayerAlphaConstDisable , lp 
00001266 80ff0000*      5473 <EXPANSION END>
0000126a e051           5474 	cmp	zero,r10
0000126c b205*          5475 	be	.L4786
                        5476 --1639:             {
                        5477 --1640:                 return 0;
                        5478 --line1640
                        5479 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.339::
                        5480 .LDWlin339:
0000126e 0052           5481 	mov	0,r10
00001270 b53d*          5482 	br	.L4776
                        5483 .L4786:
                        5484 --1641:             }
                        5485 --1642:         }
                        5486 --1643:         if (R_VDCE_ERR_OK != R_VDCE_LayerChromaKeyEnable(Unit, win_layer_pair->Layer, &ck_in, &ck_out))
                        5487 --line1643

                                                                      Page 96
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        5488 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.340::
                        5489 .LDWlin340:
00001272 3d3f0500       5490 	ld.w	4[r29],r7
00001276 1b30           5491 	mov	r27,r6
00001278 23460000       5492 	movea	0,sp,r8
0000127c 234e0400       5493 	movea	4,sp,r9
                        5494 	jarl	_R_VDCE_LayerChromaKeyEnable,lp
                        5494 <EXPANSION BEGIN>
                        5494 jarl22 _R_VDCE_LayerChromaKeyEnable , lp 
00001280 80ff0000*      5494 <EXPANSION END>
00001284 e051           5495 	cmp	zero,r10
00001286 9225*          5496 	be	.L4795
                        5497 --1644:         {
                        5498 --1645:             return 0;
                        5499 --line1645
                        5500 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.341::
                        5501 .LDWlin341:
00001288 0052           5502 	mov	0,r10
0000128a e52d*          5503 	br	.L4776
                        5504 .L4784:
                        5505 --1646:         }
                        5506 --1647:     }
                        5507 --1648:     else
                        5508 --1649:     {
                        5509 --1650:         if (R_VDCE_ERR_OK != R_VDCE_LayerChromaKeyDisable(Unit, win_layer_pair->Layer))
                        5510 --line1650
                        5511 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.342::
                        5512 .LDWlin342:
0000128c 3d3f0500       5513 	ld.w	4[r29],r7
00001290 1b30           5514 	mov	r27,r6
                        5515 	jarl	_R_VDCE_LayerChromaKeyDisable,lp
                        5515 <EXPANSION BEGIN>
                        5515 jarl22 _R_VDCE_LayerChromaKeyDisable , lp 
00001292 80ff0000*      5515 <EXPANSION END>
00001296 e051           5516 	cmp	zero,r10
00001298 b205*          5517 	be	.L4796
                        5518 --1651:         {
                        5519 --1652:             return 0;
                        5520 --line1652
                        5521 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.343::
                        5522 .LDWlin343:
0000129a 0052           5523 	mov	0,r10
0000129c d525*          5524 	br	.L4776
                        5525 .L4796:
                        5526 --1653:         }
                        5527 --1655:         /* Layer Alpha and Chroma Keying are exclusive. 
                        5528 --1656:            Layer Alpha can be enabled again. */
                        5529 --1657:         if((0 < win_layer_pair->Layer) && (win_layer_pair->Layer < 4))
                        5530 --line1657
                        5531 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.344::
                        5532 .LDWlin344:
0000129e 3d0f0500       5533 	ld.w	4[r29],r1
000012a2 e009           5534 	cmp	zero,r1
000012a4 a315*          5535 	bnh	.L4795
000012a6 3d0f0500       5536 	ld.w	4[r29],r1
000012aa 640a           5537 	cmp	4,r1
000012ac e90d*          5538 	bnl	.L4795
                        5539 --1658:         {
                        5540 --1659:             if (R_VDCE_ERR_OK != R_VDCE_LayerAlphaConstEnable(Unit, win_layer_pair->Layer, win_layer_pair->Win->Alpha))
                        5541 --line1659
                        5542 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.345::

                                                                      Page 97
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        5543 .LDWlin345:
000012ae 3d470100       5544 	ld.w	0[r29],r8
000012b2 1b30           5545 	mov	r27,r6
000012b4 3d3f0500       5546 	ld.w	4[r29],r7
000012b8 88473900       5547 	ld.bu	56[r8],r8
                        5548 	jarl	_R_VDCE_LayerAlphaConstEnable,lp
                        5548 <EXPANSION BEGIN>
                        5548 jarl22 _R_VDCE_LayerAlphaConstEnable , lp 
000012bc 80ff0000*      5548 <EXPANSION END>
000012c0 e051           5549 	cmp	zero,r10
000012c2 b205*          5550 	be	.L4795
                        5551 --1660:             {
                        5552 --1661:                 return 0;
                        5553 --line1661
                        5554 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.346::
                        5555 .LDWlin346:
000012c4 0052           5556 	mov	0,r10
000012c6 8515*          5557 	br	.L4776
                        5558 .L4795:
                        5559 --1662:             }
                        5560 --1663:         }
                        5561 --1664:     }
                        5562 --1665:     
                        5563 --1666:     
                        5564 --1667:     /* If the layer was enabled before configuration, enable it again */
                        5565 --1668:     if (Win->Status == R_WM_WINSTATUS_ENABLED)
                        5566 --line1668
                        5567 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.347::
                        5568 .LDWlin347:
000012c8 3c0f0100       5569 	ld.w	0[r28],r1
000012cc 620a           5570 	cmp	2,r1
000012ce ba0d*          5571 	bne	.L4805
                        5572 --1669:     {
                        5573 --1670:         err = loc_VDCE_LayerEnable(Unit, win_layer_pair->Layer);
                        5574 --line1670
                        5575 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.348::
                        5576 .LDWlin348:
000012d0 3d3f0500       5577 	ld.w	4[r29],r7
000012d4 1b30           5578 	mov	r27,r6
                        5579 	jarl	_loc_VDCE_LayerEnable,lp
                        5579 <EXPANSION BEGIN>
                        5579 jarl22 _loc_VDCE_LayerEnable , lp 
000012d6 bfffa2f8*      5579 <EXPANSION END>
000012da 0ad0           5580 	mov	r10,r26
                        5581 --1671:         if (R_VDCE_ERR_OK != err)
                        5582 --line1671
                        5583 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.349::
                        5584 .LDWlin349:
000012dc e0d1           5585 	cmp	zero,r26
000012de b205*          5586 	be	.L4805
                        5587 --1672:         {
                        5588 --1673:             return 0;
                        5589 --line1673
                        5590 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.350::
                        5591 .LDWlin350:
000012e0 0052           5592 	mov	0,r10
000012e2 a505*          5593 	br	.L4776
                        5594 .L4805:
                        5595 --1674:         }
                        5596 --1675:     }
                        5597 --1676:     

                                                                      Page 98
                                                              C:\Users\Frank\AppData\Local\Temp\gh_0000l8k1.si
                        5598 --1677:     return 1;
                        5599 --line1677
                        5600 ..lin.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window.351::
                        5601 .LDWlin351:
000012e4 0152           5602 	mov	1,r10
                        5603 .L4776:
                        5604 --	    .ef
                        5605 .LDW201:
000012e6 4406ff70       5606 	dispose	2,{r25,r26,r27,r28,r29,r31},[lp]
                        5607 	.type	_R_WM_Sys_WindowColorKeyEnable,@function
                        5608 	.size	_R_WM_Sys_WindowColorKeyEnable,.-_R_WM_Sys_WindowColorKeyEnable
                        5609 	.align	2
                        5610 .LDW301:
                        5611 --_err	r26	local
                        5612 --_ck_in	0[sp]	local
                        5613 --_ck_out	4[sp]	local
                        5614 --_win_layer_pair	r29	local
                        5615 
                        5616 --_Unit	r27	param
                        5617 --_Win	r28	param
                        5618 --_Enabled	r25	param
                        5619 
                        5620 	.section ".bss","awb"
                        5621 .L4954:
                        5622 	.type	.L4954,@object
                        5623 	.size	.L4954,0
                        5624 	.data
                        5625 	.text
                        5626 
                        5627 --1678: }
                        5628 	.align	2
                        5629 --_r_wm_DevSys	_r_wm_DevSys	import
                        5630 --_r_wm_DevCabps	_r_wm_DevCabps	import
                        5631 
                        5632 	.data
                        5633 	.ghsnote version,15
                        5634 	.ghsnote tools,3
                        5635 	.ghsnote options,144
                        5636 	.text
                        5637 	.align	2
                        5638 ..eof.C.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs.5Cobj.5Cr_sys_wm_window...43.3A.5Cgit.5Crh850.5Csrc.5Capp.5Cgfx_apps.5Csimple_draw.5Ctarget.5Cd1mx_mango_ghs..5BC5D028..0::
                        5639 .rh850_flags REGMODE22,DATA_ALIGN8,GP_FIX,EP_NONFIX,TP_FIX,REG2_RESERVE,G3M
